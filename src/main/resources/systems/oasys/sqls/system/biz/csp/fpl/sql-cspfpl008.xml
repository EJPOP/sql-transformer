<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/fpl/008">

	<!-- 질의서목록 조회 -->
	<select id="CSPFPL008DailySchSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
   			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			     , D1.CONT_STF_CNT_1    AS CONT_STF_CNT_1        /*계약직원수1*/
			     , D1.CONT_STF_CNT_2    AS CONT_STF_CNT_2        /*계약직원수2*/
			     , D1.CONT_STF_CNT_3   AS CONT_STF_CNT_3	/*계약직원수3*/
			     , D1.CONT_STF_CNT_4    AS CONT_STF_CNT_4        /*계약직원수4*/
			     , D1.CONT_STF_CNT_5    AS CONT_STF_CNT_5        /*계약직원수5*/
			     , D1.CONT_STF_CNT_6   AS CONT_STF_CNT_6	/*계약직원수6*/
			     , D1.CONT_STF_CNT_7    AS CONT_STF_CNT_7        /*계약직원수7*/
			     , D1.CONT_STF_CNT_8    AS CONT_STF_CNT_8        /*계약직원수8*/
			     , D1.CONT_STF_CNT_2+D1.CONT_STF_CNT_3    AS CONT_STF_CNT_9        /*계약직원수8*/
			 FROM TBCSPFPL005M D1 where 1=1 AND D1.INCD_DVSN_CD = 'A1'
		]]>
		<dynamic>
			<isNotEmpty prepend="AND" property="strDate">
				D1.WRIT_DT = #strDate#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<!-- 질의서목록 조회 -->
	<select id="CSPFPL008DailySchPortalSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #STR_DATE#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #STR_DATE#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			     , D1.CONT_STF_CNT_1    AS CONT_STF_CNT_1        /*계약직원수1*/
			     , D1.CONT_STF_CNT_2    AS CONT_STF_CNT_2        /*계약직원수2*/
			     , D1.CONT_STF_CNT_3   AS CONT_STF_CNT_3	/*계약직원수3*/
			     , D1.CONT_STF_CNT_4    AS CONT_STF_CNT_4        /*계약직원수4*/
			     , D1.CONT_STF_CNT_5    AS CONT_STF_CNT_5        /*계약직원수5*/
			     , D1.CONT_STF_CNT_6   AS CONT_STF_CNT_6	/*계약직원수6*/
			     , D1.CONT_STF_CNT_7    AS CONT_STF_CNT_7        /*계약직원수7*/
			     , D1.CONT_STF_CNT_8    AS CONT_STF_CNT_8        /*계약직원수8*/
			     , D1.CONT_STF_CNT_2+D1.CONT_STF_CNT_3    AS CONT_STF_CNT_9        /*계약직원수8*/
			 FROM TBCSPFPL005M D1 where 1=1
			 AND D1.WRIT_DT = #STR_DATE#
			 AND D1.INCD_DVSN_CD = 'A1'
		]]>
	</select>	

	<!-- 질의서번호 Max값 찾기 -->
	<select id="CSPFPL008DailySchNextDayPortalSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
 				SELECT min(WRIT_DT) as MINDATE
 						,case to_char(to_date(min(WRIT_DT), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB 
 					from tbcspfpl005m 
 						where 1=1 and writ_dt > #STR_DATE#
 						AND INCD_DVSN_CD = 'A1'
		]]>
	</select>
	
	<!-- 질의서번호 Max값 찾기 -->
	<select id="CSPFPL008DailySchNextDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
 				SELECT min(WRIT_DT) as MINDATE
 						,case to_char(to_date(min(WRIT_DT), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB 
 					from tbcspfpl005m 
 						where 1=1 and writ_dt > #strDate#
 						AND INCD_DVSN_CD = 'A1'
		]]>
	</select>
	
	<insert id="CSPFPL019EMainInsert" parameterClass="paramMap">
        <![CDATA[
        	INSERT INTO TBCSPFPL005M
        	(
        		WRIT_DT /*작성일*/,
				THDY_INCD_TXT	/*당일행사내용*/,
				NEDY_INCD_TXT	/*내일행사내용*/,
				THDY_INCD_TM_TXT	/*당일행사날짜내용*/,
				NEDY_INCD_TM_TXT	/*내일행사날짜내용*/,
				INCD_DVSN_CD	/*자료구분코드*/,
				INCD_MTRL_DVSN_CD	/*자료형태구분코드*/,
				THDY_INCD_PORTLET_TXT      /*당일행사포틀릿내용     - 2016.10.24 yyh */,
				NEDY_INCD_PORTLET_TXT      /*내일행사포틀릿내용     - 2016.10.24 yyh */,
				THDY_INCD_PORTLET_TM_TXT   /*당일행사시간포틀릿내용 - 2016.10.24 yyh */,
				NEDY_INCD_PORTLET_TM_TXT   /*내일행사시간포틀릿내용 - 2016.10.24 yyh */,
				FRT_USR_ID	/*최초사용자ID*/,	
				FNL_USR_ID	/*최종사용자ID*/,	
				FNL_DEAL_DPT_CD	/*최종거래부서*/,
				FNL_MNU_ID	/*최종메뉴ID*/,
				FRT_REGI_DH	/*최초등록일시*/,	
				FNL_MDF_DH	/*최종수정일시*/	
        	) VALUES (
        			#WRIT_DT# /*작성일*/,
					#THDY_INCD_TXT#	/*당일행사내용*/,
					#NEDY_INCD_TXT#	/*내일행사내용*/,
					#THDY_INCD_TM_TXT#	     /*당일행사날짜내용*/,
					#NEDY_INCD_TM_TXT#	 /*내일행사날짜내용*/,
					#INCD_DVSN_CD#  	        /*자료구분코드*/,
					#INCD_MTRL_DVSN_CD#	/*자료형태구분코드*/,
				    #THDY_INCD_PORTLET_TXT#,
				    #NEDY_INCD_PORTLET_TXT#, 
				    #THDY_INCD_PORTLET_TM_TXT#, 
				    #NEDY_INCD_PORTLET_TM_TXT#, 
	        		#FRT_USR_ID#,
					#FNL_USR_ID#,
					#FNL_DEAL_DPT_CD#,
					#FNL_MNU_ID#,
					SYSDATE,
					SYSDATE
        	)
        ]]>
	</insert>

	<update id="CSPFPL019EMainUpdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE 	TBCSPFPL005M
			SET	WRIT_DT = #WRIT_DT#,
					THDY_INCD_TXT	= #THDY_INCD_TXT#,
					NEDY_INCD_TXT	= #NEDY_INCD_TXT#,
					THDY_INCD_TM_TXT = #THDY_INCD_TM_TXT#	     /*당일행사날짜내용*/,
					NEDY_INCD_TM_TXT = #NEDY_INCD_TM_TXT#	 /*내일행사날짜내용*/,
					INCD_DVSN_CD = #INCD_DVSN_CD#  	        /*자료구분코드*/,
					INCD_MTRL_DVSN_CD = #INCD_MTRL_DVSN_CD#	/*자료형태구분코드*/,
				    THDY_INCD_PORTLET_TXT     = #THDY_INCD_PORTLET_TXT#     /*당일행사포틀릿내용     - 2016.10.24 yyh */,
				    NEDY_INCD_PORTLET_TXT     = #NEDY_INCD_PORTLET_TXT#     /*내일행사포틀릿내용     - 2016.10.24 yyh */,
				    THDY_INCD_PORTLET_TM_TXT  = #THDY_INCD_PORTLET_TM_TXT#  /*당일행사시간포틀릿내용 - 2016.10.24 yyh */,
				    NEDY_INCD_PORTLET_TM_TXT  = #NEDY_INCD_PORTLET_TM_TXT#  /*내일행사시간포틀릿내용 - 2016.10.24 yyh */,										
					FNL_USR_ID = #FNL_USR_ID#,
					FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#,
					FNL_MNU_ID = #FNL_MNU_ID#,
					FNL_MDF_DH = SYSDATE
			WHERE	WRIT_DT  = #WRIT_DT# /*작성일*/
			AND INCD_DVSN_CD = #INCD_DVSN_CD#
		]]>
	</update>
	
	<!-- 질의서목록 조회 -->
	<select id="CSPFPL019DailySchLiveSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
        	SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
   			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			     , D1.CONT_STF_CNT_1    AS CONT_STF_CNT_1        /*계약직원수1*/
			     , D1.CONT_STF_CNT_2    AS CONT_STF_CNT_2        /*계약직원수2*/
			     , D1.CONT_STF_CNT_3   AS CONT_STF_CNT_3	/*계약직원수3*/
			     , D1.CONT_STF_CNT_4    AS CONT_STF_CNT_4        /*계약직원수4*/
			     , D1.CONT_STF_CNT_5    AS CONT_STF_CNT_5        /*계약직원수5*/
			     , D1.CONT_STF_CNT_6   AS CONT_STF_CNT_6	/*계약직원수6*/
			     , D1.CONT_STF_CNT_7    AS CONT_STF_CNT_7        /*계약직원수7*/
			     , D1.CONT_STF_CNT_8    AS CONT_STF_CNT_8        /*계약직원수8*/
			     , D1.CONT_STF_CNT_2+D1.CONT_STF_CNT_3    AS CONT_STF_CNT_9        /*계약직원수8*/
			     
			     , D1.THDY_INCD_PORTLET_TXT      AS THDY_INCD_PORTLET_TXT     /* 당일행사포틀릿내용 - 2016.10.24 yyh*/
			     , D1.NEDY_INCD_PORTLET_TXT      AS NEDY_INCD_PORTLET_TXT     /* 내일행사포틀릿내용 - 2016.10.24 yyh*/
			     , D1.THDY_INCD_PORTLET_TM_TXT   AS THDY_INCD_PORTLET_TM_TXT  /* 당일행사시간포틀릿내용 - 2016.10.24 yyh*/
			     , D1.NEDY_INCD_PORTLET_TM_TXT   AS NEDY_INCD_PORTLET_TM_TXT  /* 내일행사시간포틀릿내용 - 2016.10.24 yyh*/
			     			     
			 FROM TBCSPFPL005M D1 
			 where 1=1 
		 		AND D1.INCD_DVSN_CD = 'A1'
		 		AND D1.WRIT_DT = #strDate#
		]]>
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL018DailySchNextDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			 select min(writ_dt) as writ_dt
			   from tbcspfpl005m
			  where writ_dt not in( select YE || MD as YEMD
			                          from TBBADDED013B)
			    and writ_dt >  #strDate#
			    AND INCD_DVSN_CD = 'A1'
		]]>
		<dynamic>
			<isNotEmpty prepend="AND" property="strDate">
				writ_dt >
				#strDate#
			</isNotEmpty>
		</dynamic>				
	</select>	
	
	

	<!-- 이전일일주요행사조회 -->
	<select id="CSPFPL018DailySchPreDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			 select max(writ_dt) as writ_dt
			   from tbcspfpl005m
			  where writ_dt not in( select YE || MD as YEMD
			                          from TBBADDED013B)
              AND INCD_DVSN_CD = 'A1'
		]]>
		<dynamic>
			<isNotEmpty prepend="AND" property="strDate">
				writ_dt &lt;
				#strDate#
			</isNotEmpty>
		</dynamic>		
	</select>
	
	<!-- 이전일일주요행사조회(입력) -->
	<select id="CSPFPL019DailySchPreDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			SELECT YE || MD AS YEMD
			FROM TBBADDED013B
			WHERE 1 = 1
			  AND YE = SUBSTR( #strDate#, 0, 4 )
			  AND MD = SUBSTR( #strDate#, - 4 )       
		]]>
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL019DailySchNextDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT YE || MD AS YEMD
			FROM TBBADDED013B
			WHERE 1 = 1
			  AND YE = SUBSTR( #strDate#, 0, 4 )
			  AND MD = SUBSTR( #strDate#, - 4 )             	
		]]>
		
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL019CheckSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT WRIT_DT,	INCD_DVSN_CD
			FROM TBCSPFPL005M
			WHERE 1 = 1
			  AND WRIT_DT = #strDate# 
			  AND INCD_DVSN_CD = 'A1'             	
		]]>
		
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL019DailySchLiveSelect2" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
		 SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
   			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			     , D1.CONT_STF_CNT_1    AS CONT_STF_CNT_1        /*계약직원수1*/
			     , D1.CONT_STF_CNT_2    AS CONT_STF_CNT_2        /*계약직원수2*/
			     , D1.CONT_STF_CNT_3   AS CONT_STF_CNT_3	/*계약직원수3*/
			     , D1.CONT_STF_CNT_4    AS CONT_STF_CNT_4        /*계약직원수4*/
			     , D1.CONT_STF_CNT_5    AS CONT_STF_CNT_5        /*계약직원수5*/
			     , D1.CONT_STF_CNT_6   AS CONT_STF_CNT_6	/*계약직원수6*/
			     , D1.CONT_STF_CNT_7    AS CONT_STF_CNT_7        /*계약직원수7*/
			     , D1.CONT_STF_CNT_8    AS CONT_STF_CNT_8        /*계약직원수8*/
			     , D1.CONT_STF_CNT_2+D1.CONT_STF_CNT_3    AS CONT_STF_CNT_9        /*계약직원수8*/
			     
			     , D1.THDY_INCD_PORTLET_TXT      AS THDY_INCD_PORTLET_TXT     /* 당일행사포틀릿내용 - 2016.10.24 yyh*/
			     , D1.NEDY_INCD_PORTLET_TXT      AS NEDY_INCD_PORTLET_TXT     /* 내일행사포틀릿내용 - 2016.10.24 yyh*/
			     , D1.THDY_INCD_PORTLET_TM_TXT   AS THDY_INCD_PORTLET_TM_TXT  /* 당일행사시간포틀릿내용 - 2016.10.24 yyh*/
			     , D1.NEDY_INCD_PORTLET_TM_TXT   AS NEDY_INCD_PORTLET_TM_TXT  /* 내일행사시간포틀릿내용 - 2016.10.24 yyh*/
			     
			 FROM TBCSPFPL005M D1 
			 where 1=1 
		 		AND D1.INCD_DVSN_CD = 'A1'
		 		AND D1.WRIT_DT = #strDate#   	
		]]>
		
	</select>	
	
</sqlMap> 