<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/ura/014">
	<select id="CSPURA014PSelectInfo" parameterClass="paramMap" resultClass="String">
		<![CDATA[
			SELECT	RMK_TXT
			FROM	TBCSPURA011D
			WHERE	STD_YE = #stdYe#
			AND		STD_SLN = #stdSln#
			AND		PLN_ACMP_DVSN_CD = #strPlnAcmpDvsnCd#
			AND		MN_DVSN_NM = #strMnDvsnNm#
        ]]>
	</select>
	
	<select id="CSPURA014PExistInfo" parameterClass="paramMap" resultClass="String">
		<![CDATA[
			SELECT	DECODE(MAX(STD_YE), NULL, 'N', 'Y') AS EXIST_YN
			FROM	TBCSPURA011D
			WHERE	STD_YE = #STD_YE#
			AND		STD_SLN = #STD_SLN#
			AND		PLN_ACMP_DVSN_CD = #PLN_ACMP_DVSN_CD#
			AND		MN_DVSN_NM = #MN_DVSN_NM#
        ]]>
	</select>
	
	<insert id="CSPURA014PInsertInfo" parameterClass="paramMap">
        <![CDATA[
			INSERT INTO TBCSPURA011D
			(
					STD_YE
				  , STD_SLN
				  , PLN_ACMP_DVSN_CD
				  , MN_DVSN_NM
				  , RMK_TXT
				  , FRT_USR_ID
				  , FNL_USR_ID
				  , FNL_DEAL_DPT_CD
				  , FNL_MNU_ID
				  , FRT_REGI_DH
				  , FNL_MDF_DH
			) VALUES (
					#STD_YE#
				  , #STD_SLN#
				  , #PLN_ACMP_DVSN_CD#
				  , #MN_DVSN_NM#
				  , #RMK_TXT#
				  , #FRT_USR_ID#
				  , #FNL_USR_ID#
				  , #FNL_DEAL_DPT_CD#
				  , #FNL_MNU_ID#
				  , SYSDATE
				  , SYSDATE
			)
        ]]>
	</insert>
	
	<update id="CSPURA014PUpdateInfo" parameterClass="paramMap">
		<![CDATA[
			UPDATE	TBCSPURA011D
			SET     RMK_TXT			  = #RMK_TXT#
				  , FNL_USR_ID        = #FNL_USR_ID#       
				  , FNL_DEAL_DPT_CD   = #FNL_DEAL_DPT_CD#    
				  , FNL_MNU_ID        = #FNL_MNU_ID#       
				  , FNL_MDF_DH        = SYSDATE            
			WHERE	STD_YE            = #STD_YE#
			  AND   STD_SLN           = #STD_SLN#
			  AND	PLN_ACMP_DVSN_CD  = #PLN_ACMP_DVSN_CD#
			  AND	MN_DVSN_NM		  = #MN_DVSN_NM#
		]]>
	</update>
	
	<delete id="CSPURA014PDeleteInfo" parameterClass="paramMap">
		<![CDATA[
			DELETE FROM TBCSPURA011D
			WHERE	STD_YE            = #STD_YE#
			  AND   STD_SLN           = #STD_SLN#
		]]>  
	</delete>
</sqlMap> 
