<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="faa/cav/007"> 
	  
	<parameterMap id="prcAmCCountParm" class="java.util.HashMap">
		<parameter property="p_prov_yymm"		jdbcType="VARCHAR"	javaType="java.lang.String" mode="IN" />
		<parameter property="p_prov_yyyy"		jdbcType="VARCHAR"	javaType="java.lang.String" mode="IN" />
		<parameter property="p_prov_mm"	        jdbcType="VARCHAR"	javaType="java.lang.String" mode="IN" />
		<parameter property="p_gubun"   		jdbcType="VARCHAR"	javaType="java.lang.String" mode="IN" />
		<parameter property="vRetCode"    	    jdbcType="VARCHAR"	javaType="java.lang.String" mode="OUT" />
		<parameter property="vUserMessage"	    jdbcType="VARCHAR"	javaType="java.lang.String" mode="OUT" />		
	</parameterMap>
		
	<!-- 세입금-->
	<procedure id="FAACAV007EMainWolGyeChck1" parameterMap="prcAmCCountParm">
		<![CDATA[  /* faa/cav/007/FAACAV007EMainWolGyeChck1 */ ]]>
		{ CALL BTJ_AA_AV_004_01(?, ?, ?, ?, ?, ?) }
	</procedure>
	<!-- 세출금-->		
	<procedure id="FAACAV007EMainWolGyeChck2" parameterMap="prcAmCCountParm">
		<![CDATA[  /* faa/cav/007/FAACAV007EMainWolGyeChck2 */ ]]>
		{ CALL BTJ_AA_AV_004_02(?, ?, ?, ?, ?, ?) }
	</procedure>
	<!-- 특별계정-->	
	<procedure id="FAACAV007EMainWolGyeChck3" parameterMap="prcAmCCountParm">
		<![CDATA[  /* faa/cav/007/FAACAV007EMainWolGyeChck3 */ ]]>
		{ CALL BTJ_AA_AV_004_03(?, ?, ?, ?, ?, ?) }
	</procedure>
	<!-- 국고예금-->	
	<procedure id="FAACAV007EMainWolGyeChck4" parameterMap="prcAmCCountParm">
		<![CDATA[  /* faa/cav/007/FAACAV007EMainWolGyeChck4 */ ]]>
		{ CALL BTJ_AA_AV_004_04(?, ?, ?, ?, ?, ?) }
	</procedure>
	
	<select id="FAACAV007R_01" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/007/FAACAV007R_01 */ ]]>
		SELECT A.MNSUM_YM
			   , dguard.decrypt ('TB_ENC', 'EAN', A.EAN) AS 암호화계좌번호
		       , A.MNSUM_ACNT_CD AS 월계회계코드
		       , A.ORG_NM AS 기관명
		       , A.ERR_TXT AS 오류내용
		       , A.CMP_AMT_7 AS AA
		       , A.CMP_AMT_2 AS BB
		       , A.CMP_AMT_3 AS CC
		       , A.CMP_AMT_4 AS DD
		       , A.CMP_AMT_5 AS EE
		 FROM   TWFAACAV043L A
		 WHERE  A.MNSUM_YM    = #strYm#
		   AND  A.MNSUM_DVSN_CD = #strMnSumGb#
		ORDER BY 암호화계좌번호, 월계회계코드
	</select>
	
	<select id="FAACAV007R_02" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/007/FAACAV007R_02 */ ]]>
		SELECT A.MNSUM_YM
			   , dguard.decrypt ('TB_ENC', 'EAN', A.EAN) AS 암호화계좌번호
		       , A.MNSUM_ACNT_CD AS 월계회계코드
		       , A.ORG_NM AS 기관명
		       , A.ERR_TXT AS 오류내용
		       , A.CMP_AMT_4 AS AA
		       , A.CMP_AMT_1 AS BB
		       , A.CMP_AMT_5 AS CC
		       , A.CMP_AMT_2 AS DD
		       , A.CMP_AMT_6 AS EE
		       , A.CMP_AMT_3 AS FF
		 FROM   TWFAACAV043L A
		 WHERE  A.MNSUM_YM    = #strYm#
		   AND  A.MNSUM_DVSN_CD = #strMnSumGb#
		ORDER BY 암호화계좌번호, 월계회계코드
	</select>
	
	<select id="FAACAV007R_03" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/007/FAACAV007R_03 */ ]]>
		SELECT A.MNSUM_YM
			   , dguard.decrypt ('TB_ENC', 'EAN', A.EAN) AS 암호화계좌번호
		       , A.MNSUM_ACNT_CD AS 월계회계코드
		       , A.ORG_NM AS 기관명
		       , A.ERR_TXT AS 오류내용
		       , A.CMP_AMT_4 AS AA
		       , A.CMP_AMT_1 AS BB
		       , A.CMP_AMT_5 AS CC
		       , A.CMP_AMT_2 AS DD
		       , A.CMP_AMT_3 AS EE
		 FROM   TWFAACAV043L A
		 WHERE  A.MNSUM_YM    = #strYm#
		   AND  A.MNSUM_DVSN_CD = #strMnSumGb#
		ORDER BY 암호화계좌번호, 월계회계코드
	</select>
</sqlMap> 
