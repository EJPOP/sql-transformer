<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/fpl/009">

	<!-- 질의서목록 조회 -->
	<select id="CSPFPL009DailySchSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
   			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #strDate#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			 FROM TBCSPFPL005M D1 where 1=1 AND D1.INCD_DVSN_CD = #strManager#
		]]>
		<dynamic>
			<isNotEmpty prepend="AND" property="strDate">
				D1.WRIT_DT = #strDate#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<!-- 질의서목록 조회 -->
	<select id="CSPFPL009DailySchPortalSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT D1.WRIT_DT         AS WRIT_DT			/*작성일*/
			     , D1.THDY_INCD_TXT   AS THDY_INCD_TXT	/*당일행사내용*/
			     , D1.NEDY_INCD_TXT    AS NEDY_INCD_TXT        /*내일행사내용*/
				 , D1.THDY_INCD_TM_TXT	/*당일행사날짜내용*/
				 , D1.NEDY_INCD_TM_TXT	/*내일행사날짜내용*/
				 , D1.INCD_DVSN_CD	/*자료구분코드*/
				 , D1.INCD_MTRL_DVSN_CD	/*자료형태구분코드*/			     
			     , D1.NOP_CNT_1    AS NOP_CNT_1        /*인원수1*/
			     , D1.NOP_CNT_2   AS NOP_CNT_2	/*인원수2*/
			     , D1.NOP_CNT_3    AS NOP_CNT_3        /*인원수3*/
			     , D1.NOP_CNT_4    AS NOP_CNT_4        /*인원수4*/
			     , D1.NOP_CNT_5   AS NOP_CNT_5	/*인원수5*/
			     , D1.NOP_CNT_6    AS NOP_CNT_6        /*인원수6*/
			     , D1.NOP_CNT_7    AS NOP_CNT_7        /*인원수7*/
			     , D1.NOP_CNT_8   AS NOP_CNT_8	/*인원수8*/
			     , D1.NOP_CNT_2+D1.NOP_CNT_3   AS NOP_CNT_9	/*인원수8*/
			     , D1.MOP_STF_CNT_1    AS MOP_STF_CNT_1        /*당원직원수1*/
			     , D1.MOP_STF_CNT_2    AS MOP_STF_CNT_2        /*당원직원수2*/
			     , D1.MOP_STF_CNT_3   AS MOP_STF_CNT_3	/*당원직원수3*/
			     , D1.MOP_STF_CNT_4    AS MOP_STF_CNT_4        /*당원직원수4*/
			     , D1.MOP_STF_CNT_5    AS MOP_STF_CNT_5        /*당원직원수5*/
			     , D1.MOP_STF_CNT_6   AS MOP_STF_CNT_6	/*당원직원수6*/
			     , D1.MOP_STF_CNT_7    AS MOP_STF_CNT_7        /*당원직원수7*/
			     , D1.MOP_STF_CNT_8    AS MOP_STF_CNT_8        /*당원직원수8*/
			     , D1.MOP_STF_CNT_2+D1.MOP_STF_CNT_3    AS MOP_STF_CNT_9        /*당원직원수8*/
			     , D1.NOMOP_STF_CNT_1   AS NOMOP_STF_CNT_1	/*수견직원수1*/
			     , D1.NOMOP_STF_CNT_2    AS NOMOP_STF_CNT_2        /*수견직원수2*/
			     , D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_3        /*수견직원수3*/
			     , D1.NOMOP_STF_CNT_4   AS NOMOP_STF_CNT_4	/*수견직원수4*/
			     , D1.NOMOP_STF_CNT_5    AS NOMOP_STF_CNT_5        /*수견직원수5*/
			     , D1.NOMOP_STF_CNT_6    AS NOMOP_STF_CNT_6        /*수견직원수6*/
			     , D1.NOMOP_STF_CNT_7   AS NOMOP_STF_CNT_7	/*수견직원수7*/
			     , D1.NOMOP_STF_CNT_8    AS NOMOP_STF_CNT_8        /*수견직원수8*/
			     , D1.NOMOP_STF_CNT_2+D1.NOMOP_STF_CNT_3    AS NOMOP_STF_CNT_9        /*수견직원수8*/
			     , D1.TMPTR_STF_CNT_1    AS TMPTR_STF_CNT_1        /*차출직원수1*/
			     , D1.TMPTR_STF_CNT_2   AS TMPTR_STF_CNT_2	/*차출직원수2*/
			     , D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_3        /*차출직원수3*/
			     , D1.TMPTR_STF_CNT_4    AS TMPTR_STF_CNT_4        /*차출직원수4*/
			     , D1.TMPTR_STF_CNT_5   AS TMPTR_STF_CNT_5	/*차출직원수5*/
			     , D1.TMPTR_STF_CNT_6    AS TMPTR_STF_CNT_6        /*차출직원수6*/
			     , D1.TMPTR_STF_CNT_7    AS TMPTR_STF_CNT_7        /*차출직원수7*/
			     , D1.TMPTR_STF_CNT_8    AS TMPTR_STF_CNT_8        /*차출직원수8*/
			     , D1.TMPTR_STF_CNT_2+D1.TMPTR_STF_CNT_3    AS TMPTR_STF_CNT_9        /*차출직원수8*/   
			     , case to_char(to_date(D1.WRIT_DT, 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as WRIT_DT_SUB
			     ,(SELECT F_GET_CALC_WORK_DT ('NEXT', #STR_DATE#) as MINDATE from dual where 1=1) as MINDATE
			     ,(select case to_char(to_date( ( SELECT F_GET_CALC_WORK_DT ('NEXT', #STR_DATE#) AS WORK_DT FROM DUAL), 'YYYYMMDD'), 'd') when 1 then '일' when 2 then '월' when 3 then '화' when 4 then '수' when 5 then '목' when 6 then '금' when 7 then '토' end as MIN_DT_SUB  from dual) as MIN_DT_SUB
			 FROM TBCSPFPL005M D1 where 1=1
			 AND D1.WRIT_DT = #STR_DATE#
			 AND D1.INCD_DVSN_CD = #strManager#
		]]>
	</select>	

	<insert id="CSPFPL022EMainInsert" parameterClass="paramMap">
        <![CDATA[
        	INSERT INTO TBCSPFPL005M
        	(
        		WRIT_DT /*작성일*/,
				THDY_INCD_TXT	/*당일행사내용*/,
				NEDY_INCD_TXT	/*내일행사내용*/,
				THDY_INCD_TM_TXT	/*당일행사날짜내용*/,
				NEDY_INCD_TM_TXT	/*내일행사날짜내용*/,
				INCD_DVSN_CD	/*자료구분코드*/,
				INCD_MTRL_DVSN_CD	/*자료형태구분코드*/,
				NOP_CNT_1	/*인원수1*/,
				NOP_CNT_2	/*인원수2*/,
				NOP_CNT_3	/*인원수3*/,
				NOP_CNT_4	/*인원수4*/,
				NOP_CNT_5	/*인원수5*/,
				NOP_CNT_6	/*인원수6*/,
				NOP_CNT_7	/*인원수7*/,
				NOP_CNT_8	/*인원수8*/,
				MOP_STF_CNT_1	/*당원직원수1*/,	
				MOP_STF_CNT_2	/*당원직원수2*/	,
				MOP_STF_CNT_3	/*당원직원수3*/	,
				MOP_STF_CNT_4	/*당원직원수4*/	,
				MOP_STF_CNT_5	/*당원직원수5*/	,
				MOP_STF_CNT_6	/*당원직원수6*/	,
				MOP_STF_CNT_7	/*당원직원수7*/	,
				MOP_STF_CNT_8	/*당원직원수8*/	,
				NOMOP_STF_CNT_1	/*수견직원수1*/,	
				NOMOP_STF_CNT_2	/*수견직원수2*/	,
				NOMOP_STF_CNT_3	/*수견직원수3*/	,
				NOMOP_STF_CNT_4	/*수견직원수4*/	,
				NOMOP_STF_CNT_5	/*수견직원수5*/	,
				NOMOP_STF_CNT_6	/*수견직원수6*/	,
				NOMOP_STF_CNT_7	/*수견직원수7*/	,
				NOMOP_STF_CNT_8	/*수견직원수8*/	,
				TMPTR_STF_CNT_1	/*차출직원수1*/	,
				TMPTR_STF_CNT_2	/*차출직원수2*/	,
				TMPTR_STF_CNT_3	/*차출직원수3*/	,
				TMPTR_STF_CNT_4	/*차출직원수4*/	,
				TMPTR_STF_CNT_5	/*차출직원수5*/	,
				TMPTR_STF_CNT_6	/*차출직원수6*/	,
				TMPTR_STF_CNT_7	/*차출직원수7*/	,
				TMPTR_STF_CNT_8	/*차출직원수8*/	,
				FRT_USR_ID	/*최초사용자ID*/,	
				FNL_USR_ID	/*최종사용자ID*/,	
				FNL_DEAL_DPT_CD	/*최종거래부서*/,
				FNL_MNU_ID	/*최종메뉴ID*/,
				FRT_REGI_DH	/*최초등록일시*/,	
				FNL_MDF_DH	/*최종수정일시*/	
        	) VALUES (
        			#WRIT_DT# /*작성일*/,
					#THDY_INCD_TXT#	/*당일행사내용*/,
					#NEDY_INCD_TXT#	/*내일행사내용*/,
					#THDY_INCD_TM_TXT#	     /*당일행사날짜내용*/,
					#NEDY_INCD_TM_TXT#	 /*내일행사날짜내용*/,
					#INCD_DVSN_CD#  	        /*자료구분코드*/,
					#INCD_MTRL_DVSN_CD#	/*자료형태구분코드*/,					
					#NOP_CNT_1#	/*인원수1*/,
					#NOP_CNT_2#	/*인원수2*/,
					#NOP_CNT_3#	/*인원수3*/,
					#NOP_CNT_4#	/*인원수4*/,
					#NOP_CNT_5#	/*인원수5*/,
					#NOP_CNT_6#	/*인원수6*/,
					#NOP_CNT_7#	/*인원수7*/,
					#NOP_CNT_8#	/*인원수8*/,
					#MOP_STF_CNT_1#	/*당원직원수1*/,	
					#MOP_STF_CNT_2#	/*당원직원수2*/,	
					#MOP_STF_CNT_3#	/*당원직원수3*/,	
					#MOP_STF_CNT_4#	/*당원직원수4*/,	
					#MOP_STF_CNT_5#	/*당원직원수5*/,	
					#MOP_STF_CNT_6#	/*당원직원수6*/,	
					#MOP_STF_CNT_7#	/*당원직원수7*/,	
					#MOP_STF_CNT_8#	/*당원직원수8*/,	
					#NOMOP_STF_CNT_1#	/*수견직원수1*/,	
					#NOMOP_STF_CNT_2#	/*수견직원수2*/,	
					#NOMOP_STF_CNT_3#	/*수견직원수3*/,	
					#NOMOP_STF_CNT_4#	/*수견직원수4*/,	
					#NOMOP_STF_CNT_5#	/*수견직원수5*/,	
					#NOMOP_STF_CNT_6#	/*수견직원수6*/,	
					#NOMOP_STF_CNT_7#	/*수견직원수7*/,	
					#NOMOP_STF_CNT_8#	/*수견직원수8*/,	
					#TMPTR_STF_CNT_1#	/*차출직원수1*/,	
					#TMPTR_STF_CNT_2#	/*차출직원수2*/,	
					#TMPTR_STF_CNT_3#	/*차출직원수3*/,	
					#TMPTR_STF_CNT_4#	/*차출직원수4*/,	
					#TMPTR_STF_CNT_5#	/*차출직원수5*/,	
					#TMPTR_STF_CNT_6#	/*차출직원수6*/,	
					#TMPTR_STF_CNT_7#	/*차출직원수7*/,	
					#TMPTR_STF_CNT_8#	/*차출직원수8*/,	
	        		#FRT_USR_ID#,
					#FNL_USR_ID#,
					#FNL_DEAL_DPT_CD#,
					#FNL_MNU_ID#,
					SYSDATE,
					SYSDATE
        	)
        ]]>
	</insert>

	<update id="CSPFPL022EMainUpdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE 	TBCSPFPL005M
			SET	WRIT_DT = #WRIT_DT#,
					THDY_INCD_TXT	= #THDY_INCD_TXT#,
					NEDY_INCD_TXT	= #NEDY_INCD_TXT#,
					THDY_INCD_TM_TXT = #THDY_INCD_TM_TXT#	     /*당일행사날짜내용*/,
					NEDY_INCD_TM_TXT = #NEDY_INCD_TM_TXT#	 /*내일행사날짜내용*/,
					INCD_DVSN_CD = #INCD_DVSN_CD#  	        /*자료구분코드*/,
					INCD_MTRL_DVSN_CD = #INCD_MTRL_DVSN_CD#	/*자료형태구분코드*/,							
					NOP_CNT_1	= #NOP_CNT_1#,
					NOP_CNT_2	= #NOP_CNT_2#,
					NOP_CNT_3	= #NOP_CNT_3#,
					NOP_CNT_4	= #NOP_CNT_4#,
					NOP_CNT_5	= #NOP_CNT_5#,
					NOP_CNT_6	= #NOP_CNT_6#,
					NOP_CNT_7	= #NOP_CNT_7#,
					NOP_CNT_8	= #NOP_CNT_8#,
					MOP_STF_CNT_1	= #MOP_STF_CNT_1#,
					MOP_STF_CNT_2	= #MOP_STF_CNT_2#,
					MOP_STF_CNT_3	= #MOP_STF_CNT_3#,
					MOP_STF_CNT_4	= #MOP_STF_CNT_4#,
					MOP_STF_CNT_5	= #MOP_STF_CNT_5#,
					MOP_STF_CNT_6	= #MOP_STF_CNT_6#,
					MOP_STF_CNT_7	= #MOP_STF_CNT_7#,
					MOP_STF_CNT_8	= #MOP_STF_CNT_8#,
					NOMOP_STF_CNT_1	= #NOMOP_STF_CNT_1#,
					NOMOP_STF_CNT_2	= #NOMOP_STF_CNT_2#,
					NOMOP_STF_CNT_3	= #NOMOP_STF_CNT_3#,
					NOMOP_STF_CNT_4	= #NOMOP_STF_CNT_4#,
					NOMOP_STF_CNT_5	= #NOMOP_STF_CNT_5#,
					NOMOP_STF_CNT_6	= #NOMOP_STF_CNT_6#,
					NOMOP_STF_CNT_7	= #NOMOP_STF_CNT_7#,
					NOMOP_STF_CNT_8	= #NOMOP_STF_CNT_8#,
					TMPTR_STF_CNT_1	= #TMPTR_STF_CNT_1#,
					TMPTR_STF_CNT_2	= #TMPTR_STF_CNT_2#,
					TMPTR_STF_CNT_3	= #TMPTR_STF_CNT_3#,
					TMPTR_STF_CNT_4	= #TMPTR_STF_CNT_4#,
					TMPTR_STF_CNT_5	= #TMPTR_STF_CNT_5#,
					TMPTR_STF_CNT_6	= #TMPTR_STF_CNT_6#,
					TMPTR_STF_CNT_7	= #TMPTR_STF_CNT_7#,
					TMPTR_STF_CNT_8	= #TMPTR_STF_CNT_8#,
					FNL_USR_ID = #FNL_USR_ID#,
					FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#,
					FNL_MNU_ID = #FNL_MNU_ID#,
					FNL_MDF_DH = SYSDATE
			WHERE	WRIT_DT  = #WRIT_DT# /*작성일*/
			AND INCD_DVSN_CD = #INCD_DVSN_CD#
		]]>
	</update>
	
	<!-- 질의서목록 조회 -->
	<select id="CSPFPL022DailySchLiveSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
		 SELECT MAX(Z1.WRIT_DT) as WRIT_DT,
		        MAX(z1.THDY_INCD_TXT) as THDY_INCD_TXT,
		        MAX(z1.NEDY_INCD_TXT) as NEDY_INCD_TXT,
		        MAX(z1.THDY_INCD_TM_TXT) as THDY_INCD_TM_TXT,
		        MAX(z1.NEDY_INCD_TM_TXT) as NEDY_INCD_TM_TXT,
		        MAX(z1.INCD_DVSN_CD) as INCD_DVSN_CD,
		        MAX(z1.INCD_MTRL_DVSN_CD) as INCD_MTRL_DVSN_CD,
		        MAX(Z1.NOP_CNT_1) as NOP_CNT_1,
		        MAX(Z1.NOP_CNT_2) as NOP_CNT_2,
		        MAX(z1.NOP_CNT_3) as NOP_CNT_3,
		        MAX(z1.NOP_CNT_4) as NOP_CNT_4,
		        MAX(Z1.NOP_CNT_5) as NOP_CNT_5,
		        MAX(Z1.NOP_CNT_6) as NOP_CNT_6,
		        MAX(z1.NOP_CNT_7) as NOP_CNT_7,
		        MAX(z1.NOP_CNT_8) as NOP_CNT_8,
		        MAX(z1.MOP_STF_CNT_1) as MOP_STF_CNT_1,
		        MAX(z1.MOP_STF_CNT_2) as MOP_STF_CNT_2,
		        MAX(Z1.MOP_STF_CNT_3) as MOP_STF_CNT_3,
		        MAX(Z1.MOP_STF_CNT_4) as MOP_STF_CNT_4,
		        MAX(z1.MOP_STF_CNT_5) as MOP_STF_CNT_5,
		        MAX(z1.MOP_STF_CNT_6) as MOP_STF_CNT_6,
		        MAX(Z1.MOP_STF_CNT_7) as MOP_STF_CNT_7,
		        MAX(Z1.MOP_STF_CNT_8) as MOP_STF_CNT_8,
		        MAX(z1.NOMOP_STF_CNT_1) as NOMOP_STF_CNT_1,
		        MAX(z1.NOMOP_STF_CNT_2) as NOMOP_STF_CNT_2,
		        MAX(Z1.NOMOP_STF_CNT_3) as NOMOP_STF_CNT_3,
		        MAX(Z1.NOMOP_STF_CNT_4) as NOMOP_STF_CNT_4,
		        MAX(z1.NOMOP_STF_CNT_5) as NOMOP_STF_CNT_5,
		        MAX(z1.NOMOP_STF_CNT_6) as NOMOP_STF_CNT_6,
		        MAX(Z1.NOMOP_STF_CNT_7) as NOMOP_STF_CNT_7,
		        MAX(Z1.NOMOP_STF_CNT_8) as NOMOP_STF_CNT_8,
		        MAX(z1.TMPTR_STF_CNT_1) as TMPTR_STF_CNT_1,
		        MAX(z1.TMPTR_STF_CNT_2) as TMPTR_STF_CNT_2,
		        MAX(Z1.TMPTR_STF_CNT_3) as TMPTR_STF_CNT_3,
		        MAX(Z1.TMPTR_STF_CNT_4) as TMPTR_STF_CNT_4,
		        MAX(Z1.TMPTR_STF_CNT_5) as TMPTR_STF_CNT_5,
		        MAX(Z1.TMPTR_STF_CNT_6) as TMPTR_STF_CNT_6,
		        MAX(Z1.TMPTR_STF_CNT_7) as TMPTR_STF_CNT_7,
		        MAX(Z1.TMPTR_STF_CNT_8) as TMPTR_STF_CNT_8,
		        MAX(z1.MOP_STF_CNT_1_A) as MOP_STF_CNT_1_A,
		        MAX(z1.MOP_STF_CNT_6_A) as MOP_STF_CNT_6_A,
		        MAX(Z1.MOP_STF_CNT_7_A) as MOP_STF_CNT_7_A,
		        MAX(z1.MOP_STF_CNT_5_A) as MOP_STF_CNT_5_A,
		        MAX(z1.NOMOP_STF_CNT_1_A) as NOMOP_STF_CNT_1_A,
		        MAX(z1.MOP_STF_CNT_2A) as MOP_STF_CNT_2A,
		        MAX(Z1.NOMOP_STF_CNT_2A) as NOMOP_STF_CNT_2A,
		        MAX(z1.TMPTR_STF_CNT_2A) as TMPTR_STF_CNT_2A
		   FROM ( SELECT D1.WRIT_DT AS WRIT_DT /*작성일*/,
		                 D1.THDY_INCD_TXT AS THDY_INCD_TXT /*당일행사내용*/,
		                 D1.NEDY_INCD_TXT AS NEDY_INCD_TXT /*내일행사내용*/,
		                 D1.THDY_INCD_TM_TXT AS THDY_INCD_TM_TXT /*당일행사시간내용*/,
		                 D1.NEDY_INCD_TM_TXT AS NEDY_INCD_TM_TXT /*내일행사시간내용*/,
		                 D1.INCD_DVSN_CD AS INCD_DVSN_CD /*행사구분코드*/,
		                 D1.INCD_MTRL_DVSN_CD AS INCD_MTRL_DVSN_CD /*행사자료구분코드*/,
		                 D1.NOP_CNT_1 AS NOP_CNT_1 /*인원수1*/,
		                 D1.NOP_CNT_2 AS NOP_CNT_2 /*인원수2*/,
		                 D1.NOP_CNT_3 AS NOP_CNT_3 /*인원수3*/,
		                 D1.NOP_CNT_4 AS NOP_CNT_4 /*인원수4*/,
		                 D1.NOP_CNT_5 AS NOP_CNT_5 /*인원수5*/,
		                 D1.NOP_CNT_6 AS NOP_CNT_6 /*인원수6*/,
		                 D1.NOP_CNT_7 AS NOP_CNT_7 /*인원수7*/,
		                 D1.NOP_CNT_8 AS NOP_CNT_8 /*인원수8*/,
		                 D1.MOP_STF_CNT_1 AS MOP_STF_CNT_1 /*당원직원수1*/,
		                 D1.MOP_STF_CNT_2 AS MOP_STF_CNT_2 /*당원직원수2*/,
		                 D1.MOP_STF_CNT_3 AS MOP_STF_CNT_3 /*당원직원수3*/,
		                 D1.MOP_STF_CNT_4 AS MOP_STF_CNT_4 /*당원직원수4*/,
		                 D1.MOP_STF_CNT_5 AS MOP_STF_CNT_5 /*당원직원수5*/,
		                 D1.MOP_STF_CNT_6 AS MOP_STF_CNT_6 /*당원직원수6*/,
		                 D1.MOP_STF_CNT_7 AS MOP_STF_CNT_7 /*당원직원수7*/,
		                 D1.MOP_STF_CNT_8 AS MOP_STF_CNT_8 /*당원직원수8*/,
		                 D1.NOMOP_STF_CNT_1 AS NOMOP_STF_CNT_1 /*수견직원수1*/,
		                 D1.NOMOP_STF_CNT_2 AS NOMOP_STF_CNT_2 /*수견직원수2*/,
		                 D1.NOMOP_STF_CNT_3 AS NOMOP_STF_CNT_3 /*수견직원수3*/,
		                 D1.NOMOP_STF_CNT_4 AS NOMOP_STF_CNT_4 /*수견직원수4*/,
		                 D1.NOMOP_STF_CNT_5 AS NOMOP_STF_CNT_5 /*수견직원수5*/,
		                 D1.NOMOP_STF_CNT_6 AS NOMOP_STF_CNT_6 /*수견직원수6*/,
		                 D1.NOMOP_STF_CNT_7 AS NOMOP_STF_CNT_7 /*수견직원수7*/,
		                 D1.NOMOP_STF_CNT_8 AS NOMOP_STF_CNT_8 /*수견직원수8*/,
		                 D1.TMPTR_STF_CNT_1 AS TMPTR_STF_CNT_1 /*차출직원수1*/,
		                 D1.TMPTR_STF_CNT_2 AS TMPTR_STF_CNT_2 /*차출직원수2*/,
		                 D1.TMPTR_STF_CNT_3 AS TMPTR_STF_CNT_3 /*차출직원수3*/,
		                 D1.TMPTR_STF_CNT_4 AS TMPTR_STF_CNT_4 /*차출직원수4*/,
		                 D1.TMPTR_STF_CNT_5 AS TMPTR_STF_CNT_5 /*차출직원수5*/,
		                 D1.TMPTR_STF_CNT_6 AS TMPTR_STF_CNT_6 /*차출직원수6*/,
		                 D1.TMPTR_STF_CNT_7 AS TMPTR_STF_CNT_7 /*차출직원수7*/,
		                 D1.TMPTR_STF_CNT_8 AS TMPTR_STF_CNT_8 /*차출직원수8*/,
		                 NULL AS MOP_STF_CNT_1_A,
		                 NULL AS MOP_STF_CNT_6_A,
		                 NULL AS MOP_STF_CNT_7_A,
		                 NULL AS MOP_STF_CNT_5_A,
		                 NULL AS NOMOP_STF_CNT_1_A,
		                 NULL AS MOP_STF_CNT_2A,
		                 NULL AS NOMOP_STF_CNT_2A,
		                 NULL AS TMPTR_STF_CNT_2A,
		                 NULL AS WRIT_DT_SUB,
		                 NULL AS MINDATE
		            FROM TBCSPFPL005M D1
		           WHERE 1=1
		             AND D1.WRIT_DT = #strDate#
		             AND D1.INCD_DVSN_CD =#strManager#
		           UNION ALL
		          SELECT NULL,
						 NULL,
						 NULL,
						 NULL,
						 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 NULL,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.WOK_DVSN_CD LIKE 'A%') AS MOP_STF_CNT_1_A,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.VAC_YN = 'Y'
		                       AND D2.WOK_DVSN_CD LIKE 'A%') AS MOP_STF_CNT_6_A,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.WOK_DVSN_CD LIKE 'AB%') AS MOP_STF_CNT_7_A,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.WOK_DVSN_CD LIKE 'AAB%') AS MOP_STF_CNT_5_A,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE SUBSTR(D2.CNB,
		                           0,
		                           1) IN '8'
		                       AND RQS_STA_CD = '3') AS NOMOP_STF_CNT_1_A,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '0') ) AS MOP_STF_CNT_2A,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '1') ) AS NOMOP_STF_CNT_2A,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD IN('2',
		                                    '3',
		                                    '9') ) ) AS TMPTR_STF_CNT_2A,
		                 ( SELECT CASE TO_CHAR(TO_DATE(D1.WRIT_DT,
		                           'YYYYMMDD'),
		                           'D') WHEN 1 THEN '일' WHEN 2 THEN '월' WHEN 3 THEN '화' WHEN 4 THEN '수' WHEN 5 THEN '목' WHEN 6 THEN '금' WHEN 7 THEN '토' END
		                      FROM TBCSPFPL005M D1
		                     WHERE 1=1
		                       AND D1.WRIT_DT = #strDate# AND D1.INCD_DVSN_CD = #strManager#) AS WRIT_DT_SUB,
		                 ( SELECT MIN(WRIT_DT) AS MINDATE
		                      FROM TBCSPFPL005M
		                     WHERE 1=1
		                       AND WRIT_DT > #strDate# AND INCD_DVSN_CD = #strManager#) AS MINDATE
		            FROM DUAL)Z1;  
		]]>
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL021DailySchNextDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			SELECT F_GET_CALC_WORK_DT ('NEXT',
			                 #strDate#) as WRIT_DT
			            from dual
			           where 1=1           
		]]>
	</select>	
	
	

	<!-- 이전일일주요행사조회 -->
	<select id="CSPFPL021DailySchPreDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			SELECT F_GET_CALC_WORK_DT ('BEFORE',
			                 #strDate#) as WRIT_DT
			            from dual
			           where 1=1      	                          
		]]>
	</select>
	
	<!-- 이전일일주요행사조회(입력) -->
	<select id="CSPFPL022DailySchPreDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[     	
			SELECT F_GET_CALC_WORK_DT ('BEFORE',
			                 #strDate#) as WRIT_DT
			            from dual
			           where 1=1        
		]]>
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL022DailySchNextDaySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT F_GET_CALC_WORK_DT ('NEXT',
			                 #strDate#) as WRIT_DT
			            from dual
			           where 1=1           	
		]]>
		
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL022CheckSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT WRIT_DT,	INCD_DVSN_CD
			FROM TBCSPFPL005M
			WHERE 1 = 1
			  AND WRIT_DT = #strDate# 
			  AND INCD_DVSN_CD = #strManager#           	
		]]>
		
	</select>	
	
	<!-- 다음일일주요행사조회 -->
	<select id="CSPFPL022DailySchLiveSelect2" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
		 SELECT MAX(z1.MOP_STF_CNT_1) as MOP_STF_CNT_1,
		        MAX(z1.MOP_STF_CNT_6) as MOP_STF_CNT_6,
		        MAX(Z1.MOP_STF_CNT_7) as MOP_STF_CNT_7,
		        MAX(z1.MOP_STF_CNT_5) as MOP_STF_CNT_5,
		        MAX(z1.TMPTR_STF_CNT_1) as TMPTR_STF_CNT_1,
		        MAX(z1.NOMOP_STF_CNT_1) as NOMOP_STF_CNT_1,
		        MAX(z1.MOP_STF_CNT_2A) as MOP_STF_CNT_2A,
		        MAX(Z1.NOMOP_STF_CNT_2A) as NOMOP_STF_CNT_2A,
		        MAX(z1.TMPTR_STF_CNT_2A) as TMPTR_STF_CNT_2A,
		        MAX(z1.TMPTR_STF_CNT_2) as TMPTR_STF_CNT_2,
		        MAX(z1.TMPTR_STF_CNT_3) as TMPTR_STF_CNT_3,
		        MAX(z1.TMPTR_STF_CNT_4) as TMPTR_STF_CNT_4,
		        MAX(z1.TMPTR_STF_CNT_5) as TMPTR_STF_CNT_5,
		        MAX(z1.TMPTR_STF_CNT_6) as TMPTR_STF_CNT_6,
		        MAX(z1.TMPTR_STF_CNT_7) as TMPTR_STF_CNT_7,
		        MAX(z1.TMPTR_STF_CNT_8) as TMPTR_STF_CNT_8,
		        MAX(z1.NOP_CNT_1) AS NOP_CNT_1,
		        MAX(z1.NOP_CNT_2) AS NOP_CNT_2,
		        MAX(z1.NOP_CNT_3) AS NOP_CNT_3,
		        MAX(z1.NOP_CNT_4) AS NOP_CNT_4,
		        MAX(z1.NOP_CNT_5) AS NOP_CNT_5,
		        MAX(z1.NOP_CNT_6) AS NOP_CNT_6,
		        MAX(z1.NOP_CNT_7) AS NOP_CNT_7,
		        MAX(z1.NOP_CNT_8) AS NOP_CNT_8,
		        MAX(z1.MOP_STF_CNT_2) AS MOP_STF_CNT_2,
		        MAX(z1.MOP_STF_CNT_3) AS MOP_STF_CNT_3,
		        MAX(z1.MOP_STF_CNT_4) AS MOP_STF_CNT_4,
		        MAX(z1.MOP_STF_CNT_8) AS MOP_STF_CNT_8,
		        MAX(z1.NOMOP_STF_CNT_2) AS NOMOP_STF_CNT_2,
		        MAX(z1.NOMOP_STF_CNT_3) AS NOMOP_STF_CNT_3,
		        MAX(z1.NOMOP_STF_CNT_4) AS NOMOP_STF_CNT_4,
		        MAX(z1.NOMOP_STF_CNT_5) AS NOMOP_STF_CNT_5,
		        MAX(z1.NOMOP_STF_CNT_6) AS NOMOP_STF_CNT_6,
		        MAX(z1.NOMOP_STF_CNT_7) AS NOMOP_STF_CNT_7,
		        MAX(z1.NOMOP_STF_CNT_8) AS NOMOP_STF_CNT_8
		   FROM ( SELECT NULL AS MOP_STF_CNT_1,
		                 NULL AS MOP_STF_CNT_6,
		                 NULL AS MOP_STF_CNT_7,
		                 NULL AS MOP_STF_CNT_5,
		                 NULL AS TMPTR_STF_CNT_1,
		                 NULL AS TMPTR_STF_CNT_2,
		                 NULL AS TMPTR_STF_CNT_3,
		                 0 AS TMPTR_STF_CNT_4,
		                 0 AS TMPTR_STF_CNT_5,
		                 0 AS TMPTR_STF_CNT_6,
		                 0 AS TMPTR_STF_CNT_7,
		                 0 AS TMPTR_STF_CNT_8,
		                 NULL AS NOMOP_STF_CNT_1,
		                 NULL AS MOP_STF_CNT_2A,
		                 NULL AS NOMOP_STF_CNT_2A,
		                 NULL AS TMPTR_STF_CNT_2A,
		                 NULL AS WRIT_DT_SUB,
		                 NULL AS MINDATE,
		                 '0' AS NOP_CNT_1,
		                 '0' AS NOP_CNT_2,
		                 '0' AS NOP_CNT_3,
		                 '0' AS NOP_CNT_4,
		                 '0' AS NOP_CNT_5,
		                 '0' AS NOP_CNT_6,
		                 '0' AS NOP_CNT_7,
		                 '0' AS NOP_CNT_8,
		                 NULL AS MOP_STF_CNT_2,
		                 NULL AS MOP_STF_CNT_3,
		                 '0' AS MOP_STF_CNT_4,
		                 '0' AS MOP_STF_CNT_8,
		                 NULL AS NOMOP_STF_CNT_2,
		                 NULL AS NOMOP_STF_CNT_3,
		                 '0' AS NOMOP_STF_CNT_4,
		                 '0' AS NOMOP_STF_CNT_5,
		                 '0' AS NOMOP_STF_CNT_6,
		                 '0' AS NOMOP_STF_CNT_7,
		                 '0' AS NOMOP_STF_CNT_8
		            FROM TBCSPFPL005M D1
		           WHERE 1=1
		             AND D1.WRIT_DT = #strDate#
		             AND D1.INCD_DVSN_CD = #strManager#
		           UNION ALL
		          SELECT (/*  당원직원 총원  */
					SELECT COUNT(*) 
					  FROM TBDCMACM001M 
					 WHERE 1=1
					   AND DPT_CD <> '880880'
					   AND CRNT_DPT_APM_DT IS NOT NULL
					   AND USR_ID NOT LIKE 'test%'
					   AND WOK_DVSN_CD LIKE 'A%'
					) AS MOP_STF_CNT_1,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.VAC_YN = 'Y'
		                       AND D2.WOK_DVSN_CD LIKE 'A%') AS MOP_STF_CNT_6,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.WOK_DVSN_CD LIKE 'AB%') AS MOP_STF_CNT_7,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE D2.WOK_DVSN_CD LIKE 'AAB%') AS MOP_STF_CNT_5,
		                 ( SELECT COUNT(B.PCT_CNB)
					  FROM TBBADDED002M A, TBBADDED005L B
					 WHERE 1=1
					   AND A.BZT_YR = B.BZT_YR
					   AND A.BZT_SNO = B.BZT_SNO
					   AND A.BZT_YR = SUBSTR('201410013', 0, 4)
					   AND B.BZT_STR_DT <= #strDate#
					   AND B.BZT_END_DT >= #strDate#
					   AND A.BZT_BRDV_CD NOT IN ('062000','062500','062600','062700','062800','071300','200000','200010','200100','200110','200120')
					   AND A.BZT_DVSN_CD = '1'
					   AND B.STF_DVSN_CD IN('2',
										                 '3',
										                 '9')) as TMPTR_STF_CNT_1,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD IN('2',
		                                    '3',
		                                    '9') ) ) as TMPTR_STF_CNT_2,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '2'
		                                AND A.STF_DVSN_CD = '2' ) ) as TMPTR_STF_CNT_3,
		                 0 as TMPTR_STF_CNT_4,
		                 0 as TMPTR_STF_CNT_5,
		                 0 as TMPTR_STF_CNT_6,
		                 0 as TMPTR_STF_CNT_7,
		                 0 as TMPTR_STF_CNT_8,
		                 ( SELECT COUNT(*)
		                      FROM TBDCMACM001M D2
		                     WHERE SUBSTR(D2.CNB,
		                           0,
		                           1) IN '8'
		                       AND RQS_STA_CD = '3') AS NOMOP_STF_CNT_1,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '0') ) AS MOP_STF_CNT_2A,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '1') ) AS NOMOP_STF_CNT_2A,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD IN('2',
		                                    '3',
		                                    '9') ) ) AS TMPTR_STF_CNT_2A,
		                 ( SELECT CASE TO_CHAR(TO_DATE(D1.WRIT_DT,
		                           'YYYYMMDD'),
		                           'D') WHEN 1 THEN '일' WHEN 2 THEN '월' WHEN 3 THEN '화' WHEN 4 THEN '수' WHEN 5 THEN '목' WHEN 6 THEN '금' WHEN 7 THEN '토' END
		                      FROM TBCSPFPL005M D1
		                     WHERE 1=1
		                       AND D1.WRIT_DT = #strDate# AND D1.INCD_DVSN_CD = #strManager#) AS WRIT_DT_SUB,
		                 ( SELECT MIN(WRIT_DT) AS MINDATE
		                      FROM TBCSPFPL005M
		                     WHERE 1=1
		                       AND WRIT_DT > #strDate# AND INCD_DVSN_CD = #strManager#) AS MINDATE,
		                 '0' AS NOP_CNT_1,
		                 '0' AS NOP_CNT_2,
		                 '0' AS NOP_CNT_3,
		                 '0' AS NOP_CNT_4,
		                 '0' AS NOP_CNT_5,
		                 '0' AS NOP_CNT_6,
		                 '0' AS NOP_CNT_7,
		                 '0' AS NOP_CNT_8,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '0') ) AS MOP_STF_CNT_2,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '2'
		                                AND A.STF_DVSN_CD = '0') ) AS MOP_STF_CNT_3,
		                 '0' AS MOP_STF_CNT_4,
		                 '0' AS MOP_STF_CNT_8,
						 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '1'
		                                AND A.STF_DVSN_CD = '1') ) AS NOMOP_STF_CNT_2,
		                 ( SELECT COUNT(*)
		                      FROM ( SELECT PCT_CNB
		                               FROM TBBADDED005L A,
		                                    TBBADDED002M B
		                              WHERE B.BZT_YR = A.BZT_YR
		                                AND B.BZT_SNO = A.BZT_SNO
		                                AND #strDate# BETWEEN A.BZT_STR_DT
		                                AND A.BZT_END_DT
		                                AND #strDate# BETWEEN B.AUD_STR_DT
		                                AND B.AUD_END_DT
		                                AND B.BZT_DVSN_CD = '2'
		                                AND A.STF_DVSN_CD = '1' ) ) AS NOMOP_STF_CNT_3,
		                 '0' AS NOMOP_STF_CNT_4,
		                 '0' AS NOMOP_STF_CNT_5,
		                 '0' AS NOMOP_STF_CNT_6,
		                 '0' AS NOMOP_STF_CNT_7,
		                 '0' AS NOMOP_STF_CNT_8
		            FROM DUAL) Z1;        	
		]]>
		
	</select>	
	
</sqlMap> 