<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="faa/cav/022"> 
	 
	<!--오류목록-->
	<select id="FAACAV022EMainselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/022/FAACAV022EMainselect */ ]]>
		<include refid="include.pageSelct" />
        <![CDATA[       
		SELECT ROWNUM AS RN,A.COPT_CD||'-'||A.ACNT_CD||'-'||A.BLL_CD||'-'||A.PROF_DRTR_SRNO||'-'|| A.DL_XPN_RCDB_PBSVT_SRNO PROF_DRTR_SG,
		       A.COPT_CD, A.ACNT_CD, A.BLL_CD, A.PROF_DRTR_SRNO, A.DL_XPN_RCDB_PBSVT_SRNO, A.PROF_YM,A.ACP_DH
		       , A.HNDL_STA_YN, A.HNDL_DH ,B.ORG_NM,F_AV_ACNT_CD_NM(A.ACNT_CD) ACNTNM,DECODE(B.ABLT_DT,'999999','') ABLT_DT,B.MDF_PEN_NM,B.TNB,
		       F_AV_BLL_COPT_CD_NM(A.COPT_CD) COPTNM
		       FROM TWFAACAV016M A,TWFAACAV003M B
		       WHERE 1 = 1
		]]>

		<isNotEmpty property="strMm">	 /*증명월이 있으면 */	   
			   AND A.PROF_YM     = #strYm#
		</isNotEmpty>
		<isEmpty property="strMm">	/*증명월이 없으면 */	
			   AND A.PROF_YM    BETWEEN  #strYr#||'00' AND #strYr#||'13'
		</isEmpty>
		<isNotEmpty property="strCoptCd">	 	   
			   AND A.COPT_CD     = #strCoptCd#
		</isNotEmpty>   	
		<isNotEmpty property="strAcntCd">	 	   
			   AND A.ACNT_CD     = #strAcntCd#
		</isNotEmpty>
		<isNotEmpty property="strBllCd">
						 <!-- 소관코드 OR 회계코드 중 하나라도 입력했을 경우 -->
				AND 1 = CASE WHEN #strCoptCd# IS NOT NULL OR #strAcntCd# IS NOT NULL
						   			 <!-- 증명책임자일련번호를 입력했을 경우 -->
			                 THEN CASE WHEN #strProfDrtrSrno# IS NOT NULL
			               			   			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                           THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                     THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                          END
			                                     <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 --> 
			                                     ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                          END
			                                END
			                         <!-- 증명책임자일련번호를 입력하지 않았을 경우 -->
			                         		   <!-- 계산서코드를 '17,18'로 입력한 경우 -->
			                           ELSE CASE WHEN #strBllCd# IN ('17', '18')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                     THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                               THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                    END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                               ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                         THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                              END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                         ELSE CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                              END
			                                                    END                                                    
			                                          END
			                                   <!-- 계산서코드를 '19'로 입력한 경우 -->       
			                                   WHEN #strBllCd# = '19'
			                                   			   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->       
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END		
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->        	                                                            
			                                                       ELSE CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                       END  
			                                   <!-- 계산서코드를 '22,23,24'로 입력한 경우 -->        
			                                   WHEN #strBllCd# IN ('22', '23', '24')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                       END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                         ELSE CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                              END
			                                                    END                                                    
			                                          END 
			                                   <!-- 계산서코드를 '42,43'로 입력한 경우 -->
			                         		   WHEN #strBllCd# IN ('42', '43')
			                         		               <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                     THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                 THEN CASE WHEN A.BLL_CD IN ('42', '43') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                      END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                               ELSE CASE WHEN A.BLL_CD IN ('42', '43') THEN '1'
			                                                    END
			                                          END			                                                                                                        
			                                   <!-- 그 외의 계산서코드일 경우 -->
			                         		   ELSE        <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                          CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                 THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                      END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                               ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                                    END
			                                          END                            
			                              END
			                    END
			             <!-- 소관코드 and 회계코드를 입력하지 않았을 경우 -->
			             ELSE 	 	 <!-- 증명책임자일련번호를 입력했을 경우 -->
			                    CASE WHEN #strProfDrtrSrno# IS NOT NULL
			               			   			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                         THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                   THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                        END
			                                     <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 --> 
			                                   ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                        END
			                              END
			                         <!-- 증명책임자일련번호를 입력하지 않았을 경우 -->
			                         		   <!-- 계산서코드를 '17,18'로 입력한 경우 -->
			                         ELSE CASE WHEN #strBllCd# IN ('17', '18')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                             			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                       ELSE CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                       END			                                  
			                                   <!-- 계산서코드를 '19'로 입력한 경우 -->       
			                                   WHEN #strBllCd# = '19'
			                                   			   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->       
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END		
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->        	                                                            
			                                                       ELSE CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                        END  
			                                   <!-- 계산서코드를 '22,23,24'로 입력한 경우 -->        
			                                   WHEN #strBllCd# IN ('22', '23', '24')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                       ELSE CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                 END                                                    
			                                        END 
			                                   <!-- 계산서코드를 '42,43'로 입력한 경우 -->
			                         		   WHEN #strBllCd# IN ('42', '43')
			                         		               <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                   THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                             THEN CASE WHEN A.BLL_CD IN ('42', '43') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                  END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                             ELSE CASE WHEN A.BLL_CD IN ('42', '43') THEN '1'
			                                                  END
			                                        END			                                                                                                        
			                                   <!-- 그 외의 계산서코드일 경우 -->
			                         		   ELSE        <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                        CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                             THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                  END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                             ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                                  END
			                                        END		  
			                              END
			                    END                      
			        END
		</isNotEmpty>	
		<isNotEmpty property="strProfDrtrSrno">	 	   
			   AND A.PROF_DRTR_SRNO     = #strProfDrtrSrno#
		</isNotEmpty>
		
		<isEqual property="strFildSsecYn" compareValue="N">
			<isNotEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
			</isNotEmpty>
			<isEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = '000'
			</isEmpty>	
		</isEqual>
		
		<isEqual property="strFildSsecYn" compareValue="Y">
			<isNotEmpty property="strDlXpnRcdbPbsvtSrno">
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
			</isNotEmpty>
			<isEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000'
			</isEmpty>	
		</isEqual>	
		
		<![CDATA[ 
		        AND A.COPT_CD = B.COPT_CD
	            AND A.ACNT_CD = B.ACNT_CD
	            AND A.BLL_CD  = B.BLL_CD
	            AND A.PROF_DRTR_SRNO = B.PROF_DRTR_SRNO
	            AND A.DL_XPN_RCDB_PBSVT_SRNO = B.DL_XPN_RCDB_PBSVT_SRNO
				AND  EXISTS ( SELECT 'x' from TWFAACAV068L D 
							  WHERE A.COPT_CD = D.COPT_CD
					            AND A.ACNT_CD = D.ACNT_CD
					            AND A.BLL_CD  = D.BLL_CD
					            AND A.PROF_DRTR_SRNO = D.PROF_DRTR_SRNO
					            AND A.DL_XPN_RCDB_PBSVT_SRNO = D.DL_XPN_RCDB_PBSVT_SRNO )
 		
		]]>	
		<include refid="include.pageOrder" />
		ORDER BY COPT_CD, ACNT_CD, BLL_CD, PROF_DRTR_SRNO, DL_XPN_RCDB_PBSVT_SRNO, PROF_YM,ACP_DH		
	</select>
	
	<select id="FAACAV022EMainDtlselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/022/FAACAV022EMainDtlselect */ ]]>
	    SELECT DISTINCT A.SUM_DVSN_ID AS DVSN,A.ERR_SUBJ_NM AS ERR_SUBJ,A.DISAG_CD,A.BLL_AMT,A.RE_BLL_AMT,A.CHEK_MGN, B.RMK_2 AS ETC2
		    FROM TWFAACAV068L A,TWFAACAV024C B
	    	WHERE 1=1
				AND A.PROF_YM     = #strYm#
				AND A.COPT_CD     = #strCoptCd#
				AND A.ACNT_CD     = #strAcntCd#
				AND A.BLL_CD	  = #strBllCd#
				AND A.PROF_DRTR_SRNO     = #strProfDrtrSrno#
				AND A.DL_XPN_RCDB_PBSVT_SRNO     = #strDlXpnRcdbPbsvtSrno#
				AND A.WRK_DH     = #strWorkDh#
				AND A.DISAG_CD = B.ACNT_CD(+)
				AND B.ACNT_DVSN_CD = '12'
				ORDER BY SUM_DVSN_ID, ERR_SUBJ_NM
			
	</select>
	
	<select id="FAACAV022EMainDtlselect2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/022/FAACAV022EMainDtlselect */ ]]>
		SELECT HNDL_STA_YN
		       FROM TWFAACAV016M A
		       WHERE 1 = 1
			   AND A.PROF_YM = #strYm#
			   AND A.COPT_CD = #strCoptCd#
			   AND A.ACNT_CD = #strAcntCd#
			   AND  A.BLL_CD = #strBllCd#
			   AND A.PROF_DRTR_SRNO = #strProfDrtrSrno#
			   AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#					
	</select>	

	<select id="FAACAV022PMainSebuSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/022/FAACAV022PMainSebuSelect */ ]]>
        <![CDATA[       
			SELECT SUM_DVSN_ID,ACCT_CD||'-'||CHIF_CD||'-'||SSEC_CD||'-'||DITM_CD||'-'||SITM_CD AS ACCT_CD
			        ,CHIF_CD,SSEC_CD,DITM_CD,SITM_CD 
					,THMN_EXPN_BND_AMT,THMN_TO_EXPN_BND_ATAG,THMN_EXPN_AMT,LTMN_TO_EXPN_ATAG,THMN_REN_EXPN_AMT
					,THMN_SUBJ_ASO_RCTF_EXPN_AMT,EXPN_BND_BL
					,COPT_CD,ACNT_CD,BLL_CD,PROF_DRTR_SRNO,DL_XPN_RCDB_PBSVT_SRNO,PROF_YM
			FROM TWFAACAV048L
		       WHERE 1 = 1
		        AND COPT_CD = #strCoptCd#
	            AND ACNT_CD = #strAcntCd#
	            AND BLL_CD  = #strBllCd#
	            AND PROF_DRTR_SRNO = #strProfDrtrSrno#
	            AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
	            AND PROF_YM = #strYm#
	        ORDER BY SUM_DVSN_ID DESC ,ACCT_CD,CHIF_CD,SSEC_CD,DITM_CD,SITM_CD     
		]]>

    </select>
    
	<select id="FAACAV022EErrListExcelselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/022/FAACAV022EErrListExcelselect */ ]]>
		<![CDATA[
    	SELECT 	C.ORG_NM,
				F_AV_BLL_COPT_CD_NM(A.COPT_CD) AS COPTNM,
				F_AV_ACNT_CD_NM(A.ACNT_CD) AS ACNTNM,
				A.COPT_CD||'-'||A.ACNT_CD||'-'||A.BLL_CD||'-'||A.PROF_DRTR_SRNO||'-'|| A.DL_XPN_RCDB_PBSVT_SRNO AS PROF_DRTR_SG,
				A.PROF_YM,
				A.WRK_DH ,
				TO_CHAR(A.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH,
				TO_CHAR(A.HNDL_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
				B.ERR_NO,
				D.RMK_2
		FROM   	TWFAACAV069H A,
				TWFAACAV068L B,
				TWFAACAV003M C,
				TWFAACAV024C D
		WHERE  	1 = 1
		AND		A.PROF_YM = B.PROF_YM
		AND		A.COPT_CD = B.COPT_CD
		AND		A.ACNT_CD = B.ACNT_CD
		AND		A.BLL_CD = B.BLL_CD
		AND		A.PROF_DRTR_SRNO = B.PROF_DRTR_SRNO
		AND		A.DL_XPN_RCDB_PBSVT_SRNO = B.DL_XPN_RCDB_PBSVT_SRNO
		AND		A.COPT_CD = C.COPT_CD
		AND		A.ACNT_CD = C.ACNT_CD
		AND		A.BLL_CD = C.BLL_CD
		AND		A.PROF_DRTR_SRNO = C.PROF_DRTR_SRNO
		AND		A.DL_XPN_RCDB_PBSVT_SRNO = C.DL_XPN_RCDB_PBSVT_SRNO
		AND		B.DISAG_CD = D.ACNT_CD
		AND		D.ACNT_DVSN_CD = '12'
	]]>
		<isNotEmpty property="strMm">	 /*증명월이 있으면 */	   
			   AND A.PROF_YM     = #strYm#
		</isNotEmpty>
		<isEmpty property="strMm">	/*증명월이 없으면 */	
			   AND A.PROF_YM    BETWEEN  #strYr#||'00' AND #strYr#||'13'
		</isEmpty>
		<isNotEmpty property="strCoptCd">	 	   
			   AND A.COPT_CD     = #strCoptCd#
		</isNotEmpty>   	
		<isNotEmpty property="strAcntCd">	 	   
			   AND A.ACNT_CD     = #strAcntCd#
		</isNotEmpty>
		<isNotEmpty property="strBllCd">
						 <!-- 소관코드 OR 회계코드 중 하나라도 입력했을 경우 -->
				AND 1 = CASE WHEN #strCoptCd# IS NOT NULL OR #strAcntCd# IS NOT NULL
						   			 <!-- 증명책임자일련번호를 입력했을 경우 -->
			                 THEN CASE WHEN #strProfDrtrSrno# IS NOT NULL
			               			   			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                           THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                     THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                          END
			                                     <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 --> 
			                                     ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                          END
			                                END
			                         <!-- 증명책임자일련번호를 입력하지 않았을 경우 -->
			                         		   <!-- 계산서코드를 '17,18'로 입력한 경우 -->
			                           ELSE CASE WHEN #strBllCd# IN ('17', '18')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                     THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                               THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                    END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                               ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                         THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                              END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                         ELSE CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                              END
			                                                    END                                                    
			                                          END
			                                   <!-- 계산서코드를 '19'로 입력한 경우 -->       
			                                   WHEN #strBllCd# = '19'
			                                   			   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->       
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END		
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->        	                                                            
			                                                       ELSE CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                       END  
			                                   <!-- 계산서코드를 '22,23,24'로 입력한 경우 -->        
			                                   WHEN #strBllCd# IN ('22', '23', '24')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                       END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                         ELSE CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                              END
			                                                    END                                                    
			                                          END 
			                                   <!-- 계산서코드를 '42,43'로 입력한 경우 -->
			                         		   WHEN #strBllCd# IN ('42', '43')
			                         		               <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                     THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                 THEN CASE WHEN A.BLL_CD IN ('42', '43') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                      END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                               ELSE CASE WHEN A.BLL_CD IN ('42', '43') THEN '1'
			                                                    END
			                                          END			                                                                                                        
			                                   <!-- 그 외의 계산서코드일 경우 -->
			                         		   ELSE        <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                          CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                 THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                      END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                               ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                                    END
			                                          END                            
			                              END
			                    END
			             <!-- 소관코드 and 회계코드를 입력하지 않았을 경우 -->
			             ELSE 	 	 <!-- 증명책임자일련번호를 입력했을 경우 -->
			                    CASE WHEN #strProfDrtrSrno# IS NOT NULL
			               			   			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                         THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                   THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                        END
			                                     <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 --> 
			                                   ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                        END
			                              END
			                         <!-- 증명책임자일련번호를 입력하지 않았을 경우 -->
			                         		   <!-- 계산서코드를 '17,18'로 입력한 경우 -->
			                         ELSE CASE WHEN #strBllCd# IN ('17', '18')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                             			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                       ELSE CASE WHEN A.BLL_CD IN ('17', '18') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                       END			                                  
			                                   <!-- 계산서코드를 '19'로 입력한 경우 -->       
			                                   WHEN #strBllCd# = '19'
			                                   			   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->       
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END		
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->        	                                                            
			                                                       ELSE CASE WHEN A.BLL_CD = '19' AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                  END                                                    
			                                        END  
			                                   <!-- 계산서코드를 '22,23,24'로 입력한 경우 -->        
			                                   WHEN #strBllCd# IN ('22', '23', '24')
			                         			 		   <!-- 관서운영비여부를 '아니오'로 입력한 경우 -->
			                                   THEN CASE WHEN #strFildSsecYn# = 'N' 			                                       
			                                             THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = '000' THEN '1'
			                                                  END
			                                               <!-- 관서운영비여부를 '예'로 입력한 경우 -->       
			                                               			 <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->
			                                             ELSE CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                                       THEN CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                            END	
			                                                         <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       		                                                            
			                                                       ELSE CASE WHEN A.BLL_CD IN ('22', '23', '24') AND A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000' THEN '1'
			                                                            END
			                                                 END                                                    
			                                        END 
			                                   <!-- 계산서코드를 '42,43'로 입력한 경우 -->
			                         		   WHEN #strBllCd# IN ('42', '43')
			                         		               <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                   THEN CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                             THEN CASE WHEN A.BLL_CD IN ('42', '43') AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                  END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                             ELSE CASE WHEN A.BLL_CD IN ('42', '43') THEN '1'
			                                                  END
			                                        END			                                                                                                        
			                                   <!-- 그 외의 계산서코드일 경우 -->
			                         		   ELSE        <!-- 일상경비출납공무원일련번호를 입력했을 경우 -->	                                       
			                                        CASE WHEN #strDlXpnRcdbPbsvtSrno# IS NOT NULL 
			                                             THEN CASE WHEN A.BLL_CD = #strBllCd# AND A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno# THEN '1'
			                                                  END
			                                               <!-- 일상경비출납공무원일련번호를 입력하지 않았을 경우 -->       
			                                             ELSE CASE WHEN A.BLL_CD = #strBllCd# THEN '1'
			                                                  END
			                                        END		  
			                              END
			                    END                      
			        END
		</isNotEmpty>	
		<isNotEmpty property="strProfDrtrSrno">	 	   
			   AND A.PROF_DRTR_SRNO     = #strProfDrtrSrno#
		</isNotEmpty>
		
		<isEqual property="strFildSsecYn" compareValue="N">
			<isNotEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
			</isNotEmpty>
			<isEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = '000'
			</isEmpty>	
		</isEqual>
		
		<isEqual property="strFildSsecYn" compareValue="Y">
			<isNotEmpty property="strDlXpnRcdbPbsvtSrno">
				AND  A.DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
			</isNotEmpty>
			<isEmpty property="strDlXpnRcdbPbsvtSrno">	
				AND  A.DL_XPN_RCDB_PBSVT_SRNO &lt;&gt; '000'
			</isEmpty>	
		</isEqual>	
	<![CDATA[
		ORDER BY PROF_DRTR_SG, PROF_YM, WRK_DH, ERR_NO
    ]]>
    </select>
	
</sqlMap> 
