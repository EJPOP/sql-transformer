<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="bad/ded/common">
	
	<select id="selectCodeYear" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
			SELECT CMM_CD_DVSN_CD
			     , CD
			     , CD_NM
			     , #strYear# AS YEAR
			     , SUBSTR(CD, 3, 5) AS EMPTY_CD
			  FROM TBDCMACM013C
			 WHERE 1=1
			   AND CMM_CD_DVSN_CD = #strCdDvsn#
			   AND USE_YN  = NVL(#strUseYn#,'Y')
			   AND SUBSTR(CD,1,2)  LIKE SUBSTR(#strYear#,3,2)||'%' 
			 ORDER BY  CD 
        ]]>
	</select>       

	<select id="selectCodeYearAll" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
			SELECT CMM_CD_DVSN_CD
			     , CD
			     , CD_NM
			     , #strYear# AS YEAR
			     , SUBSTR(CD, 3, 5) AS EMPTY_CD
			  FROM TBDCMACM013C
			 WHERE 1=1
			   AND CMM_CD_DVSN_CD = #strCdDvsn#
			   AND SUBSTR(CD,1,2)  LIKE SUBSTR(#strYear#,3,2)||'%' 
			 ORDER BY  CD 
        ]]>
	</select>    
	
	<select id="selectYearCombo" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
			SELECT TO_CHAR(1969+LEVEL) CD
			     , TO_CHAR(1969+LEVEL) CD_NM
			  FROM DUAL
			  CONNECT BY LEVEL <= 60	
        ]]>
	</select>   	
	
</sqlMap> 
