<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="faa/cav/067">
	<!--장 코드조회-->
	<select id="FAACAV067EselectCode1" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectCode1 */ ]]>
		SELECT
			CHIF_SSEC_CD AS CD
			,CHIF_SSEC_NM AS CD_NM
		FROM TWFAACAV070C
		WHERE DVSN_CD = '2'
	</select>
	
	<!--항 코드조회-->
	<select id="FAACAV067EselectCode2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectCode2 */ ]]>
		SELECT
			ITM_CD AS CD
			,ITM_NM AS CD_NM
		FROM TWFAACAV071C
		WHERE DVSN_CD = '2'
	</select>
	
	<!--세항 코드조회-->
	<select id="FAACAV067EselectCode3" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectCode3 */ ]]>
		SELECT
			DITM_CD AS CD
			,DITM_NM AS CD_NM
		FROM TWFAACAV072C
		WHERE DVSN_CD = '2'
	</select>
	
	<!--목 코드조회-->
	<select id="FAACAV067EselectCode4" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectCode4 */ ]]>
		SELECT
			SITM_CD AS CD
			,SITM_NM AS CD_NM
		FROM TWFAACAV073C
		WHERE DVSN_CD = '2'
	</select>
	
	<!--세입징수액 계산서 조회-->
	<select id="FAACAV067EselectMain" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectMain */ ]]>
        <![CDATA[
		SELECT
				COPT_CD                    		
				, ACNT_CD                 		
				, BLL_CD                  		
				, PROF_DRTR_SRNO         		
				, DL_XPN_RCDB_PBSVT_SRNO        
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO /* 증명책임자부호 */
				, PROF_YM                 		
				, SUM_DVSN_ID                   
				, SSEC_CD             			
				, ITM_CD              			
				, ITM_CD || SITM_CD AS SITM_CD  
				, SSEC_CD AS SSEC_CD_NM         
				, ITM_CD AS ITM_CD_NM           
				, ITM_CD || SITM_CD AS SITM_CD_NM
				, DGE                     		
				, TQR_CLCT_DCS_AMT
				, TQR_TO_CLCT_DCS_ATAG
				, TQR_RCP_AMT
				, TQR_TO_RCP_ATAG
				, TQR_RSR_AMT
				, TQR_TO_RSR_ATAG
				, TQR_NPM_LO_AMT
				, TQR_TO_NPM_LO_ATAG
				, UNP_AMT
				, HNDL_STA_CD
				, DTM_YN
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID
		FROM TWFAACAV054L
		WHERE SUM_DVSN_ID != '49'
			AND DGE = (
						SELECT MAX(DGE) 
							FROM TWFAACAV054L
						WHERE COPT_CD = #strCoptCd#
							AND ACNT_CD = #strAcntCd#
							AND BLL_CD = #strBllCd#
							AND PROF_DRTR_SRNO = #strProfDrtrSrno#
							AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
		 					AND PROF_YM = #strYr#||#strMm#
					   )
		 	AND PROF_YM = #strYr#||#strMm#
			AND COPT_CD = #strCoptCd#
			AND ACNT_CD = #strAcntCd#
			AND BLL_CD = #strBllCd#
			AND PROF_DRTR_SRNO = #strProfDrtrSrno#
			AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
		ORDER BY DGE
        ]]>  
	</select>
	
	
	
	<!--세입징수액 계산서 조회
	<select id="FAACAV067EselectMainChk" parameterClass="paramMap" resultClass="resultMap">
	 	SELECT 
		     COPT_CD
		    , ACNT_CD
		    , BLL_CD
		    , PROF_DRTR_SRNO
		    , DL_XPN_RCDB_PBSVT_SRNO
		    , '' AS PROF_YM
		    , '' AS SUM_DVSN_ID
			, SSEC_CD             				  	 
			, ITM_CD              				  	 
			, ITM_CD || SITM_CD AS SITM_CD   	 
			, SSEC_CD AS SSEC_CD_NM             	 
			, ITM_CD AS ITM_CD_NM                  
			, ITM_CD || SITM_CD AS SITM_CD_NM   
		    , '' AS DGE
		    , '' AS CLCT_DCS_AMT
		    , '' AS CLCTDCS_AGG_AMT
		    , '' AS RCP_AM
		    , '' AS RCP_AGG_AMT
		    , '' AS RE_AMT
		    , '' AS CRTMTO_AGG_AMT
		    , '' AS CRTM_NPM_LOAMT
		    , '' AS LO_AGG_AMT
		    , '' AS UNRCP_AMT
		    , '' AS DTM_YN
		    , '' AS HNDL_STA_CD
		    , COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO
		FROM TWFAACAV054L
		WHERE PROF_YM LIKE '%'||SUBSTR('201402')||'%'
		AND SUM_DVSN_ID != '49' 
	</select>
	-->
	
	<!--세입과오납금충당및환부액명세서 조회-->
	<select id="FAACAV067EselectSubList1" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectSubList1 */ ]]>
        <![CDATA[
		SELECT 
				COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO
				, PROF_YM
				, SUBSTRB(ATT_TXT,1,3) AS SSEC_CD
				, SUBSTRB(ATT_TXT,4,3) AS ITM_CD
				, SUBSTRB(ATT_TXT,4,3)||SUBSTRB(ATT_TXT,7,2) AS SITM_CD
				, SUBSTRB(ATT_TXT,1,3) AS SSEC_CD_NM
				, SUBSTRB(ATT_TXT,4,3) AS ITM_CD_NM
				, SUBSTRB(ATT_TXT,4,3)||SUBSTRB(ATT_TXT,7,2) AS SITM_CD_NM
				, ATT_CD
				, SRNO
				, SUM_DVSN_ID
				, ATT_TXT
				, TO_NUMBER(SUBSTRB(ATT_TXT, 10, 15)) AS AMT1
				, TO_NUMBER(SUBSTRB(ATT_TXT, 26, 15)) AS AMT2
				, TO_NUMBER(SUBSTRB(ATT_TXT, 42, 15)) AS AMT3
				, TO_NUMBER(SUBSTRB(ATT_TXT, 58, 15)) AS AMT4
				, TO_NUMBER(SUBSTRB(ATT_TXT, 74, 15)) AS AMT5
				, TO_NUMBER(SUBSTRB(ATT_TXT, 90, 15)) AS AMT6
				, TO_NUMBER(SUBSTRB(ATT_TXT, 106, 15)) AS AMT7
				, TO_NUMBER(SUBSTRB(ATT_TXT, 122, 15)) AS AMT8
				, TO_NUMBER(SUBSTRB(ATT_TXT, 138, 15)) AS AMT9
				, TO_NUMBER(SUBSTRB(ATT_TXT, 154, 15)) AS AMT10
				, SUBSTRB(ATT_TXT, 169, 300) AS RMK
				, DTM_YN
				, HNDL_STA_CD
				, ATT_SRNO
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID
		FROM TWFAACAV009L
		WHERE ATT_CD = 'ATC270201'
			AND SUM_DVSN_ID != '49'
		 	AND PROF_YM = #strYr#||#strMm#
			AND COPT_CD = #strCoptCd#
			AND ACNT_CD = #strAcntCd#
			AND BLL_CD = #strBllCd#
			AND PROF_DRTR_SRNO = #strProfDrtrSrno#
			AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#		
        ]]>  
	</select>
	
<!-- 		
	수입금출납원의 현금영수액 조서 조회 체크
	<select id="FAACAV067EselectSubListChk2" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
            SELECT 
				DISTINCT ATT_TYP_ID
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270203'
            AND SUM_DVSN_ID != '49'
            AND DGE = (SELECT MAX(DGE) FROM TWFAACAV009L WHERE ATT_CD = 'ATC270203' AND PROF_YM = '201404')
            AND PROF_YM = '201404' 
            
    	]]>  
	</select>		
	 -->
	
 	<!--수입금출납원의 현금영수액 조서 조회
	<select id="FAACAV067EselectSubListExcel2" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
		WITH AA AS  (
			SELECT 
				  ATT_SRNO
				, CASE
					WHEN ATT_SRNO BETWEEN 1000 AND 1999 THEN '(소계1)'
					WHEN ATT_SRNO BETWEEN 2000 AND 2999 THEN '(소계2)'
					WHEN ATT_SRNO BETWEEN 3000 AND 3999 THEN '(소계3)'
					WHEN ATT_SRNO BETWEEN 4000 AND 4999 THEN '(소계4)'
					WHEN ATT_SRNO BETWEEN 5000 AND 5999 THEN '(소계5)'
					WHEN ATT_SRNO BETWEEN 6000 AND 6999 THEN '(소계6)'
					WHEN ATT_SRNO BETWEEN 7000 AND 7999 THEN '(소계7)'
					WHEN ATT_SRNO BETWEEN 8000 AND 8999 THEN '(소계8)'
					WHEN ATT_SRNO BETWEEN 9000 AND 9999 THEN '(소계9)'
				  END AS GRP
				, TO_NUMBER((SUBSTRB(ATT_TXT,62,15))) AS AMT
			FROM TWFAACAV009L
			WHERE ATT_CD = 'ATC270203'
			)
			SELECT
				  '' AS COPT_CD
				, '' AS ACNT_CD
				, '' AS BLL_CD
				, '' AS PROF_DRTR_SRNO
				, '' AS DL_XPN_RCDB_PBSVT_SRNO
				, '' AS FULL_PROF_DRTR_SRNO       
				, '' AS PROF_YM
				, '' AS ATT_CD
				, 0 AS SRNO
				, '' AS SUM_DVSN_ID
				, RPAD(LPAD(GRP,20,' '),61,' ') AS TXT1
                , TO_NUMBER(LPAD(SUM(AMT),15,'0')) AS AMT
                , '' AS TXT2
				, '' AS DTM_YN
				, '' AS HNDL_STA_CD
				, CASE
					  WHEN GRP = '(소계1)' THEN '1000'
					  WHEN GRP = '(소계2)' THEN '2000'
					  WHEN GRP = '(소계3)' THEN '3000'
					  WHEN GRP = '(소계4)' THEN '4000'
					  WHEN GRP = '(소계5)' THEN '5000'
					  WHEN GRP = '(소계6)' THEN '6000'
					  WHEN GRP = '(소계7)' THEN '7000'
					  WHEN GRP = '(소계8)' THEN '8000'
					  WHEN GRP = '(소계9)' THEN '9000'
				  END AS ATT_SRNO
				, '' AS FRT_REGI_DH
				, '' AS FRT_USR_ID
				, '' AS FNL_MDF_DH
				, '' AS FNL_USR_ID
				, '' AS FNL_DEAL_DPT_CD
				, '' AS FNL_MNU_ID
				
			FROM AA
			WHERE 1 = 1
			GROUP BY GRP   
            
            UNION ALL 

            SELECT 
				  COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO       
				, PROF_YM
				, ATT_CD
				, SRNO
				, SUM_DVSN_ID
				, SUBSTRB(ATT_TXT,1,61) AS TXT1
                , TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS AMT
                , TRIM(SUBSTRB(ATT_TXT,77,200)) AS TXT2
				, DTM_YN
				, HNDL_STA_CD
				, ATT_SRNO
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270203'
            AND SUM_DVSN_ID != '49'
            ORDER BY ATT_SRNO
    	]]>  
	</select>		
	 -->
	
	
	<!--수입금출납원의 현금영수액 조서 조회-->
	<select id="FAACAV067EselectSubList2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectSubList2 */ ]]>
        <![CDATA[
            SELECT 
				  COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO       
				, PROF_YM
				, ATT_CD
				, SRNO
				, SUM_DVSN_ID
				, SUBSTRB(ATT_TXT,1,61) AS TXT1
                , TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS AMT
                , TRIM(SUBSTRB(ATT_TXT,77,200)) AS TXT2
				, DTM_YN
				, HNDL_STA_CD
				, ATT_SRNO
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270203'
			 	AND PROF_YM = #strYr#||#strMm#
				AND COPT_CD = #strCoptCd#
				AND ACNT_CD = #strAcntCd#
				AND BLL_CD = #strBllCd#
				AND PROF_DRTR_SRNO = #strProfDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#            
            ORDER BY ATT_SRNO
    	]]>  
	</select>		
	
<!-- 	
		수납액과 금고영수액과의 대사조서 조회 체크
	<select id="FAACAV067EselectSubListChk3" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
            SELECT 
				DISTINCT ATT_TYP_ID
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270204'
            AND SUM_DVSN_ID != '49'
            AND DGE = (SELECT MAX(DGE) FROM TWFAACAV009L WHERE ATT_CD = 'ATC270204' AND PROF_YM = '201404')
            AND PROF_YM = '201404' 
    	]]>  
	</select>		
	
	 -->
<!-- 	
	수납액과 금고영수액과의 대사조서 조회
	<select id="FAACAV067EselectSubListExcel3" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
		WITH AA AS  (
			SELECT 
				  ATT_SRNO
				, CASE
					WHEN ATT_SRNO BETWEEN 1000 AND 1999 THEN '(수   입   총   액   (A))'
					WHEN ATT_SRNO BETWEEN 2000 AND 2999 THEN '(금고영수필통지금액  (B))'
				  END AS GRP
				, TO_NUMBER((SUBSTRB(ATT_TXT,62,15))) AS AMT
			FROM TWFAACAV009L
			WHERE ATT_CD = 'ATC270204'
			)
			SELECT
				  '' AS COPT_CD
				, '' AS ACNT_CD
				, '' AS BLL_CD
				, '' AS PROF_DRTR_SRNO
				, '' AS DL_XPN_RCDB_PBSVT_SRNO
				, '' AS FULL_PROF_DRTR_SRNO       
				, '' AS PROF_YM
				, '' AS ATT_CD
				, 0 AS SRNO
				, '' AS SUM_DVSN_ID
				, LPAD(GRP,40,' ') AS TXT1
                , TO_NUMBER(LPAD(SUM(AMT),15,'0')) AS AMT
                , '' AS TXT2
				, '' AS DTM_YN
				, '' AS HNDL_STA_CD
				, CASE
					  WHEN GRP = '(수   입   총   액   (A))' THEN '1000'
					  WHEN GRP = '(금고영수필통지금액  (B))' THEN '2000'
				  END AS ATT_SRNO 
				, '' AS FRT_REGI_DH
				, '' AS FRT_USR_ID
				, '' AS FNL_MDF_DH
				, '' AS FNL_USR_ID
				, '' AS FNL_DEAL_DPT_CD
				, '' AS FNL_MNU_ID
			FROM AA
			WHERE 1 = 1
			AND ATT_SRNO IS NOT NUll
			GROUP BY GRP   
            
            UNION ALL 

            SELECT 
				  COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO       
				, PROF_YM
				, ATT_CD
				, SRNO
				, SUM_DVSN_ID
				, SUBSTRB(ATT_TXT,1,61) AS TXT1
                , TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS AMT
                , TRIM(SUBSTRB(ATT_TXT,77,200)) AS TXT2
				, DTM_YN
				, HNDL_STA_CD
				, ATT_SRNO
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID				
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270204'
            
            UNION ALL 

            SELECT 
				  '' AS COPT_CD
				, '' AS ACNT_CD
				, '' AS BLL_CD
				, '' AS PROF_DRTR_SRNO
				, '' AS DL_XPN_RCDB_PBSVT_SRNO
				, '' AS FULL_PROF_DRTR_SRNO       
				, '' AS PROF_YM
				, '' AS ATT_CD
				, 0 AS SRNO
				, '' AS SUM_DVSN_ID
				, '               (차               액 (A) - (B))' AS TXT1
				, A.AMT - B.AMT AS AMT
				, '' AS TXT2
				, '' AS DTM_YN
				, '' AS HNDL_STA_CD
				, '3000' AS ATT_SRNO
				, '' AS FRT_REGI_DH
				, '' AS FRT_USR_ID
				, '' AS FNL_MDF_DH
				, '' AS FNL_USR_ID
				, '' AS FNL_DEAL_DPT_CD
				, '' AS FNL_MNU_ID 
            FROM 
                (SELECT 
                    SUM(TO_NUMBER((SUBSTRB(ATT_TXT,62,15)))) AS AMT
                FROM TWFAACAV009L TB1
                WHERE ATT_CD = 'ATC270204'
                AND ATT_SRNO BETWEEN '1000' AND '1999'
                GROUP BY COPT_CD
                    , ACNT_CD
                    , BLL_CD
                    , PROF_DRTR_SRNO
                    , DL_XPN_RCDB_PBSVT_SRNO
                    ) A,
                (SELECT 
                    SUM(TO_NUMBER((SUBSTRB(ATT_TXT,62,15)))) AS AMT
                FROM TWFAACAV009L TB1
                WHERE ATT_CD = 'ATC270204'
                AND ATT_SRNO BETWEEN '2000' AND '2999'
                GROUP BY COPT_CD
                    , ACNT_CD
                    , BLL_CD
                    , PROF_DRTR_SRNO
                    , DL_XPN_RCDB_PBSVT_SRNO
                    ) B
                ORDER BY ATT_SRNO
    	]]>  
	</select>		
	 -->
	
	<!--수납액과 금고영수액과의 대사조서 조회-->
	<select id="FAACAV067EselectSubList3" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectSubList3 */ ]]>
        <![CDATA[
	            SELECT 
				  COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO       
				, PROF_YM
				, ATT_CD
				, SRNO
                , DGE
                , ATT_TYP_ID
				, SUM_DVSN_ID
				, SUBSTRB(ATT_TXT,1,61) AS TXT1
                , TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS AMT
                , TRIM(SUBSTRB(ATT_TXT,77,200)) AS TXT2
				, DTM_YN
				, HNDL_STA_CD
				, ATT_SRNO
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID				
			FROM TWFAACAV009L
            WHERE ATT_CD = 'ATC270204'
			 	AND PROF_YM = #strYr#||#strMm#
				AND COPT_CD = #strCoptCd#
				AND ACNT_CD = #strAcntCd#
				AND BLL_CD = #strBllCd#
				AND PROF_DRTR_SRNO = #strProfDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#            
            ORDER BY SRNO
    	]]>  
	</select>		
	
	
	<!--미수납액명세서 조회-->
	<select id="FAACAV067EselectSubList4" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectSubList4 */ ]]>
        <![CDATA[
		SELECT 
				COPT_CD
				, ACNT_CD
				, BLL_CD
				, PROF_DRTR_SRNO
				, DL_XPN_RCDB_PBSVT_SRNO
				, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO
				, PROF_YM
				, SUBSTRB(ATT_TXT,1,3) AS SSEC_CD
				, SUBSTRB(ATT_TXT,4,3) AS ITM_CD
				, SUBSTRB(ATT_TXT,4,3)||SUBSTR(ATT_TXT,7,2) AS SITM_CD
				, SUBSTRB(ATT_TXT,1,3) AS SSEC_CD_NM
				, SUBSTRB(ATT_TXT,4,3) AS ITM_CD_NM
				, SUBSTRB(ATT_TXT,4,3)||SUBSTR(ATT_TXT,7,2) AS SITM_CD_NM
				, ATT_CD
				, SRNO
				, SUM_DVSN_ID
				, ATT_TXT
				, TO_NUMBER(SUBSTRB(ATT_TXT, 10, 15)) AS AMT
				, SUBSTR(ATT_TXT, 25, 400) AS RMK
				, DTM_YN
				, HNDL_STA_CD
				, FRT_REGI_DH
				, FRT_USR_ID
				, FNL_MDF_DH
				, FNL_USR_ID
				, FNL_DEAL_DPT_CD
				, FNL_MNU_ID
		FROM TWFAACAV009L
		WHERE ATT_CD = 'ATC270205'
		 	AND PROF_YM = #strYr#||#strMm#
			AND COPT_CD = #strCoptCd#
			AND ACNT_CD = #strAcntCd#
			AND BLL_CD = #strBllCd#
			AND PROF_DRTR_SRNO = #strProfDrtrSrno#
			AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#		
        ]]>  
	</select>	
	
	<!--세입징수 insert
	<insert id="FAACAV067EinsertMain" parameterClass="paramMap">
 		INSERT INTO TWFAACAV054L
		 (
			COPT_CD                    				  	 /* 소관부호  */
			, ACNT_CD                 				  	 /* 회계부호코드  */
			, BLL_CD                  				  	 /* 계산서부호코드  */
			, PROF_DRTR_SRNO         				  	 /* 증명책임자일련번호  */
			, DL_XPN_RCDB_PBSVT_SRNO             				  	 /* 일상경비출납공무원일련번호  */
			, COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS FULL_PROF_DRTR_SRNO /* 증명책임자부호 */
			, PROF_YM                 				  	 /* 증명년월  */
			, SUM_DVSN_ID                   		 	 /* 구분  */
			, SSEC_CD             				  	 /* 관_지방  */
			, ITM_CD              				  	 /* 항_지방  */
			, ITM_CD || SITM_CD AS SITM_CD   	 /* 목_지방  */
			, SSEC_CD AS SSEC_CD_NM             	 /* 관_지방  */
			, ITM_CD AS ITM_CD_NM                  /* 항_지방  */
			, ITM_CD || SITM_CD AS SITM_CD_NM   /* 목_지방  */
			, DGE                     					 /* 차수  */
			, TQR_CLCT_DCS_AMT
			, TQR_TO_CLCT_DCS_ATAG
			, TQR_RCP_AMT
			, TQR_TO_RCP_ATAG
			, TQR_RSR_AMT
			, TQR_TO_RSR_ATAG
			, TQR_NPM_LO_AMT
			, TQR_TO_NPM_LO_ATAG
			, UNP_AMT
			, HNDL_STA_CD
			, DTM_YN
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID
		 ) VALUES (
			  SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
		    , REPLACE(#PROF_YM#,'-','')
		    , '11'
		    , #SSEC_CD#
		    , #ITM_CD#
		    , SUBSTR(#SITM_CD#,4,2)
		    , #maxCnt#
		    , REPLACE(#CLCT_DCS_AMT#,',','')
		    , F_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#,'CLCTDCS_AGG_AMT') + REPLACE(#CLCT_DCS_AMT#,',','') 
		    , REPLACE(#RCP_AM#,',','')
		    , F_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#,'RCP_AGG_AMT') + REPLACE(#RCP_AM#,',','')
		    , REPLACE(#RE_AMT#,',','')
			, F_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#,'CRTMTO_AGG_AMT') + REPLACE(#RE_AMT#,',','')		    
		    , REPLACE(#CRTM_NPM_LOAMT#,',','')
		    , F_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'LO_AGG_AMT') + REPLACE(#CRTM_NPM_LOAMT#,',','')
		    , REPLACE(#UNRCP_AMT#,',','')
		    , #HNDL_STA_CD#
		    , 'N'
		    , ''
		    , ''
		    , ''
		    , ''
		    , ''
		    , ''
		 ) 
	</insert>	
	 -->
	 
	<!--세입징수액계산서 Insert 이후 분기 금액 합산 update
	<update id="FAACAV067EupdateMainAmt" parameterClass="paramMap">
 		UPDATE TWFAACAV054L SET
			  CLCTDCS_AGG_AMT  = CLCTDCS_AGG_AMT + REPLACE(#CLCT_DCS_AMT#,',','') 
			, RCP_AGG_AMT      = RCP_AGG_AMT + REPLACE(#RCP_AM#,',','')           
			, CRTMTO_AGG_AMT   = CRTMTO_AGG_AMT + REPLACE(#RE_AMT#,',','')		  
		    , LO_AGG_AMT       = LO_AGG_AMT + REPLACE(#CRTM_NPM_LOAMT#,',','')    
		WHERE COPT_CD          = SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3) 
			AND ACNT_CD        = SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3) 
			AND	BLL_CD         = SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2) 
			AND	PROF_DRTR_SRNO = SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
			AND	DL_XPN_RCDB_PBSVT_SRNO    = SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
			AND	PROF_YM        > REPLACE(#PROF_YM#,'-','')
			AND SSEC_CD = #SSEC_CD#
		    AND ITM_CD = #ITM_CD#
		    AND SITM_CD = SUBSTR(#SITM_CD#,4,2)
	</update>		
	 -->
	 
	 
	<!--세입과오납금충당및환부액명세서 insert
	<insert id="FAACAV067EinsertSub1" parameterClass="paramMap">
	INSERT INTO TWFAACAV009L
		 (
			  COPT_CD              /*소관부호*/
			, ACNT_CD              /*회계부호코드*/
			, BLL_CD               /*계산서부호코드*/
			, PROF_DRTR_SRNO       /*증명책임자일련번호*/
			, DL_XPN_RCDB_PBSVT_SRNO          /*일상경비출납공무원일련번호*/
			, PROF_YM              /*증명년월*/
			, ATT_CD               /*첨부코드*/
			, SRNO                 /*일련번호*/
			, SUM_DVSN_ID                 /*구분*/
			, ATT_TXT              /*첨부내용*/
			, DTM_YN               /*확정여부*/
			, HNDL_STA_CD             /*처리상태*/
		 ) VALUES (
			  SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
		    , REPLACE(#PROF_YM#,'-','')
		    , 'ATC270201'
		    , (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
				  WHERE ATT_CD = 'ATC270201'
				  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = REPLACE(#FULL_PROF_DRTR_SRNO#,'-','')
				  AND PROF_YM = REPLACE(#PROF_YM#,'-','')
				)
		    , #SUM_DVSN_ID#
		    , #SSEC_CD#||#ITM_CD#||SUBSTR(#SITM_CD#,4,2)||' '||
			  LPAD(REPLACE(NVL(#AMT1#,'0'),',',''),15,'0')||' '||
			  LPAD(NVL(F_ATT1_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'AMT2'),0) + REPLACE(NVL(#AMT1#,'0'),',',''),15,'0')||' '||
			  LPAD(REPLACE(NVL(#AMT3#,'0'),',',''),15,'0')||' '||
			  LPAD(NVL(F_ATT1_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'AMT4'),0) + REPLACE(NVL(#AMT3#,'0'),',',''),15,'0')||' '||
			  LPAD(REPLACE(NVL(#AMT5#,'0'),',',''),15,'0')||' '||
			  LPAD(NVL(F_ATT1_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'AMT6'),0) + REPLACE(NVL(#AMT5#,'0'),',',''),15,'0')||' '||
			  LPAD(REPLACE(NVL(#AMT7#,'0'),',',''),15,'0')||' '||
			  LPAD(NVL(F_ATT1_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'AMT8'),0) + REPLACE(NVL(#AMT7#,'0'),',',''),15,'0')||' '||
			  LPAD(REPLACE(NVL(#AMT9#,'0'),',',''),15,'0')||' '||
			  LPAD(NVL(F_ATT1_AMT_SUM(#FULL_PROF_DRTR_SRNO#,REPLACE(#PROF_YM#,'-',''),#SSEC_CD#,#ITM_CD#,#SITM_CD#, 'AMT10'),0) + REPLACE(NVL(#AMT9#,'0'),',',''),15,'0')||' '||
			  #RMK#
		    , 'N'
		    , #HNDL_STA_CD#
		 )  
	</insert>	
-->	
	
	
	<!--세입과오납금충당및환부액명세서 Insert 이후 분기 금액 합산 update
	<update id="FAACAV067EupdateSubAmt" parameterClass="paramMap">
	UPDATE TWFAACAV009L SET
			ATT_TXT = #SSEC_CD#||#ITM_CD#||SUBSTR(#SITM_CD#,4,2)||' '||
					  LPAD(REPLACE(NVL(#AMT1#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 26, 15)) + REPLACE(#AMT1#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT3#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 58, 15)) + REPLACE(#AMT3#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT5#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 90, 15)) + REPLACE(#AMT5#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT7#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 122, 15)) + REPLACE(#AMT7#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT9#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 154, 15)) + REPLACE(#AMT9#,',',''),15,'0')||' '||
					  #RMK#		
		WHERE COPT_CD          = SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3) 
			AND ACNT_CD        = SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3) 
			AND	BLL_CD         = SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2) 
			AND	PROF_DRTR_SRNO = SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
			AND	DL_XPN_RCDB_PBSVT_SRNO    = SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
			AND ATT_CD = 'ATC270201'
			AND	PROF_YM > REPLACE(#PROF_YM#,'-','')
			AND SUBSTR(ATT_TXT, 1, 3) = #SSEC_CD#
		    AND SUBSTR(ATT_TXT, 4, 3) = #ITM_CD#
		    AND SUBSTR(ATT_TXT, 7, 2) = SUBSTR(#SITM_CD#,4,2)
	</update>		
	 -->
	
	<!--수입금출납원의 현금영수액 조서 insert
	<insert id="FAACAV067EinsertSub2" parameterClass="paramMap">
 		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD              /*소관부호*/
			, ACNT_CD              /*회계부호코드*/
			, BLL_CD               /*계산서부호코드*/
			, PROF_DRTR_SRNO       /*증명책임자일련번호*/
			, DL_XPN_RCDB_PBSVT_SRNO          /*일상경비출납공무원일련번호*/
			, PROF_YM              /*증명년월*/
			, ATT_CD               /*첨부코드*/
			, SRNO                 /*일련번호*/
			, SUM_DVSN_ID                 /*구분*/
			, ATT_TXT              /*첨부내용*/
			, DTM_YN               /*확정여부*/
			, HNDL_STA_CD             /*처리상태*/
			, ATT_SRNO 				/*부표 일련번호*/
		 ) VALUES (
			  SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
		    , REPLACE(#PROF_YM#,'-','')
		    , 'ATC270203'
		    , (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
				  WHERE ATT_CD = 'ATC270203'
				  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = REPLACE(#FULL_PROF_DRTR_SRNO#,'-','')
				  AND PROF_YM = REPLACE(#PROF_YM#,'-','')
				)
		    , #SUM_DVSN_ID#
			, RPAD(#TXT1#,60,' ')||' '||LPAD(REPLACE(#AMT#,',',''),15,'0')||'  '||LPAD(#TXT2#,56,' ')
		    , 'N'
		    , #HNDL_STA_CD#
		    , #ATT_SRNO#
		 )  
	</insert>				
	-->

	<!--수입액과 금고영수액과의 대사조서 insert
	<insert id="FAACAV067EinsertSub3" parameterClass="paramMap">
 		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD              /*소관부호*/
			, ACNT_CD              /*회계부호코드*/
			, BLL_CD               /*계산서부호코드*/
			, PROF_DRTR_SRNO       /*증명책임자일련번호*/
			, DL_XPN_RCDB_PBSVT_SRNO          /*일상경비출납공무원일련번호*/
			, PROF_YM              /*증명년월*/
			, ATT_CD               /*첨부코드*/
			, SRNO                 /*일련번호*/
			, SUM_DVSN_ID                 /*구분*/
			, ATT_TXT              /*첨부내용*/
			, DTM_YN               /*확정여부*/
			, HNDL_STA_CD             /*처리상태*/
			, ATT_SRNO 				/*부표 일련번호*/
		 ) VALUES (
			  SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
		    , REPLACE(#PROF_YM#,'-','')
		    , 'ATC270204'
		    , (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
				  WHERE ATT_CD = 'ATC270204'
				  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = REPLACE(#FULL_PROF_DRTR_SRNO#,'-','')
				  AND PROF_YM = REPLACE(#PROF_YM#,'-','')
				)
		    , #SUM_DVSN_ID#
			, RPAD(#TXT1#,60,' ')||' '||LPAD(REPLACE(#AMT#,',',''),15,'0')||'  '||LPAD(#TXT2#,56,' ')
		    , 'N'
		    , #HNDL_STA_CD#
		    , #ATT_SRNO#
		 )  
	</insert>	
	-->
	
	<!--미수납액 명세서 insert
	<insert id="FAACAV067EinsertSub4" parameterClass="paramMap">
	 	INSERT INTO TWFAACAV009L
		 (
			  COPT_CD              /*소관부호*/
			, ACNT_CD              /*회계부호코드*/
			, BLL_CD               /*계산서부호코드*/
			, PROF_DRTR_SRNO       /*증명책임자일련번호*/
			, DL_XPN_RCDB_PBSVT_SRNO          /*일상경비출납공무원일련번호*/
			, PROF_YM              /*증명년월*/
			, ATT_CD               /*첨부코드*/
			, SRNO                 /*일련번호*/
			, SUM_DVSN_ID                 /*구분*/
			, ATT_TXT              /*첨부내용*/
			, DTM_YN               /*확정여부*/
			, HNDL_STA_CD             /*처리상태*/
			, ATT_SRNO 				/*부표 일련번호*/
		 ) VALUES (
			  SUBSTR(#FULL_PROF_DRTR_SRNO#,1,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,5,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,9,2)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,12,3)
		    , SUBSTR(#FULL_PROF_DRTR_SRNO#,16,3)
		    , REPLACE(#PROF_YM#,'-','')
		    , 'ATC270205'
		    , (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
				  WHERE ATT_CD = 'ATC270205'
				  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = REPLACE(#FULL_PROF_DRTR_SRNO#,'-','')
				  AND PROF_YM = REPLACE(#PROF_YM#,'-','')
				)
		    , #SUM_DVSN_ID#
			, #SSEC_CD#||#ITM_CD#||SUBSTR(#SITM_CD#,4,2)||' '||LPAD(REPLACE(#AMT#,',',''),15,'0')||' '||#RMK#
			, 'N'
		    , #HNDL_STA_CD#
		    , #ATT_SRNO#
		 )  
	</insert>				
		-->
	
	<!--세입징수액계산서 확정여부 update-->
	<update id="FAACAV067EupdateMain" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EupdateMain */ ]]>
		UPDATE TWFAACAV054L SET
			DTM_YN = 'Y'
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	DGE            = #DGE#
	</update>
	
	<!--세입과오납금충당및환부액명세서 확정여부 update-->
	<update id="FAACAV067EupdateSub1" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EupdateSub1 */ ]]>
		UPDATE TWFAACAV009L SET
			DTM_YN = 'Y'
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270201'
	</update>
	
	<!--수입금출납원의현금영수액조서 확정여부 update-->
	<update id="FAACAV067EupdateSub2" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EupdateSub2 */ ]]>
		UPDATE TWFAACAV009L SET
			DTM_YN = 'Y'
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270203'
	</update>	
	
	
	<!--수입금출납원의현금영수액조서 확정여부 update-->
	<update id="FAACAV067EupdateSub3" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EupdateSub3 */ ]]>
		UPDATE TWFAACAV009L SET
			DTM_YN = 'Y'
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270204'
	</update>
	
		
	<!--미수납액 명세서 확정여부 update-->
	<update id="FAACAV067EupdateSub4" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EupdateSub4 */ ]]>
		UPDATE TWFAACAV009L SET
			DTM_YN = 'Y'
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270205'
	</update>	
	
	<!--세입징수액계산서 삭제시 금액 minus update
	<update id="FAACAV067EupdateMainAmt2" parameterClass="paramMap">
 		UPDATE TWFAACAV054L SET
			  CLCTDCS_AGG_AMT  = CLCTDCS_AGG_AMT - REPLACE(#CLCT_DCS_AMT#,',','')
			, RCP_AGG_AMT      = RCP_AGG_AMT - REPLACE(#RCP_AM#,',','')
			, CRTMTO_AGG_AMT   = CRTMTO_AGG_AMT - REPLACE(#RE_AMT#,',','')		    
		    , LO_AGG_AMT       = LO_AGG_AMT - REPLACE(#CRTM_NPM_LOAMT#,',','')
		WHERE COPT_CD          = #COPT_CD#       
			AND ACNT_CD        = #ACNT_CD#       
			AND	BLL_CD         = #BLL_CD#        
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#   
			AND (PROF_YM != #PROF_YM# OR DGE > #DGE#)
			AND SSEC_CD = #SSEC_CD#
		    AND ITM_CD = #ITM_CD#
		    AND SITM_CD = SUBSTR(#SITM_CD#,4,2)
			<isEqual property="strMm" compareValue="01">
				AND	SUBSTR(PROF_YM,1,4) IN (SUBSTR(#PROF_YM#,1,4))
			</isEqual>
			<isEqual property="strMm" compareValue="02">
				AND	PROF_YM IN (#PROF_YM#, #PROF_YM# + 1, #PROF_YM# + 2)
			</isEqual>
			<isEqual property="strMm" compareValue="03">
				AND	PROF_YM IN (#PROF_YM#, #PROF_YM# + 1)
			</isEqual>
			<isEqual property="strMm" compareValue="04">
				AND	PROF_YM = #PROF_YM#
			</isEqual>
			AND SUM_DVSN_ID != '49'
	</update>		
	 -->
	 
	<!--세입징수액계산서 삭제 -->
	<delete id="FAACAV067EdeleteMain" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteMain */ ]]>
		DELETE FROM TWFAACAV054L
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND SSEC_CD	   = #SSEC_CD#
		    AND ITM_CD 	   = #ITM_CD#
		    AND SITM_CD 	   = SUBSTR(#SITM_CD#,4,2)
			AND	DGE            = #DGE#
	</delete>
	
	
	<!--세입과오납금충당및환부액명세서 삭제시 금액 minus update
	<update id="FAACAV067EupdateSubAmt2" parameterClass="paramMap">
 		UPDATE TWFAACAV009L SET
			ATT_TXT = #SSEC_CD#||#ITM_CD#||SUBSTR(#SITM_CD#,4,2)||' '||
					  LPAD(REPLACE(NVL(#AMT1#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 26, 15)) - REPLACE(#AMT1#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT3#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 58, 15)) - REPLACE(#AMT3#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT5#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 90, 15)) - REPLACE(#AMT5#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT7#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 122, 15)) - REPLACE(#AMT7#,',',''),15,'0')||' '||
					  LPAD(REPLACE(NVL(#AMT9#,'0'),',',''),15,'0')||' '||
					  LPAD(TO_NUMBER(SUBSTR(ATT_TXT, 154, 15)) - REPLACE(#AMT9#,',',''),15,'0')||' '||
					  #RMK#		
		WHERE COPT_CD          = #COPT_CD#       
			AND ACNT_CD        = #ACNT_CD#       
			AND	BLL_CD         = #BLL_CD#        
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#   
			AND (PROF_YM != #PROF_YM# OR SRNO > #SRNO#)
			AND ATT_CD = 'ATC270201'
			AND SUBSTR(ATT_TXT, 1, 3) = #SSEC_CD#
		    AND SUBSTR(ATT_TXT, 4, 3) = #ITM_CD#
		    AND SUBSTR(ATT_TXT, 7, 2) = SUBSTR(#SITM_CD#,4,2)
			<isEqual property="strMm" compareValue="01">
				AND	SUBSTR(PROF_YM,1,4) IN (SUBSTR(#PROF_YM#,1,4))
			</isEqual>
			<isEqual property="strMm" compareValue="02">
				AND	PROF_YM IN (#PROF_YM#, #PROF_YM# + 1, #PROF_YM# + 2)
			</isEqual>
			<isEqual property="strMm" compareValue="03">
				AND	PROF_YM IN (#PROF_YM#, #PROF_YM# + 1)
			</isEqual>
			<isEqual property="strMm" compareValue="04">
				AND	PROF_YM = #PROF_YM#
			</isEqual>
			AND SUM_DVSN_ID != '49'
	</update>	
	 -->
	 
	<!--세입과오납금충당및환부액명세서 삭제 -->
	<delete id="FAACAV067EdeleteSub1" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteSub1 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND SUBSTR(ATT_TXT, 1, 3) = #SSEC_CD#
		    AND SUBSTR(ATT_TXT, 4, 3) = #ITM_CD#
		    AND SUBSTR(ATT_TXT, 7, 2) = SUBSTR(#SITM_CD#,4,2)			
			AND ATT_CD = 'ATC270201'
	</delete>	
	
	
	<!--수입금출납원의현금영수액조서 삭제 -->
	<delete id="FAACAV067EdeleteSub2" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteSub2 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270203'
	</delete>
			
	
	<!--수납액과 금고영수액과의 대사조서 삭제 -->
	<delete id="FAACAV067EdeleteSub3" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteSub3 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270204'
	</delete>
	
			
	<!--미수납액명세서 삭제 -->
	<delete id="FAACAV067EdeleteSub4" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteSub4 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #COPT_CD#
			AND ACNT_CD        = #ACNT_CD#
			AND	BLL_CD         = #BLL_CD#
			AND	PROF_DRTR_SRNO = #PROF_DRTR_SRNO#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #DL_XPN_RCDB_PBSVT_SRNO#
			AND	PROF_YM        = #PROF_YM#
			AND	SRNO           = #SRNO#
			AND ATT_CD = 'ATC270205'
	</delete>
	
	
<!-- 	
	<select id="FAACAV067EselectMainTxt" parameterClass="paramMap" resultClass="resultMap">
	    SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV054L
	    WHERE PROF_YM = SUBSTR(#MAIN#,15,6)
	    AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO =  SUBSTR(#MAIN#,1,14)
	</select>
	<insert id="FAACAV067EinsertMainTxt" parameterClass="paramMap">
		INSERT INTO TWFAACAV054L
		 (
			COPT_CD 
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM 
			, SUM_DVSN_ID
			, SSEC_CD   
			, ITM_CD   
			, SITM_CD 
			, DGE 
			, TQR_CLCT_DCS_AMT
			, TQR_TO_CLCT_DCS_ATAG
			, TQR_RCP_AMT
			, TQR_TO_RCP_ATAG
			, TQR_RSR_AMT
			, TQR_TO_RSR_ATAG
			, TQR_NPM_LO_AMT
			, TQR_TO_NPM_LO_ATAG
			, UNP_AMT
			, HNDL_STA_CD
			, DTM_YN
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID 
		 ) VALUES (
		 	  SUBSTR(#MAIN#,1,3)
		 	, SUBSTR(#MAIN#,4,3)
		 	, SUBSTR(#MAIN#,7,2)
		 	, SUBSTR(#MAIN#,9,3)
		 	, SUBSTR(#MAIN#,12,3)
		 	, SUBSTR(#MAIN#,15,6)
		 	, SUBSTR(#MAIN#,21,2)
		 	, SUBSTR(#MAIN#,23,3)
		 	, SUBSTR(#MAIN#,26,3)
		 	, SUBSTR(#MAIN#,29,2)
		 	, #maxCnt#
		 	, DECODE(SUBSTRB(#MAIN#,31,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,32,15)),TO_NUMBER(SUBSTRB(#MAIN#,32,15)))
		 	, DECODE(SUBSTRB(#MAIN#,47,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,48,15)),TO_NUMBER(SUBSTRB(#MAIN#,48,15)))
		 	, DECODE(SUBSTRB(#MAIN#,63,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,64,15)),TO_NUMBER(SUBSTRB(#MAIN#,64,15)))
		 	, DECODE(SUBSTRB(#MAIN#,79,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,80,15)),TO_NUMBER(SUBSTRB(#MAIN#,80,15)))
		 	, DECODE(SUBSTRB(#MAIN#,95,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,96,15)),TO_NUMBER(SUBSTRB(#MAIN#,96,15)))
		 	, DECODE(SUBSTRB(#MAIN#,111,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,112,15)),TO_NUMBER(SUBSTRB(#MAIN#,112,15)))
		 	, DECODE(SUBSTRB(#MAIN#,127,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,128,15)),TO_NUMBER(SUBSTRB(#MAIN#,128,15)))
		 	, DECODE(SUBSTRB(#MAIN#,143,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,144,15)),TO_NUMBER(SUBSTRB(#MAIN#,144,15)))
		 	, DECODE(SUBSTRB(#MAIN#,159,1),'-','-'||TO_NUMBER(SUBSTRB(#MAIN#,160,15)),TO_NUMBER(SUBSTRB(#MAIN#,160,15)))
		 	, ''
		 	, 'N'
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>
	 -->
	 
<!-- 	 
	<select id="FAACAV067EselectTxt270201" parameterClass="paramMap" resultClass="resultMap">
	    SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
	    WHERE PROF_YM = SUBSTR(#ATC270201#,15,6)
	    AND ATT_CD = 'ATC270201'
	    AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO =  SUBSTR(#ATC270201#,1,14)
	</select>		
		
	<insert id="FAACAV067EinsertTxt270201" parameterClass="paramMap">
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID
			
		 ) VALUES (
		 	  SUBSTRB(#ATC270201#,1,3)
		 	, SUBSTRB(#ATC270201#,4,3)
		 	, SUBSTRB(#ATC270201#,7,2)
		 	, SUBSTRB(#ATC270201#,9,3)
		 	, SUBSTRB(#ATC270201#,12,3)
		 	, SUBSTRB(#ATC270201#,15,6)
		 	, 'ATC270201'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270201'
			 	  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = SUBSTRB(#ATC270201#,1,14)
			 	  AND PROF_YM = SUBSTRB(#ATC270201#,15,6)
			 	)
			, #maxCnt#
			, 'Txt'
		 	, SUBSTRB(#ATC270201#,21,2)
		 	, TRIM(SUBSTRB(#ATC270201#,23,400))
		 	, 'N'
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>	
	
	<select id="FAACAV067EselectTxt270203" parameterClass="paramMap" resultClass="resultMap">
	    SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
	    WHERE PROF_YM = SUBSTR(#ATC270203#,15,6)
	    AND ATT_CD = 'ATC270203'
	    AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO =  SUBSTR(#ATC270203#,1,14)
	</select>		
		
	<insert id="FAACAV067EinsertTxt270203" parameterClass="paramMap">
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID		
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID			
		 ) VALUES (
		 	  SUBSTRB(#ATC270203#,1,3)
		 	, SUBSTRB(#ATC270203#,4,3)
		 	, SUBSTRB(#ATC270203#,7,2)
		 	, SUBSTRB(#ATC270203#,9,3)
		 	, SUBSTRB(#ATC270203#,12,3)
		 	, SUBSTRB(#ATC270203#,15,6)
		 	, 'ATC270203'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270203'
			 	  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = SUBSTRB(#ATC270203#,1,14)
			 	  AND PROF_YM = SUBSTRB(#ATC270203#,15,6)
			 	)
			, #maxCnt#
			, 'Txt'						 	
		 	, SUBSTRB(#ATC270203#,21,2)
		 	, TRIM(SUBSTRB(#ATC270203#,23,400))
		 	, 'N'
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>
	
	<select id="FAACAV067EselectTxt270204" parameterClass="paramMap" resultClass="resultMap">
	    SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
	    WHERE PROF_YM = SUBSTR(#ATC270204#,15,6)
	    AND ATT_CD = 'ATC270204'
	    AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO =  SUBSTR(#ATC270204#,1,14)
	</select>		
		
	<insert id="FAACAV067EinsertTxt270204" parameterClass="paramMap">
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID			
		 ) VALUES (
		 	  SUBSTRB(#ATC270204#,1,3)
		 	, SUBSTRB(#ATC270204#,4,3)
		 	, SUBSTRB(#ATC270204#,7,2)
		 	, SUBSTRB(#ATC270204#,9,3)
		 	, SUBSTRB(#ATC270204#,12,3)
		 	, SUBSTRB(#ATC270204#,15,6)
		 	, 'ATC270204'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270204'
			 	  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = SUBSTRB(#ATC270204#,1,14)
			 	  AND PROF_YM = SUBSTRB(#ATC270204#,15,6)
			 	)
			, #maxCnt#
			, 'Txt'			 	
		 	, SUBSTRB(#ATC270204#,21,2)
		 	, TRIM(SUBSTRB(#ATC270204#,23,400))
		 	, 'N'
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>
	
	<select id="FAACAV067EselectTxt270205" parameterClass="paramMap" resultClass="resultMap">
	    SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
	    WHERE PROF_YM = SUBSTR(#ATC270205#,15,6)
	    AND ATT_CD = 'ATC270205'
	    AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO =  SUBSTR(#ATC270205#,1,14)
	</select>		
		
	<insert id="FAACAV067EinsertTxt270205" parameterClass="paramMap">
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID			
		 ) VALUES (
		 	  SUBSTRB(#ATC270205#,1,3)
		 	, SUBSTRB(#ATC270205#,4,3)
		 	, SUBSTRB(#ATC270205#,7,2)
		 	, SUBSTRB(#ATC270205#,9,3)
		 	, SUBSTRB(#ATC270205#,12,3)
		 	, SUBSTRB(#ATC270205#,15,6)
		 	, 'ATC270205'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270205'
			 	  AND COPT_CD||ACNT_CD||BLL_CD||PROF_DRTR_SRNO||DL_XPN_RCDB_PBSVT_SRNO = SUBSTRB(#ATC270205#,1,14)
			 	  AND PROF_YM = SUBSTRB(#ATC270205#,15,6)
			 	)
			, #maxCnt#			 	
			, 'Txt'			 	
		 	, SUBSTRB(#ATC270205#,21,2)
		 	, TRIM(SUBSTRB(#ATC270205#,23,400))
		 	, 'N'
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )	
	</insert>
 -->
	
	<!--세입징수 Max 값 채번-->
	<select id="FAACAV067EselectMaxCnt" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectMaxCnt */ ]]>
        <![CDATA[
			SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV054L
			WHERE PROF_YM = #profYm#
			   	AND COPT_CD = #coptCd#
				AND ACNT_CD = #acntCd#
				AND BLL_CD = #bllCd#
				AND PROF_DRTR_SRNO = #profDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
        ]]>  
	</select>	
	
	<insert id="FAACAV067EinsertMainExcel" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EinsertMainExcel */ ]]>
		INSERT INTO TWFAACAV054L
		 (
			COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, SUM_DVSN_ID
			, SSEC_CD
			, ITM_CD
			, SITM_CD
			, DGE
			, TQR_CLCT_DCS_AMT
			, TQR_TO_CLCT_DCS_ATAG
			, TQR_RCP_AMT
			, TQR_TO_RCP_ATAG
			, TQR_RSR_AMT
			, TQR_TO_RSR_ATAG
			, TQR_NPM_LO_AMT
			, TQR_TO_NPM_LO_ATAG
			, UNP_AMT
			, HNDL_STA_CD
			, DTM_YN
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID	 
		 ) VALUES (
			  #coptCd#
		    , #acntCd#
		    , #bllCd#
		    , #profDrtrSrno#
		    , #ordpubSrno#
		    , #profYm#
		    , TO_NUMBER(#COL0#)
		    , REPLACE(#COL1#,'.0','')
		    , REPLACE(#COL2#,'.0','')
		    , SUBSTR(REPLACE(#COL3#,'.0',''),4,2)
		    , #maxCnt#
		    , TO_NUMBER(#COL4#)
		    , TO_NUMBER(#COL5#) 
		    , TO_NUMBER(#COL6#)
		    , TO_NUMBER(#COL7#)
		    , TO_NUMBER(#COL8#)
			, TO_NUMBER(#COL9#)		    
		    , TO_NUMBER(#COL10#)
		    , TO_NUMBER(#COL11#)
		    , TO_NUMBER(#COL12#)
		    , ''
		    , 'N'
		    , TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
		    , ''
		    , ''
		    , ''
		    , ''
		    , ''
		 )
	</insert>

	<!-- 세입 오납금 MAX -->
	<select id="FAACAV067EselectExcel270201" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectExcel270201 */ ]]>
        <![CDATA[
			SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			WHERE PROF_YM = #profYm#
				AND ATT_CD = 'ATC270201'
			   	AND COPT_CD = #coptCd#
				AND ACNT_CD = #acntCd#
				AND BLL_CD = #bllCd#
				AND PROF_DRTR_SRNO = #profDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
        ]]>  
	</select>
	
	
	<!-- 세입 오납금 -->	
	<insert id="FAACAV067EinsertExcel270201" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EinsertExcel270201 */ ]]>
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID				
		 ) VALUES (
			  #coptCd#
		    , #acntCd#
		    , #bllCd#
		    , #profDrtrSrno#
		    , #ordpubSrno#
		    , #profYm#
		 	, 'ATC270201'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270201'
					AND PROF_YM = #profYm#
				   	AND COPT_CD = #coptCd#
					AND ACNT_CD = #acntCd#
					AND BLL_CD = #bllCd#
					AND PROF_DRTR_SRNO = #profDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
			 	)
			, #maxCnt#			 	
			, 'Excel'			 	
		 	, TO_NUMBER(#COL0#)
		 	, REPLACE(#COL1#,'.0','')||REPLACE(#COL2#,'.0','')||SUBSTR(REPLACE(#COL3#,'.0',''),4,2)
		 	  ||' '||LPAD(TO_NUMBER(#COL4#),15,' ')||' '||LPAD(TO_NUMBER(#COL5#),15,' ')
		 	  ||' '||LPAD(TO_NUMBER(#COL6#),15,' ')||' '||LPAD(TO_NUMBER(#COL7#),15,' ')
		 	  ||' '||LPAD(TO_NUMBER(#COL8#),15,' ')||' '||LPAD(TO_NUMBER(#COL9#),15,' ')
		 	  ||' '||LPAD(TO_NUMBER(#COL10#),15,' ')||' '||LPAD(TO_NUMBER(#COL11#),15,' ')
		 	  ||' '||LPAD(TO_NUMBER(#COL12#),15,' ')||' '||LPAD(TO_NUMBER(#COL13#),15,' ')||' '||#COL17#
		 	, 'N'
		 	, ''
		 	, ''
		 	, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>	
	
	<!-- 수입금출납원현금영수액 MAX -->
	<select id="FAACAV067EselectExcel270203" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectExcel270203 */ ]]>
        <![CDATA[
			SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			WHERE PROF_YM = #profYm#
				AND ATT_CD = 'ATC270203'
			   	AND COPT_CD = #coptCd#
				AND ACNT_CD = #acntCd#
				AND BLL_CD = #bllCd#
				AND PROF_DRTR_SRNO = #profDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
        ]]>  
	</select>			
		
	<!-- 수입금출납원 -->
	<insert id="FAACAV067EinsertExcel270203" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EinsertExcel270203 */ ]]>
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID			
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID				
		 ) VALUES (
			  #coptCd#
		    , #acntCd#
		    , #bllCd#
		    , #profDrtrSrno#
		    , #ordpubSrno#
		    , #profYm#
		 	, 'ATC270203'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270203'
					AND PROF_YM = #profYm#
				   	AND COPT_CD = #coptCd#
					AND ACNT_CD = #acntCd#
					AND BLL_CD = #bllCd#
					AND PROF_DRTR_SRNO = #profDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
			 	)
			, #maxCnt#
			, 'Excel'
		 	, TO_NUMBER(#COL0#)
		 	, RPAD(#COL2#,61,' ')||LPAD(TO_NUMBER(#COL3#),15,' ')||#COL4#
		 	, 'N'
		 	, ''
		 	, TO_NUMBER(#COL1#)
		 	, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>
	
	
	<!-- 수납액과 금고영수액 MAX -->
	<select id="FAACAV067EselectExcel270204" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectExcel270204 */ ]]>
        <![CDATA[
			SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			WHERE PROF_YM = #profYm#
				AND ATT_CD = 'ATC270204'
			   	AND COPT_CD = #coptCd#
				AND ACNT_CD = #acntCd#
				AND BLL_CD = #bllCd#
				AND PROF_DRTR_SRNO = #profDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
        ]]>  
	</select>			
		
	<!-- 수납액과 금고영수액 -->
	<insert id="FAACAV067EinsertExcel270204" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EinsertExcel270204 */ ]]>
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID				
		 ) VALUES (
			  #coptCd#
		    , #acntCd#
		    , #bllCd#
		    , #profDrtrSrno#
		    , #ordpubSrno#
		    , #profYm#
		 	, 'ATC270204'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270204'
					AND PROF_YM = #profYm#
				   	AND COPT_CD = #coptCd#
					AND ACNT_CD = #acntCd#
					AND BLL_CD = #bllCd#
					AND PROF_DRTR_SRNO = #profDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
			 	)
			, #maxCnt#
			, 'Excel'
		 	, TO_NUMBER(#COL0#)
		 	, RPAD(#COL2#,61,' ')||LPAD(TO_NUMBER(#COL3#),15,' ')||#COL4#
		 	, 'N'
		 	, ''
		 	, TO_NUMBER(#COL1#)
		 	, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )
	</insert>
	
	
	<!-- 미수납액명세서 MAX -->
	<select id="FAACAV067EselectExcel270205" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectExcel270205 */ ]]>
        <![CDATA[
			SELECT NVL(MAX(DGE),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			WHERE PROF_YM = #profYm#
				AND ATT_CD = 'ATC270205'
			   	AND COPT_CD = #coptCd#
				AND ACNT_CD = #acntCd#
				AND BLL_CD = #bllCd#
				AND PROF_DRTR_SRNO = #profDrtrSrno#
				AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
        ]]>  
	</select>			
		
		
	<!-- 미수납액명세서 -->
	<insert id="FAACAV067EinsertExcel270205" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EinsertExcel270205 */ ]]>
		INSERT INTO TWFAACAV009L
		 (
			  COPT_CD
			, ACNT_CD
			, BLL_CD
			, PROF_DRTR_SRNO
			, DL_XPN_RCDB_PBSVT_SRNO
			, PROF_YM
			, ATT_CD
			, SRNO
			, DGE
			, ATT_TYP_ID
			, SUM_DVSN_ID
			, ATT_TXT
			, DTM_YN
			, HNDL_STA_CD
			, ATT_SRNO
			, FRT_REGI_DH
			, FRT_USR_ID
			, FNL_MDF_DH
			, FNL_USR_ID
			, FNL_DEAL_DPT_CD
			, FNL_MNU_ID				
		 ) VALUES (
			  #coptCd#
		    , #acntCd#
		    , #bllCd#
		    , #profDrtrSrno#
		    , #ordpubSrno#
		    , #profYm#
		 	, 'ATC270205'
		 	, (SELECT NVL(MAX(SRNO),0)+1 AS MAX_SEQ FROM TWFAACAV009L
			 	  WHERE ATT_CD = 'ATC270205'
					AND PROF_YM = #profYm#
				   	AND COPT_CD = #coptCd#
					AND ACNT_CD = #acntCd#
					AND BLL_CD = #bllCd#
					AND PROF_DRTR_SRNO = #profDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #ordpubSrno#
			 	)
			, #maxCnt#			 	
			, 'Excel'			 	
		 	, TO_NUMBER(#COL0#)
		 	, REPLACE(#COL1#,'.0','')||REPLACE(#COL2#,'.0','')||SUBSTR(REPLACE(#COL3#,'.0',''),4,2)
		 	  ||' '||LPAD(TO_NUMBER(#COL4#),15,' ')||#COL5#
		 	, 'N'
		 	, ''
		 	, ''
		 	, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 	, ''
		 )	
	</insert>	

	<select id="FAACAV067EselectReport1" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectReport1 */ ]]>
        		SELECT COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS 증명책임자부호
                   	   ,F_AV_ACNT_CD_NM(ACNT_CD) AS 회계명
                       ,F_AV_BLL_COPT_CD_NM(COPT_CD) AS 소관명
                       ,SSEC_CD||'-'||ITM_CD||'-'||SITM_CD AS 관항목
                       ,TQR_CLCT_DCS_AMT AS 징수결정액기본
                       ,TQR_TO_CLCT_DCS_ATAG AS 징수결정액누계
                       ,TQR_RCP_AMT AS 수납액기본
                       ,TQR_TO_RCP_ATAG AS 수납액누계
                       ,TQR_RSR_AMT AS 환부액본기분
                       ,TQR_TO_RSR_ATAG AS 환부액누계
                       ,TQR_NPM_LO_AMT AS 불납결손액본기분
                       ,TQR_TO_NPM_LO_ATAG AS 불납결손액누계
                       ,UNP_AMT AS 미수납액
				  FROM TWFAACAV054L
			     WHERE SUM_DVSN_ID != '49'
					AND DGE = (
						SELECT MAX(DGE) 
							FROM TWFAACAV054L
						WHERE COPT_CD = #strCoptCd#
							AND ACNT_CD = #strAcntCd#
							AND BLL_CD = #strBllCd#
							AND PROF_DRTR_SRNO = #strProfDrtrSrno#
							AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
		 					AND PROF_YM = #strYr#||#strMm#
					   )
					AND PROF_YM = #strYr#||#strMm#
					AND COPT_CD = #strCoptCd#
					AND ACNT_CD = #strAcntCd#
					AND BLL_CD = #strBllCd#
					AND PROF_DRTR_SRNO = #strProfDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
				ORDER BY FULL_PROF_DRTR_SRNO, DGE, PROF_YM  
	</select>			

	<select id="FAACAV067EselectReport2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectReport2 */ ]]>
        		SELECT COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS 증명책임자부호
                   	   ,F_AV_ACNT_CD_NM(ACNT_CD) AS 회계명
                       ,F_AV_BLL_COPT_CD_NM(COPT_CD) AS 소관명
                       ,SUBSTRB(ATT_TXT,1,3)||'-'||SUBSTRB(ATT_TXT,4,3)||'-'||SUBSTRB(ATT_TXT,7,2) AS 관항세항목
                       ,TO_NUMBER(SUBSTRB(ATT_TXT, 10, 15)) AS 본기분과오납결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 26, 15)) AS 본기까지누계과오납결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 42, 15)) AS 본기분충당결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 58, 15)) AS 본기까지누계충당결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 74, 15)) AS 본기분환부결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 90, 15)) AS 본기까지누계환부결정액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 106, 15)) AS 본기분지급액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 122, 15)) AS 본기까지누계지급액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 138, 15)) AS 본기분미지급액
				       ,TO_NUMBER(SUBSTRB(ATT_TXT, 154, 15)) AS 본기까지누계미지급액
			      FROM TWFAACAV009L
			     WHERE ATT_CD = 'ATC270201'
				   AND SUM_DVSN_ID != '49'
					AND PROF_YM = #strYr#||#strMm#
					AND COPT_CD = #strCoptCd#
					AND ACNT_CD = #strAcntCd#
					AND BLL_CD = #strBllCd#
					AND PROF_DRTR_SRNO = #strProfDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
				ORDER BY 증명책임자부호, 관항세항목				   
	</select>			

	<select id="FAACAV067EselectReport3" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectReport3 */ ]]>
        		 SELECT COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS 증명책임자부호
                   	    ,F_AV_ACNT_CD_NM(ACNT_CD) AS 회계명
                        ,F_AV_BLL_COPT_CD_NM(COPT_CD) AS 소관명
	                    ,ATT_SRNO AS 일련번호
	                    ,SUBSTRB(ATT_TXT,1,61) AS 적요 
	                    ,TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS 현금영수액 
	                    ,TRIM(SUBSTRB(ATT_TXT,77,200)) AS 비고
	               FROM TWFAACAV009L
                  WHERE ATT_CD = 'ATC270203'
                    AND SUM_DVSN_ID != '49'
					AND PROF_YM = #strYr#||#strMm#
					AND COPT_CD = #strCoptCd#
					AND ACNT_CD = #strAcntCd#
					AND BLL_CD = #strBllCd#
					AND PROF_DRTR_SRNO = #strProfDrtrSrno#
					AND DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#
				ORDER BY 증명책임자부호, ATT_SRNO	
	</select>			

	<select id="FAACAV067EselectReport4" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectReport4 */ ]]>
        		 SELECT COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS 증명책임자부호
                   	    ,F_AV_ACNT_CD_NM(ACNT_CD) AS 회계명
                        ,F_AV_BLL_COPT_CD_NM(COPT_CD) AS 소관명
                        ,ATT_SRNO AS 일련번호
                        ,SUBSTRB(ATT_TXT,1,61) AS 적요
                        ,TO_NUMBER(SUBSTRB(ATT_TXT,62,15)) AS 현금영수액
                        ,TRIM(SUBSTRB(ATT_TXT,77,200)) AS 비고
                        FROM TWFAACAV009L
                  WHERE ATT_CD = 'ATC270204'
					AND PROF_YM = #strYr#||#strMm#
					AND COPT_CD = #strCoptCd#
					AND ACNT_CD = #strAcntCd#
					AND  BLL_CD = #strBllCd#
					AND PROF_DRTR_SRNO = #strProfDrtrSrno#
					AND  DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#                  
               ORDER BY 증명책임자부호, 일련번호
	</select>			

	<select id="FAACAV067EselectReport5" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EselectReport5 */ ]]>
        		 SELECT COPT_CD||'-'||ACNT_CD||'-'||BLL_CD||'-'||PROF_DRTR_SRNO||'-'||DL_XPN_RCDB_PBSVT_SRNO AS 증명책임자부호
                   	    ,F_AV_ACNT_CD_NM(ACNT_CD) AS 회계명
                        ,F_AV_BLL_COPT_CD_NM(COPT_CD) AS 소관명
                        ,SUBSTRB(ATT_TXT,1,3)||'-'||SUBSTRB(ATT_TXT,4,3)||'-'||SUBSTRB(ATT_TXT,7,2) AS 관항목
                        , TO_NUMBER(SUBSTRB(ATT_TXT, 10, 15)) AS 미수납액
                        , SUBSTR(ATT_TXT, 25, 400) AS 비고
                   FROM TWFAACAV009L
                  WHERE ATT_CD = 'ATC270205'
					AND PROF_YM = #strYr#||#strMm#
					AND COPT_CD = #strCoptCd#
					AND ACNT_CD = #strAcntCd#
					AND  BLL_CD = #strBllCd#
					AND PROF_DRTR_SRNO = #strProfDrtrSrno#
					AND  DL_XPN_RCDB_PBSVT_SRNO = #strDlXpnRcdbPbsvtSrno#                  
               ORDER BY 증명책임자부호, 관항목                  
	</select>			
	
	<!--세입징수액계산서 삭제 (엑셀 업로드시 기존 데이터 삭제후 insert)-->
	<delete id="FAACAV067EdeleteMainExcel" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteMainExcel */ ]]>
		DELETE FROM TWFAACAV054L
		WHERE COPT_CD          = #coptCd#
			AND ACNT_CD        = #acntCd#
			AND	BLL_CD         = #bllCd#
			AND	PROF_DRTR_SRNO = #profDrtrSrno#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #ordpubSrno#
			AND	PROF_YM        = #profYm#
	</delete>
	
	<!--부표 1 삭제 -->
	<delete id="FAACAV067EdeleteExcel270201" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteExcel270201 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #coptCd#
			AND ACNT_CD        = #acntCd#
			AND	BLL_CD         = #bllCd#
			AND	PROF_DRTR_SRNO = #profDrtrSrno#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #ordpubSrno#
			AND	PROF_YM        = #profYm#
			AND ATT_CD = 'ATC270201'
	</delete>
				
	<!--부표 3 삭제 -->
	<delete id="FAACAV067EdeleteExcel270203" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteExcel270203 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #coptCd#
			AND ACNT_CD        = #acntCd#
			AND	BLL_CD         = #bllCd#
			AND	PROF_DRTR_SRNO = #profDrtrSrno#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #ordpubSrno#
			AND	PROF_YM        = #profYm#
			AND ATT_CD = 'ATC270203'
	</delete>
				
	<!--부표 4 삭제 -->
	<delete id="FAACAV067EdeleteExcel270204" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteExcel270204 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #coptCd#
			AND ACNT_CD        = #acntCd#
			AND	BLL_CD         = #bllCd#
			AND	PROF_DRTR_SRNO = #profDrtrSrno#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #ordpubSrno#
			AND	PROF_YM        = #profYm#
			AND ATT_CD = 'ATC270204'
	</delete>	
			
	<!--부표 5 삭제 -->
	<delete id="FAACAV067EdeleteExcel270205" parameterClass="paramMap">
		<![CDATA[  /* faa/cav/067/FAACAV067EdeleteExcel270205 */ ]]>
		DELETE FROM TWFAACAV009L
		WHERE COPT_CD          = #coptCd#
			AND ACNT_CD        = #acntCd#
			AND	BLL_CD         = #bllCd# 
			AND	PROF_DRTR_SRNO = #profDrtrSrno#
			AND	DL_XPN_RCDB_PBSVT_SRNO    = #ordpubSrno#
			AND	PROF_YM        = #profYm#
			AND ATT_CD = 'ATC270205'
	</delete>			
</sqlMap>
