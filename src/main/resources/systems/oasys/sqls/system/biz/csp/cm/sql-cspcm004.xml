<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/cm/004">
	
	<select id="CSP004ISelectDate" parameterClass="paramMap"
		resultClass="resultMap">
		<dynamic>
			<isNotEmpty property="vsDate">
				<isNotEmpty property="vsDay">
				SELECT 	TO_CHAR(ADD_MONTHS(SYSDATE, #vsDate#) + #vsDay#,'YYYYMMDD') AS YYYYMMDD
				FROM 	DUAL
				</isNotEmpty> 
				<isEmpty property="vsDay">
				SELECT 	TO_CHAR(ADD_MONTHS(SYSDATE, #vsDate#),'YYYYMMDD') AS YYYYMMDD
				FROM 	DUAL
				</isEmpty>
			</isNotEmpty>
			<isEmpty property="vsDate"> 
				<isEmpty property="vsDay">
				SELECT 	TO_CHAR(SYSDATE,'YYYYMMDD') AS YYYYMMDD 
				FROM 	DUAL
				</isEmpty>
				<isNotEmpty property="vsDay">
				SELECT 	TO_CHAR(SYSDATE + #vsDay#,'YYYYMMDD') AS YYYYMMDD
				FROM 	DUAL 
			</isNotEmpty>
			</isEmpty>
		</dynamic>
	</select>        
	
</sqlMap> 
