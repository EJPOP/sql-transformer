<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/bii/113">
	<!-- 감사정보기본 상세조회 맵 -->
	<resultMap class="java.util.HashMap" id="CSPBII113QMainSelectMap">
		<result property="TIT_TXT"			column="TIT_TXT" 			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CLC_DVSN_CD"		column="CLC_DVSN_CD" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CLC_DVSN_NM"		column="CLC_DVSN_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRC_DVSN_CD"		column="SRC_DVSN_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRC_DVSN_NM"		column="SRC_DVSN_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_DVSN_CD"		column="INF_DVSN_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_DVSN_NM"		column="INF_DVSN_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD"		column="REL_ORG_CD"			jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="REL_ORG_NM"		column="REL_ORG_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD_1"		column="REL_ORG_CD_1" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_NM_1"		column="REL_ORG_NM_1"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD_2"		column="REL_ORG_CD_2"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_NM_2"		column="REL_ORG_NM_2"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="HNDL_DPT_CD"		column="HNDL_DPT_CD" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DPT_NM"		column="HNDL_DPT_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="OPEN_YN"			column="OPEN_YN"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_NO"			column="INF_NO"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="REGI_DT"			column="REGI_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_DT"			column="SMT_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_DT2"			column="SMT_DT2"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="ACP_DT"			column="ACP_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DTB_DT"			column="DTB_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_DT"			column="TRNF_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_DT"			column="AUD_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_ACP_DT"		column="TRNF_ACP_DT"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DT"			column="HNDL_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CMPT_DT"			column="CMPT_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="TOT_SC"			column="TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_SC"			column="SMT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_ADT_SC"		column="SMT_ADT_SC"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SPCF_INF_ADT_SC"	column="SPCF_INF_ADT_SC"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CAT_ADT_SC"		column="CAT_ADT_SC"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="UTL_ADT_SC"		column="UTL_ADT_SC"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_ADT_SC"		column="HNDL_ADT_SC"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BRON_ADT_SC"		column="BRON_ADT_SC"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="HNDL_ORD_CD"		column="HNDL_ORD_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_ORD_NM"		column="HNDL_ORD_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="HNDL_RSLT_CD"		column="HNDL_RSLT_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_RSLT_NM"		column="HNDL_RSLT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_TXT"		column="AUD_INF_TXT" 		jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_INF_ETC_TXT"	column="AUD_INF_ETC_TXT"	jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_INF_SMM_TXT"	column="AUD_INF_SMM_TXT"	jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="PRSR_DPT_CD"		column="PRSR_DPT_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_DPT_NM"		column="PRSR_DPT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_ABR_DPT_NM"	column="PRSR_ABR_DPT_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RAL_BLT_DIV_NM"	column="RAL_BLT_DIV_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_RANK_CD"		column="PRSR_RANK_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_RANK_NM"		column="PRSR_RANK_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_CNB"			column="PRSR_CNB"			jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="PRSR_NAM"			column="PRSR_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APVR_PST_NM"		column="APVR_PST_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APVR_RANK_NM"		column="APVR_RANK_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="APVR_NAM"			column="APVR_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_CNB"		column="HNDL_PEN_CNB"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_NAM"		column="HNDL_PEN_NAM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="PRSS_STT_NM"		column="PRSS_STT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSS_DTL_NM"		column="PRSS_DTL_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SC_SITU_NM"		column="SC_SITU_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
			
		<result property="HNDL_RSLT_SMM_TXT"	column="HNDL_RSLT_SMM_TXT"		jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_DPT_CD"			column="AUD_DPT_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_DPT_NM"			column="AUD_DPT_NM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_PEN_NAM"			column="AUD_PEN_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_SBJ_NM"			column="AUD_SBJ_NM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_DOC_ID"			column="REL_DOC_ID"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DOC_ID"			column="HNDL_DOC_ID"			jdbcType="VARCHAR2" javaType="java.lang.String"/>		
		<result property="AUD_INF_PRSS_STA_CD"	column="AUD_INF_PRSS_STA_CD"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_PRSS_STA_NM"	column="AUD_INF_PRSS_STA_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_POP_CNT"			column="AUD_POP_CNT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DPT_TP_CD"			column="DPT_TP_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DPT_TP_CD2"			column="DPT_TP_CD2"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="ACP_YR"				column="ACP_YR"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CVPT_ACP_NO"			column="CVPT_ACP_NO"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REQ_DVSN_CD"			column="REQ_DVSN_CD"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CVPT_TIT_NM"			column="CVPT_TIT_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="YE"					column="YE"						jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRNO"					column="SRNO"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SBM_DT"				column="SBM_DT"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_NAM_CNB"				column="HNDL_PEN_NAM_CNB"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BK_HNDL_ORD_CD"				column="BK_HNDL_ORD_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HOM_TNB"						column="HOM_TNB"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_CD"					column="PRE_EVL_CD"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_FDLTY"				column="PRE_EVL_FDLTY"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_IFENE"				column="PRE_EVL_IFENE"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_WRDO"					column="PRE_EVL_WRDO"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_ANL_OPIN_TXT"			column="AUD_INF_ANL_OPIN_TXT"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_BLE_ANL_OPIN_TXT"		column="AUD_INF_BLE_ANL_OPIN_TXT"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="GEN_ADMN_DVSN_NM"				column="GEN_ADMN_DVSN_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BLE_CHGR_CNB"					column="BLE_CHGR_CNB"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BLE_CHGR_NAM"					column="BLE_CHGR_NAM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BK_TRNF_DT"					column="BK_TRNF_DT"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APV_OPIN"						column="APV_OPIN"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="ELY_ADT_SC"					column="ELY_ADT_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="QLT_ADPT_ADT_SC"				column="QLT_ADPT_ADT_SC"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DPT_INF_ADT_SC"				column="DPT_INF_ADT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="MLG_ADT_NOC"					column="MLG_ADT_NOC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FRT_REGI_DT"					column="FRT_REGI_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_APV_DOC_NO"				column="TRNF_APV_DOC_NO"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="FDLTY_MNAG_SC"				column="FDLTY_MNAG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TIME_SC"				column="FDLTY_TIME_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TG_SC"					column="FDLTY_TG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TXT_SC"					column="FDLTY_TXT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_BAS_SC"					column="FDLTY_BAS_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RIBLY_EVI_SC"					column="RIBLY_EVI_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RIBLY_IVTG_SC"				column="RIBLY_IVTG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="UTL_INSP_SC"					column="UTL_INSP_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="UTL_SPCF_SC"					column="UTL_SPCF_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="FDLTY_TOT_SC"					column="FDLTY_TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="RIBLY_TOT_SC"					column="RIBLY_TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="UTL_TOT_SC"					column="UTL_TOT_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="FNL_TOT_SC"					column="FNL_TOT_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>			
		
	</resultMap>
	
	<!-- 감사정보기본 상세조회 맵 -->
	<resultMap class="java.util.HashMap" id="CSPBII113QMainSelectMap2">
		<result property="TIT_TXT"			column="TIT_TXT" 			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CLC_DVSN_CD"		column="CLC_DVSN_CD" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CLC_DVSN_NM"		column="CLC_DVSN_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRC_DVSN_CD"		column="SRC_DVSN_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRC_DVSN_NM"		column="SRC_DVSN_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_DVSN_CD"		column="INF_DVSN_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_DVSN_NM"		column="INF_DVSN_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD"		column="REL_ORG_CD"			jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="REL_ORG_NM"		column="REL_ORG_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD_1"		column="REL_ORG_CD_1" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_NM_1"		column="REL_ORG_NM_1"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_CD_2"		column="REL_ORG_CD_2"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_ORG_NM_2"		column="REL_ORG_NM_2"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="HNDL_DPT_CD"		column="HNDL_DPT_CD" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DPT_NM"		column="HNDL_DPT_NM" 		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="OPEN_YN"			column="OPEN_YN"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="INF_NO"			column="INF_NO"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="REGI_DT"			column="REGI_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_DT"			column="SMT_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SMT_DT2"			column="SMT_DT2"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="ACP_DT"			column="ACP_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DTB_DT"			column="DTB_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_DT"			column="TRNF_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_DT"			column="AUD_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_ACP_DT"		column="TRNF_ACP_DT"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DT"			column="HNDL_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CMPT_DT"			column="CMPT_DT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="TOT_SC"			column="TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
				
		<result property="HNDL_ORD_CD"		column="HNDL_ORD_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_ORD_NM"		column="HNDL_ORD_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="HNDL_RSLT_CD"		column="HNDL_RSLT_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_RSLT_NM"		column="HNDL_RSLT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_TXT"		column="AUD_INF_TXT" 		jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_INF_ETC_TXT"	column="AUD_INF_ETC_TXT"	jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_INF_SMM_TXT"	column="AUD_INF_SMM_TXT"	jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="PRSR_DPT_CD"		column="PRSR_DPT_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_DPT_NM"		column="PRSR_DPT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_ABR_DPT_NM"	column="PRSR_ABR_DPT_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RAL_BLT_DIV_NM"	column="RAL_BLT_DIV_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_RANK_CD"		column="PRSR_RANK_CD"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_RANK_NM"		column="PRSR_RANK_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSR_CNB"			column="PRSR_CNB"			jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="PRSR_NAM"			column="PRSR_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APVR_PST_NM"		column="APVR_PST_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APVR_RANK_NM"		column="APVR_RANK_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="APVR_NAM"			column="APVR_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_CNB"		column="HNDL_PEN_CNB"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_NAM"		column="HNDL_PEN_NAM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="PRSS_STT_NM"		column="PRSS_STT_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRSS_DTL_NM"		column="PRSS_DTL_NM"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SC_SITU_NM"		column="SC_SITU_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
			
		<result property="HNDL_RSLT_SMM_TXT"	column="HNDL_RSLT_SMM_TXT"		jdbcType="CLOB" 	javaType="java.lang.String"/>
		<result property="AUD_DPT_CD"			column="AUD_DPT_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_DPT_NM"			column="AUD_DPT_NM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_PEN_NAM"			column="AUD_PEN_NAM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_SBJ_NM"			column="AUD_SBJ_NM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REL_DOC_ID"			column="REL_DOC_ID"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_DOC_ID"			column="HNDL_DOC_ID"			jdbcType="VARCHAR2" javaType="java.lang.String"/>		
		<result property="AUD_INF_PRSS_STA_CD"	column="AUD_INF_PRSS_STA_CD"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_PRSS_STA_NM"	column="AUD_INF_PRSS_STA_NM"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_POP_CNT"			column="AUD_POP_CNT"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DPT_TP_CD"			column="DPT_TP_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="DPT_TP_CD2"			column="DPT_TP_CD2"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="ACP_YR"				column="ACP_YR"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CVPT_ACP_NO"			column="CVPT_ACP_NO"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="REQ_DVSN_CD"			column="REQ_DVSN_CD"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="CVPT_TIT_NM"			column="CVPT_TIT_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="YE"					column="YE"						jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SRNO"					column="SRNO"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="SBM_DT"				column="SBM_DT"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HNDL_PEN_NAM_CNB"				column="HNDL_PEN_NAM_CNB"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BK_HNDL_ORD_CD"				column="BK_HNDL_ORD_CD"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="HOM_TNB"						column="HOM_TNB"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_CD"					column="PRE_EVL_CD"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_FDLTY"				column="PRE_EVL_FDLTY"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_IFENE"				column="PRE_EVL_IFENE"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="PRE_EVL_WRDO"					column="PRE_EVL_WRDO"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_ANL_OPIN_TXT"			column="AUD_INF_ANL_OPIN_TXT"		jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="AUD_INF_BLE_ANL_OPIN_TXT"		column="AUD_INF_BLE_ANL_OPIN_TXT"	jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="GEN_ADMN_DVSN_NM"				column="GEN_ADMN_DVSN_NM"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BLE_CHGR_CNB"					column="BLE_CHGR_CNB"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BLE_CHGR_NAM"					column="BLE_CHGR_NAM"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="BK_TRNF_DT"					column="BK_TRNF_DT"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="APV_OPIN"						column="APV_OPIN"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="UTL_SC"						column="UTL_SC"						jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_SC"						column="FDLTY_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RIBLY_SC"						column="RIBLY_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FRT_REGI_DT"					column="FRT_REGI_DT"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="TRNF_APV_DOC_NO"				column="TRNF_APV_DOC_NO"			jdbcType="VARCHAR2" javaType="java.lang.String"/>
		
		<result property="FDLTY_MNAG_SC"				column="FDLTY_MNAG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TIME_SC"				column="FDLTY_TIME_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TG_SC"					column="FDLTY_TG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_TXT_SC"					column="FDLTY_TXT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="FDLTY_BAS_SC"					column="FDLTY_BAS_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RIBLY_EVI_SC"					column="RIBLY_EVI_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="RIBLY_IVTG_SC"				column="RIBLY_IVTG_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="UTL_INSP_SC"					column="UTL_INSP_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>
		<result property="UTL_SPCF_SC"					column="UTL_SPCF_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>		
		
		<result property="FDLTY_TOT_SC"					column="FDLTY_TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="RIBLY_TOT_SC"					column="RIBLY_TOT_SC"				jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		<result property="UTL_TOT_SC"					column="UTL_TOT_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>	
		
		<result property="FNL_TOT_SC"					column="FNL_TOT_SC"					jdbcType="VARCHAR2" javaType="java.lang.String"/>		
		
	</resultMap>	
	
	<!-- 감사정보기본 상세조회 -->   
	<select id="CSPBII113QMainSelect" parameterClass="paramMap" resultMap="CSPBII113QMainSelectMap">
		<![CDATA[       		
			SELECT /* 감사정보 상세조회 영역 */
			       '상신(' || TO_CHAR(TO_DATE(A.SBM_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '제출(' || TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '접수(' || TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '이송(' || TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '이송접수(' || TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '감사중(' || TO_CHAR(TO_DATE(A.AUD_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '처리중(' || TO_CHAR(TO_DATE(A.HNDL_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ','||(SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB)||')⇒'
			    || '완료(' || TO_CHAR(TO_DATE(A.CMPT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'                                              AS PRSS_STT_NM /* 진행상황명 */			    
			     , F_CODE_NM('1000085', A.AUD_INF_PRSS_STA_CD)
			    || CASE WHEN A.AUD_INF_PRSS_STA_CD = '05' THEN '(' || TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '10' THEN '(' || TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '15' THEN '(' || TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '20' THEN '(' || TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD IN ('31', '32') THEN '(' || (SELECT E.DPT_NM || ', '
			                                                                      FROM TBDCMACM002M E
			                                                                     WHERE E.DPT_CD = A.AUD_DPT_CD) || A.AUD_SBJ_NM || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD IN ('21', '22', '23', '24', '99') THEN '(' || (SELECT E.DPT_NM || ', '
			                                                                                        FROM TBDCMACM002M E
			                                                                                       WHERE E.DPT_CD = A.AUD_DPT_CD) || F_CODE_NM('1000042', A.HNDL_RSLT_CD) || ')'
			       END                                                                                                                 AS PRSS_DTL_NM /* 진행세부명 */
			     , '제출점수 : ' || TO_CHAR(nvl(A.SMT_SC,0) + nvl(A.SMT_ADT_SC,0) + nvl(A.ELY_ADT_SC,0) + nvl(A.CAT_ADT_SC,0) + nvl(A.SPCF_INF_ADT_SC,0) 
			     + nvl(A.QLT_ADPT_ADT_SC,0) +  nvl(A.BRON_ADT_SC,0) + nvl(A.DPT_INF_ADT_SC,0)) || '점 ('
			     || '기본점수 : ' || TO_CHAR(nvl(A.SMT_SC,0)) || '점, '
			     || '품질가점 : ' || TO_CHAR(nvl(A.QLT_ADPT_ADT_SC,0)) || '점, '
			     || '일반가점 : ' || TO_CHAR(nvl(A.ELY_ADT_SC,0)+nvl(A.CAT_ADT_SC,0)+nvl(A.SPCF_INF_ADT_SC,0)+nvl(A.BRON_ADT_SC,0)) || '점), '
			     || '활용가점 : ' || 
			    /* 처리결과가 [31:입건]일 경우에는 기본 60점을 부여하여 정보 2건 이상이 같은 처분요구일 경우 기준활용 가점을 건수로 일할 계산 */			       
			       TO_CHAR(A.UTL_ADT_SC) || '점, '
			     || '처리가점 : ' || TO_CHAR(A.HNDL_ADT_SC) || '점' AS SC_SITU_NM  /* 점수현황명 */
			     , B.HNDL_RSLT_SMM_TXT                                                                                                                /* 처리결과요약내용(처리전) */
			     , A.AUD_DPT_CD                                                                                                                       /* 감사부서코드 */
			     , (SELECT E.DPT_NM
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.AUD_DPT_CD)                                                                                    AS AUD_DPT_NM  /* 감사부서명 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.AUD_PEN_CNB)                                                                                      AS AUD_PEN_NAM /* 감사자명 */
			     , A.AUD_SBJ_NM
			       /* 감사정보기본 등록/수정 및 상세조회 공통 영역 */
			     , A.TIT_TXT                                                                                /* 제목내용 */
			     , A.CLC_DVSN_CD                                                                            /* 수집구분코드 */
			     , (SELECT E.SPCF_AUD_SBJ
			          FROM TBCSPBII140M E
			         WHERE E.SPCF_INF_CLC_NO = A.CLC_DVSN_CD)                       AS CLC_DVSN_NM          /* 수집구분명 */
			     , A.SRC_DVSN_CD                                                                            /* 출처구분코드 */
			     , F_CODE_NM('1000040', A.SRC_DVSN_CD)                              AS SRC_DVSN_NM          /* 출처구분명 */
			     , A.INF_DVSN_CD                                                                            /* 정보구분코드 */
			     , F_CODE_NM('1000097', A.INF_DVSN_CD)                              AS INF_DVSN_NM          /* 정보구분명 */
			     , A.REL_ORG_CD                                                     AS REL_ORG_CD           /* 관련기관코드1 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD)                                 AS REL_ORG_NM           /* 관련기관명1 */
			     , A.REL_ORG_CD_1                                                   AS REL_ORG_CD_1         /* 관련기관코드2 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD_1)                               AS REL_ORG_NM_1         /* 관련기관명2 */
			     , A.REL_ORG_CD_2                                                   AS REL_ORG_CD_2         /* 관련기관코드3 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD_2)                               AS REL_ORG_NM_2         /* 관련기관명3 */       
			     , A.HNDL_DPT_CD                                                                            /* 처리(소관)부서코드 */
			     , (SELECT B.DPT_NM
			          FROM TBDCMACM002M B
			         WHERE B.DPT_CD = A.HNDL_DPT_CD)                                AS HNDL_DPT_NM          /* 처리(소관)부서명 */
			     , A.OPEN_YN                                                                                /* 공개여부 */
			     , A.YE || '-' || A.SRNO                                            AS INF_NO               /* 정보번호 */
			     , TO_CHAR(TO_DATE(A.REGI_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS REGI_DT              /* 등록일 */
			     , TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS SMT_DT               /* 제출일 */
			     , A.SMT_DT AS SMT_DT2
			     , TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS ACP_DT               /* 접수일 */
			     , TO_CHAR(TO_DATE(A.DTB_DT), 'YYYY.MM.DD')             AS DTB_DT               /* 배부일 */
			     , TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS TRNF_DT              /* 이송일 */
			     , TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD')        AS TRNF_ACP_DT          /* 이송접수일 */
			     , TO_CHAR(TO_DATE(A.AUD_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS AUD_DT               /* 감사일 */
			     , TO_CHAR(TO_DATE(A.HNDL_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS HNDL_DT              /* 처리일 */
			     , TO_CHAR(TO_DATE(A.CMPT_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS CMPT_DT              /* 완료일 */			    
			     , nvl(A.SMT_SC,0) + nvl(A.SMT_ADT_SC,0) + nvl(A.SPCF_INF_ADT_SC,0) + nvl(A.CAT_ADT_SC,0) + nvl(A.UTL_ADT_SC,0) + nvl(A.BRON_ADT_SC,0) 
			     + nvl(A.ELY_ADT_SC,0) + nvl(A.QLT_ADPT_ADT_SC,0) + nvl(A.DPT_INF_ADT_SC,0) + nvl(A.HNDL_ADT_SC,0) + nvl(A.MLG_ADT_NOC,0) AS TOT_SC /* 총점수 */
			     , nvl(A.SMT_SC,0)                                                  AS SMT_SC               /* 제출점수 */
			     , nvl(A.SMT_ADT_SC,0)                                              AS SMT_ADT_SC           /* 제출추가점수 */
			     , nvl(A.SPCF_INF_ADT_SC,0)                                         AS SPCF_INF_ADT_SC      /* 특정정보추가점수 */
			     , nvl(A.CAT_ADT_SC,0)                                              AS CAT_ADT_SC           /* 분류추가점수 */
			     , nvl(A.UTL_ADT_SC,0)                                              AS UTL_ADT_SC           /* 활용추가점수 */
			     , nvl(A.BRON_ADT_SC,0)                                             AS BRON_ADT_SC          /* 바론추가점수 */
			     , nvl(A.ELY_ADT_SC,0)                                              AS ELY_ADT_SC           /* 조기제출추가점수 */
			     , nvl(A.QLT_ADPT_ADT_SC,0)                                         AS QLT_ADPT_ADT_SC      /* 품질가점추가점수 */
			     , nvl(A.DPT_INF_ADT_SC,0)                                          AS DPT_INF_ADT_SC       /* 부서추가점수 */
			     , nvl(A.MLG_ADT_NOC,0)                                             AS MLG_ADT_NOC          /* 마일리지추가건수 */
			     , nvl(A.HNDL_ADT_SC,0)                                             AS HNDL_ADT_SC          /* 처리추가점수 */
			     , A.HNDL_ORD_CD                                                                            /* 처리지시코드 */
			     , F_CODE_NM('1000039', A.HNDL_ORD_CD) AS HNDL_ORD_NM                                       /* 처리지시명 */
			     , A.HNDL_RSLT_CD                                                                           /* 처리결과코드 */
			     , F_CODE_NM('1000042', A.HNDL_RSLT_CD)                             AS HNDL_RSLT_NM         /* 처리결과명 */
			     , B.AUD_INF_TXT                                                                            /* 감사정보내용 */
			     , B.AUD_INF_ETC_TXT                                                                        /* 감사정보기타내용 */
			     , B.AUD_INF_SMM_TXT                                                                        /* 감사정보요약내용 */
			     , A.PRSR_DPT_CD                                                                            /* 제출부서코드 */
			     , (SELECT E.DPT_NM
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.PRSR_DPT_CD)                                AS PRSR_DPT_NM          /* 제출자부서명 */
			     , (SELECT E.ABR_DPT_NM_1
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.PRSR_DPT_CD)                                AS PRSR_ABR_DPT_NM      /* 제출자약칭부서명 */
			     , (SELECT S2.CD_NM
			     	  FROM TBDCMACM001M S1, TBDCMACM013C S2
			     	 WHERE S1.RAL_BLT_DIV_CD = S2.CD
			     	   AND S2.CMM_CD_DVSN_CD = '1000144'
			     	   AND S1.CNB = A.PRSR_CNB
			       ) AS RAL_BLT_DIV_NM
			     , F_CODE_NM('1000173', A.PRSR_RANK_CD)                             AS PRSR_RANK_NM         /* 제출자직급명 */
			     , A.PRSR_RANK_CD                                                                           /* 제출자직급명 */
			     , A.PRSR_CNB                                                                               /* 제출자전산번호 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.PRSR_CNB)                                      AS PRSR_NAM             /* 제출자성명 */
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_PST_NM, D.SMT_APVR_PST_NM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_PST_NM,D.SMT_APVR_PST_NM)
			            ELSE                                    D.SMT_APVR_PST_NM
			       END                                                              AS APVR_PST_NM          /* 결재자직위명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_RANK_NM, D.SMT_APVR_RANK_NM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_RANK_NM,D.SMT_APVR_RANK_NM)
			            ELSE                                    D.SMT_APVR_RANK_NM
			       END                                                              AS APVR_RANK_NM         /* 결재자직급명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_NAM, D.SMT_APVR_NAM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_NAM,D.SMT_APVR_NAM)
			            ELSE                                    D.SMT_APVR_NAM
			       END                                                              AS APVR_NAM             /* 결재자성명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/  
			     , A.HNDL_PEN_CNB                                                                           /* 처리자전산번호 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB)                                  AS HNDL_PEN_NAM         /* 처리자성명 */			     
			     , (SELECT E.DOC_ID
			          FROM TBCSPBII102L E /*감사정보첨부파일내역 */
			         WHERE E.YE                     = A.YE
			           AND E.SRNO                   = A.SRNO
			           AND E.DOC_TYP_CD = 'SP-II-001')                              AS REL_DOC_ID           /* 관련첨부파일문서ID */
			     , (SELECT E.DOC_ID
			          FROM TBCSPBII102L E /*감사정보첨부파일내역 */
			         WHERE E.YE                     = A.YE
			           AND E.SRNO                   = A.SRNO
			           AND E.DOC_TYP_CD = 'SP-II-002')                              AS HNDL_DOC_ID          /* 처리첨부파일문서ID */      	
			     , A.AUD_INF_PRSS_STA_CD                                                                    /* 감사정보진행상태코드 */		
			     , F_CODE_NM('1000085', A.AUD_INF_PRSS_STA_CD)                      AS AUD_INF_PRSS_STA_NM  /* 감사정보진행상태명 */
			     , (SELECT COUNT(*)
			          FROM TBCSPBII150L E
			         WHERE E.YE = A.YE
			           AND E.SRNO = A.SRNO			            
			           AND E.AUD_POP_DT IS NOT NULL
			           AND E.AUD_POP_RLS_DT IS NULL
			           AND ( E.AUD_POP_DPT_CD = #strDptCd#  OR E.SRCH_PEN_CNB = #S_CNB#))                           AS AUD_POP_CNT          /* 감사찜건수 */
			     , A.PRSR_DPT_TP_CD AS DPT_TP_CD
			     , CASE WHEN (SELECT  GEN_ADMN_DVSN_CD
			     	FROM	TBDCMACM001M S1
			     	WHERE	A.PRSR_CNB = S1.CNB
			     	) = '2' THEN '행정' 
			     	WHEN (SELECT  GEN_ADMN_DVSN_CD
			     	FROM	TBDCMACM001M S1
			     	WHERE	A.PRSR_CNB = S1.CNB
			     	) = '3' THEN '파견'
			     	ELSE '일반'  END AS DPT_TP_CD2
			     , A.ACP_YR                                                                                 /* 접수년도 */
			     , A.CVPT_ACP_NO                                                                            /* 민원접수번호 */
			     , A.REQ_DVSN_CD	                                                                        /* 요구구분코드 */
			     , CASE WHEN A.REQ_DVSN_CD = '1' THEN 
														(SELECT '('||E.ACP_YR||DECODE(E.RM_ACP_KND_CD,'','-','2','-민원-','1','-제보-')||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						WHEN A.REQ_DVSN_CD = '2' THEN 
														(SELECT '('||E.ACP_YR||'-국민-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						WHEN A.REQ_DVSN_CD = '3' THEN 
														(SELECT '('||E.ACP_YR||'-공익-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)														    														    
						WHEN A.REQ_DVSN_CD = '5' THEN 
														(SELECT '('||E.ACP_YR||'-부감-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCORCOR101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)	
						WHEN A.REQ_DVSN_CD = '6' THEN 
														(SELECT '('||E.ACP_YR||'-청금-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
													       FROM TBDCPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
													        AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						ELSE 	(SELECT '('||E.ACP_YR||DECODE(E.RM_ACP_KND_CD,'','-','2','-민원-','1','-제보-')||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
																			          FROM TBCSPDCP101M E
																			         WHERE E.ACP_YR      = A.ACP_YR
																			           AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
																			           AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)	
				   END AS CVPT_TIT_NM           /* 민원, 부패행위, 청탁신고 제목명 */
			     , A.YE                                                                                     /* 연도 */
			     , A.SRNO                                                                                   /* 일련번호 */
			     , D.SBM_DT /*상신일*/
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB) ||'('||A.HNDL_PEN_CNB||')'                             AS HNDL_PEN_NAM_CNB         /* 처리자성명 */
			         ,a.HNDL_ORD_CD AS BK_HNDL_ORD_CD 	
			     , (SELECT	B.HOM_TNB
			     	FROM	TBDCMACM001M B
			     	WHERE A.PRSR_CNB = B.CNB ) AS HOM_TNB
			     , DECODE(A.PRE_EVL_CD, '10','상','20','중','30','하','점수') AS PRE_EVL_CD
			     , DECODE(A.PRE_EVL_FDLTY, '10','상','20','중','30','하','점수') AS PRE_EVL_FDLTY
			     , DECODE(A.PRE_EVL_IFENE, '10','상','20','중','30','하','점수') AS PRE_EVL_IFENE
			     , DECODE(A.PRE_EVL_WRDO, '10','상','20','중','30','하','점수') AS PRE_EVL_WRDO
			     , B.AUD_INF_ANL_OPIN_TXT /*제출자 분석의견*/
			     , B.AUD_INF_BLE_ANL_OPIN_TXT /*총괄부서분석의견*/
			     , (SELECT F_CODE_NM('1000852',GEN_ADMN_DVSN_CD)
			     	FROM	TBDCMACM001M  S1
			     	WHERE	A.PRSR_CNB = S1.CNB 
			     	)
			      AS GEN_ADMN_DVSN_NM
			     , A.BLE_CHGR_CNB
			     , F_USR_INFO (A.BLE_CHGR_CNB,'2') AS BLE_CHGR_NAM
			     , TRNF_DT            AS BK_TRNF_DT              /* 이송일 */
			     , (SELECT S1.APV_OPIN
			     	  FROM TBDCMACM023L S1
			     	 WHERE A.APV_DOC_NO = S1.APV_DOC_NO
			     	   AND S1.APV_DVSN_CD ='AudInfoSend' 
			     	   AND S1.APVR_KND_CD = '3'
			     ) AS  APV_OPIN
			     , TO_CHAR(A.FRT_REGI_DH,'YYYYMMDD') AS FRT_REGI_DT
			     , A.TRNF_APV_DOC_NO
			     , nvl(A.FDLTY_MNAG_SC,0) AS FDLTY_MNAG_SC    /* 충실성행위주체점수 */
			     , nvl(A.FDLTY_TIME_SC,0) AS FDLTY_TIME_SC    /* 충실성행위시기점수 */
			     , nvl(A.FDLTY_TG_SC,0)   AS FDLTY_TG_SC      /* 충실성행위대상점수 */
			     , nvl(A.FDLTY_TXT_SC,0)  AS FDLTY_TXT_SC     /* 충실성행위대상점수 */
			     , nvl(A.FDLTY_BAS_SC,0)  AS FDLTY_BAS_SC     /* 충실성법적근거점수 */
			     , nvl(A.RIBLY_EVI_SC,0)  AS RIBLY_EVI_SC     /* 신뢰성증거자료점수 */
			     , nvl(A.RIBLY_IVTG_SC,0) AS RIBLY_IVTG_SC    /* 신뢰성탐문정보점수 */
			     , nvl(A.UTL_INSP_SC,0)   AS UTL_INSP_SC      /* 활용가능성감찰정보점수 */
			     , nvl(A.UTL_SPCF_SC,0)   AS UTL_SPCF_SC      /* 활용가능성특정정보점수 */
			     , DECODE(nvl(A.FDLTY_SC,0),0,(nvl(A.FDLTY_MNAG_SC, 0) + nvl(A.FDLTY_TIME_SC, 0) + nvl(A.FDLTY_TG_SC, 0) + nvl(A.FDLTY_TXT_SC, 0) + nvl(A.FDLTY_BAS_SC, 0)),A.FDLTY_SC) AS FDLTY_TOT_SC
			     , DECODE(nvl(A.RIBLY_SC,0),0,(nvl(A.RIBLY_EVI_SC,0) + nvl(A.RIBLY_IVTG_SC,0)),A.RIBLY_SC) AS RIBLY_TOT_SC
			     , DECODE(nvl(A.UTL_SC,0),0,(nvl(A.UTL_INSP_SC,0) + nvl(A.UTL_SPCF_SC,0)),A.UTL_SC) AS UTL_TOT_SC
			     , DECODE((nvl(A.FDLTY_SC,0)+nvl(A.RIBLY_SC,0)+nvl(A.UTL_SC,0)),0,(nvl(A.FDLTY_MNAG_SC,0) + nvl(A.FDLTY_TIME_SC,0) + nvl(A.FDLTY_TG_SC,0) + nvl(A.FDLTY_TXT_SC,0) + nvl(A.FDLTY_BAS_SC,0)
			     + nvl(A.RIBLY_EVI_SC,0) + nvl(A.RIBLY_IVTG_SC,0)
			     + nvl(A.UTL_INSP_SC,0) + nvl(A.UTL_SPCF_SC,0)),(nvl(A.FDLTY_SC,0)+nvl(A.RIBLY_SC,0)+nvl(A.UTL_SC,0))) AS FNL_TOT_SC
			  FROM TBCSPBII100M A /* 감사정보기본 */
			     , TBCSPBII101L B /* 감사정보내역 */
			     , (SELECT D.APV_DOC_NO
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000176', E.PST_CD), NULL)  AS SMT_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000173', E.RANK_CD), NULL) AS SMT_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', E.USR_NAM, NULL)                       AS SMT_APVR_NAM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', F_CODE_NM('1000176', E.PST_CD), NULL) AS TRNF_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', F_CODE_NM('1000173', E.RANK_CD), NULL) AS TRNF_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', E.USR_NAM, NULL) AS TRNF_APVR_NAM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000176', E.PST_CD), NULL)  AS HNDL_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000173', E.RANK_CD), NULL) AS HNDL_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', E.USR_NAM, NULL)                       AS HNDL_APVR_NAM
			             , TO_CHAR(D.SBM_DH, 'YYYY.MM.DD') AS SBM_DT
			          FROM TBDCMACM022L D /* 결재문서내역 */
			             , TBDCMACM001M E /* 사용자정보기본 */
			         WHERE D.FNL_APV_CNB  = E.CNB
			           AND D.APV_STA_CD   = '3'           /* [3:결재승인]*/
			           AND D.APV_DVSN_CD IN ('AudInfoSend', 'AudInfoHndl', 'AudInfoTrnf')  /* [AudInfoSend:감사정보제출, AudInfoHndl:감사정보처리] */ 
			       ) D
			 WHERE A.YE            = B.YE
			   AND A.SRNO          = B.SRNO			   
			   AND (CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN A.TRNF_APV_DOC_NO 
			             WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN A.APV_DOC_NO 
			             ELSE A.APV_DOC_NO
			              END) = D.APV_DOC_NO(+)
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">
			<!-- 뷰를 사용하지 않을 경우 인덱스를 타지 않는 현상이 발생해서 뷰를 먼저 생성하고 서브쿼리 함 -->
			AND (A.YE, A.SRNO) IN (WITH VW AS (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)   AS YE
                                                    , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL) AS SRNO
                                                 FROM DUAL
                                               CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
                                   SELECT YE
                                        , SRNO
                                     FROM VW            
                                  )
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND A.APV_DOC_NO = #strApvDocNo#
		</isNotEmpty>
		
		<!-- 이송 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND A.TRNF_APV_DOC_NO = #strTrnfApvDocNo#
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND A.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
			AND A.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
		</isNotEmpty>
		ORDER BY A.YE
		       , A.SRNO
	</select>
	
	<!-- 감사정보기본 상세조회 -->   
	<select id="CSPBII113QMainSelect2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       		
			SELECT /* 감사정보 상세조회 영역 */
			       A.YE                                                                                     /* 연도 */
			     , A.SRNO                                                                                   /* 일련번호 */
			     , A.OPEN_YN
			     , A.HNDL_DPT_CD
			  FROM TBCSPBII100M A /* 감사정보기본 */
			     , TBCSPBII101L B /* 감사정보내역 */
			     , (SELECT D.APV_DOC_NO
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000176', E.PST_CD), NULL)  AS SMT_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000173', E.RANK_CD), NULL) AS SMT_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', E.USR_NAM, NULL)                       AS SMT_APVR_NAM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000176', E.PST_CD), NULL)  AS HNDL_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000173', E.RANK_CD), NULL) AS HNDL_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', E.USR_NAM, NULL)                       AS HNDL_APVR_NAM
			             , TO_CHAR(D.SBM_DH, 'YYYY.MM.DD') AS SBM_DT
			          FROM TBDCMACM022L D /* 결재문서내역 */
			             , TBDCMACM001M E /* 사용자정보기본 */
			         WHERE D.FNL_APV_CNB  = E.CNB
			           AND D.APV_STA_CD   = '3'           /* [3:결재승인]*/
			           AND D.APV_DVSN_CD IN ('AudInfoSend', 'AudInfoHndl')  /* [AudInfoSend:감사정보제출, AudInfoHndl:감사정보처리] */ 
			       ) D
			 WHERE A.YE            = B.YE
			   AND A.SRNO          = B.SRNO			   
			   AND A.APV_DOC_NO    = D.APV_DOC_NO(+)		   	 
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">
			<!-- 뷰를 사용하지 않을 경우 인덱스를 타지 않는 현상이 발생해서 뷰를 먼저 생성하고 서브쿼리 함 -->
			AND (A.YE, A.SRNO) IN (WITH VW AS (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)   AS YE
                                                    , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL) AS SRNO
                                                 FROM DUAL
                                               CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
                                   SELECT YE
                                        , SRNO
                                     FROM VW            
                                  )
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND A.APV_DOC_NO = #strApvDocNo#
		</isNotEmpty>
		
		<!-- 이송 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND A.TRNF_APV_DOC_NO = #strTrnfApvDocNo#
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND A.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
			AND A.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
		</isNotEmpty>
		ORDER BY A.YE
		       , A.SRNO
	</select>	
	
	<!-- 감사정보기본 상세조회 -->   
	<select id="CSPBII113QMainSelect3" parameterClass="paramMap" resultMap="CSPBII113QMainSelectMap2">
		<![CDATA[       		
			SELECT /* 감사정보 상세조회 영역 */
			       '상신(' || TO_CHAR(TO_DATE(A.SBM_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '제출(' || TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '접수(' || TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '이송(' || TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '이송접수(' || TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '감사중(' || TO_CHAR(TO_DATE(A.AUD_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')⇒'
			    || '처리중(' || TO_CHAR(TO_DATE(A.HNDL_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ','||(SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB)||')⇒'
			    || '완료(' || TO_CHAR(TO_DATE(A.CMPT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'                                              AS PRSS_STT_NM /* 진행상황명 */			    
			     , F_CODE_NM('1000085', A.AUD_INF_PRSS_STA_CD)
			    || CASE WHEN A.AUD_INF_PRSS_STA_CD = '05' THEN '(' || TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '10' THEN '(' || TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '15' THEN '(' || TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD = '20' THEN '(' || TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD') || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD IN ('31', '32') THEN '(' || (SELECT E.DPT_NM || ', '
			                                                                      FROM TBDCMACM002M E
			                                                                     WHERE E.DPT_CD = A.AUD_DPT_CD) || A.AUD_SBJ_NM || ')'
			            WHEN A.AUD_INF_PRSS_STA_CD IN ('21', '22', '23', '24', '99') THEN '(' || (SELECT E.DPT_NM || ', '
			                                                                                        FROM TBDCMACM002M E
			                                                                                       WHERE E.DPT_CD = A.AUD_DPT_CD) || F_CODE_NM('1000042', A.HNDL_RSLT_CD) || ')'
			       END                                                                                                                 AS PRSS_DTL_NM /* 진행세부명 */
			     , '충실성 : ' || TO_CHAR(nvl(A.FDLTY_SC,0)) || '점, '
			     || '신뢰성 : ' || TO_CHAR(nvl(A.RIBLY_SC,0)) || '점, '
			     || '활용가능성 : ' || TO_CHAR(nvl(A.UTL_SC,0)) || '점' AS SC_SITU_NM  /* 점수현황명 */
			     , B.HNDL_RSLT_SMM_TXT                                                                                                                /* 처리결과요약내용(처리전) */
			     , A.AUD_DPT_CD                                                                                                                       /* 감사부서코드 */
			     , (SELECT E.DPT_NM
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.AUD_DPT_CD)                                                                                    AS AUD_DPT_NM  /* 감사부서명 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.AUD_PEN_CNB)                                                                                      AS AUD_PEN_NAM /* 감사자명 */
			     , A.AUD_SBJ_NM
			       /* 감사정보기본 등록/수정 및 상세조회 공통 영역 */
			     , A.TIT_TXT                                                                                /* 제목내용 */
			     , A.CLC_DVSN_CD                                                                            /* 수집구분코드 */
			     , (SELECT E.SPCF_AUD_SBJ
			          FROM TBCSPBII140M E
			         WHERE E.SPCF_INF_CLC_NO = A.CLC_DVSN_CD)                       AS CLC_DVSN_NM          /* 수집구분명 */
			     , A.SRC_DVSN_CD                                                                            /* 출처구분코드 */
			     , F_CODE_NM('1000040', A.SRC_DVSN_CD)                              AS SRC_DVSN_NM          /* 출처구분명 */
			     , A.INF_DVSN_CD                                                                            /* 정보구분코드 */
			     , F_CODE_NM('1000097', A.INF_DVSN_CD)                              AS INF_DVSN_NM          /* 정보구분명 */
			     , A.REL_ORG_CD                                                     AS REL_ORG_CD           /* 관련기관코드1 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD)                                 AS REL_ORG_NM           /* 관련기관명1 */
			     , A.REL_ORG_CD_1                                                   AS REL_ORG_CD_1         /* 관련기관코드2 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD_1)                               AS REL_ORG_NM_1         /* 관련기관명2 */
			     , A.REL_ORG_CD_2                                                   AS REL_ORG_CD_2         /* 관련기관코드3 */
			     , (SELECT B.ORG_NM
			          FROM TBDCMACM015M B
			         WHERE B.ORG_CD = A.REL_ORG_CD_2)                               AS REL_ORG_NM_2         /* 관련기관명3 */       
			     , A.HNDL_DPT_CD                                                                            /* 처리(소관)부서코드 */
			     , (SELECT B.DPT_NM
			          FROM TBDCMACM002M B
			         WHERE B.DPT_CD = A.HNDL_DPT_CD)                                AS HNDL_DPT_NM          /* 처리(소관)부서명 */
			     , A.OPEN_YN                                                                                /* 공개여부 */
			     , A.YE || '-' || A.SRNO                                            AS INF_NO               /* 정보번호 */
			     , TO_CHAR(TO_DATE(A.REGI_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS REGI_DT              /* 등록일 */
			     , TO_CHAR(TO_DATE(A.SMT_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS SMT_DT               /* 제출일 */
			     , A.SMT_DT AS SMT_DT2
			     , TO_CHAR(TO_DATE(A.ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS ACP_DT               /* 접수일 */
			     , TO_CHAR(TO_DATE(A.DTB_DT), 'YYYY.MM.DD')             AS DTB_DT               /* 배부일 */
			     , TO_CHAR(TO_DATE(A.TRNF_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS TRNF_DT              /* 이송일 */
			     , TO_CHAR(TO_DATE(A.TRNF_ACP_DT, 'YYYYMMDD'), 'YYYY.MM.DD')        AS TRNF_ACP_DT          /* 이송접수일 */
			     , TO_CHAR(TO_DATE(A.AUD_DT, 'YYYYMMDD'), 'YYYY.MM.DD')             AS AUD_DT               /* 감사일 */
			     , TO_CHAR(TO_DATE(A.HNDL_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS HNDL_DT              /* 처리일 */
			     , TO_CHAR(TO_DATE(A.CMPT_DT, 'YYYYMMDD'), 'YYYY.MM.DD')            AS CMPT_DT              /* 완료일 */			    
			     , A.HNDL_ORD_CD                                                                            /* 처리지시코드 */
			     , F_CODE_NM('1000039', A.HNDL_ORD_CD) AS HNDL_ORD_NM                                       /* 처리지시명 */
			     , A.HNDL_RSLT_CD                                                                           /* 처리결과코드 */
			     , F_CODE_NM('1000042', A.HNDL_RSLT_CD)                             AS HNDL_RSLT_NM         /* 처리결과명 */
			     , B.AUD_INF_TXT                                                                            /* 감사정보내용 */
			     , B.AUD_INF_ETC_TXT                                                                        /* 감사정보기타내용 */
			     , B.AUD_INF_SMM_TXT                                                                        /* 감사정보요약내용 */
			     , A.PRSR_DPT_CD                                                                            /* 제출부서코드 */
			     , (SELECT E.DPT_NM
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.PRSR_DPT_CD)                                AS PRSR_DPT_NM          /* 제출자부서명 */
			     , (SELECT E.ABR_DPT_NM_1
			          FROM TBDCMACM002M E
			         WHERE E.DPT_CD = A.PRSR_DPT_CD)                                AS PRSR_ABR_DPT_NM      /* 제출자약칭부서명 */
			     , (SELECT S2.CD_NM
			     	  FROM TBDCMACM001M S1, TBDCMACM013C S2
			     	 WHERE S1.RAL_BLT_DIV_CD = S2.CD
			     	   AND S2.CMM_CD_DVSN_CD = '1000144'
			     	   AND S1.CNB = A.PRSR_CNB
			       ) AS RAL_BLT_DIV_NM
			     , F_CODE_NM('1000173', A.PRSR_RANK_CD)                             AS PRSR_RANK_NM         /* 제출자직급명 */
			     , A.PRSR_RANK_CD                                                                           /* 제출자직급명 */
			     , A.PRSR_CNB                                                                               /* 제출자전산번호 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.PRSR_CNB)                                      AS PRSR_NAM             /* 제출자성명 */
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_PST_NM, D.SMT_APVR_PST_NM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_PST_NM,D.SMT_APVR_PST_NM)
			            ELSE                                    D.SMT_APVR_PST_NM
			       END                                                              AS APVR_PST_NM          /* 결재자직위명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_RANK_NM, D.SMT_APVR_RANK_NM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_RANK_NM,D.SMT_APVR_RANK_NM)
			            ELSE                                    D.SMT_APVR_RANK_NM
			       END                                                              AS APVR_RANK_NM         /* 결재자직급명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/
			     , CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN NVL(D.TRNF_APVR_NAM, D.SMT_APVR_NAM)
			            WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN NVL(D.HNDL_APVR_NAM,D.SMT_APVR_NAM)
			            ELSE                                    D.SMT_APVR_NAM
			       END                                                              AS APVR_NAM             /* 결재자성명 (진행상태코드가 [22:처리결재중 부터는 처리결재를 표시]*/  
			     , A.HNDL_PEN_CNB                                                                           /* 처리자전산번호 */
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB)                                  AS HNDL_PEN_NAM         /* 처리자성명 */			     
			     , (SELECT E.DOC_ID
			          FROM TBCSPBII102L E /*감사정보첨부파일내역 */
			         WHERE E.YE                     = A.YE
			           AND E.SRNO                   = A.SRNO
			           AND E.DOC_TYP_CD = 'SP-II-001')                              AS REL_DOC_ID           /* 관련첨부파일문서ID */
			     , (SELECT E.DOC_ID
			          FROM TBCSPBII102L E /*감사정보첨부파일내역 */
			         WHERE E.YE                     = A.YE
			           AND E.SRNO                   = A.SRNO
			           AND E.DOC_TYP_CD = 'SP-II-002')                              AS HNDL_DOC_ID          /* 처리첨부파일문서ID */      	
			     , A.AUD_INF_PRSS_STA_CD                                                                    /* 감사정보진행상태코드 */		
			     , F_CODE_NM('1000085', A.AUD_INF_PRSS_STA_CD)                      AS AUD_INF_PRSS_STA_NM  /* 감사정보진행상태명 */
			     , (SELECT COUNT(*)
			          FROM TBCSPBII150L E
			         WHERE E.YE = A.YE
			           AND E.SRNO = A.SRNO			            
			           AND E.AUD_POP_DT IS NOT NULL
			           AND E.AUD_POP_RLS_DT IS NULL
			           AND ( E.AUD_POP_DPT_CD = #strDptCd#  OR E.SRCH_PEN_CNB = #S_CNB#))                           AS AUD_POP_CNT          /* 감사찜건수 */
			     , A.PRSR_DPT_TP_CD AS DPT_TP_CD
			     , CASE WHEN (SELECT  GEN_ADMN_DVSN_CD
			     	FROM	TBDCMACM001M S1
			     	WHERE	A.PRSR_CNB = S1.CNB
			     	) = '2' THEN '행정' 
			     	WHEN (SELECT  GEN_ADMN_DVSN_CD
			     	FROM	TBDCMACM001M S1
			     	WHERE	A.PRSR_CNB = S1.CNB
			     	) = '3' THEN '파견'
			     	ELSE '일반'  END AS DPT_TP_CD2
			     , A.ACP_YR                                                                                 /* 접수년도 */
			     , A.CVPT_ACP_NO                                                                            /* 민원접수번호 */
			     , A.REQ_DVSN_CD	                                                                        /* 요구구분코드 */
			     , CASE WHEN A.REQ_DVSN_CD = '1' THEN 
														(SELECT '('||E.ACP_YR||DECODE(E.RM_ACP_KND_CD,'','-','2','-민원-','1','-제보-')||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						WHEN A.REQ_DVSN_CD = '2' THEN 
														(SELECT '('||E.ACP_YR||'-국민-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						WHEN A.REQ_DVSN_CD = '3' THEN 
														(SELECT '('||E.ACP_YR||'-공익-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCSPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						WHEN A.REQ_DVSN_CD = '5' THEN 
														(SELECT '('||E.ACP_YR||'-부감-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
														   FROM TBCORCOR101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
														    AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)	
						WHEN A.REQ_DVSN_CD = '6' THEN 
														(SELECT '('||E.ACP_YR||'-청금-'||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
													       FROM TBDCPDCP101M E
														  WHERE E.ACP_YR      = A.ACP_YR
														    AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
													        AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)
						ELSE 	(SELECT '('||E.ACP_YR||DECODE(E.RM_ACP_KND_CD,'','-','2','-민원-','1','-제보-')||E.RM_CVPT_ACP_NO||')'||E.TIT_NM
																			          FROM TBCSPDCP101M E
																			         WHERE E.ACP_YR      = A.ACP_YR
																			           AND E.CVPT_ACP_NO = A.CVPT_ACP_NO
																			           AND E.REQ_DVSN_CD = A.REQ_DVSN_CD)	
				   END AS CVPT_TIT_NM           /* 민원, 부패행위, 청탁신고 제목명 */
			     , A.YE                                                                                     /* 연도 */
			     , A.SRNO                                                                                   /* 일련번호 */
			     , D.SBM_DT /*상신일*/
			     , (SELECT E.USR_NAM
			          FROM TBDCMACM001M E
			         WHERE E.CNB = A.HNDL_PEN_CNB) ||'('||A.HNDL_PEN_CNB||')'                             AS HNDL_PEN_NAM_CNB         /* 처리자성명 */
			         ,a.HNDL_ORD_CD AS BK_HNDL_ORD_CD 	
			     , (SELECT	B.HOM_TNB
			     	FROM	TBDCMACM001M B
			     	WHERE A.PRSR_CNB = B.CNB ) AS HOM_TNB
			     , DECODE(A.PRE_EVL_CD, '10','상','20','중','30','하','점수') AS PRE_EVL_CD
			     , DECODE(A.PRE_EVL_FDLTY, '10','상','20','중','30','하','점수') AS PRE_EVL_FDLTY
			     , DECODE(A.PRE_EVL_IFENE, '10','상','20','중','30','하','점수') AS PRE_EVL_IFENE
			     , DECODE(A.PRE_EVL_WRDO, '10','상','20','중','30','하','점수') AS PRE_EVL_WRDO
			     , nvl(A.UTL_SC,0) AS UTL_SC /* 활용가능성 */
			     , nvl(A.FDLTY_SC,0) AS FDLTY_SC /* 충실성 */
			     , nvl(A.RIBLY_SC,0) AS RIBLY_SC /* 신뢰성 */
			     , nvl(A.UTL_SC,0) + nvl(A.FDLTY_SC,0) + nvl(A.RIBLY_SC,0) AS TOT_SC /* 총점수 */
			     , B.AUD_INF_ANL_OPIN_TXT /*제출자 분석의견*/
			     , B.AUD_INF_BLE_ANL_OPIN_TXT /*총괄부서분석의견*/
			     , (SELECT F_CODE_NM('1000852',GEN_ADMN_DVSN_CD)
			     	FROM	TBDCMACM001M  S1
			     	WHERE	A.PRSR_CNB = S1.CNB 
			     	)
			      AS GEN_ADMN_DVSN_NM
			     , A.BLE_CHGR_CNB
			     , F_USR_INFO (A.BLE_CHGR_CNB,'2') AS BLE_CHGR_NAM
			     , TRNF_DT            AS BK_TRNF_DT              /* 이송일 */
			     , (SELECT S1.APV_OPIN
			     	  FROM TBDCMACM023L S1
			     	 WHERE A.APV_DOC_NO = S1.APV_DOC_NO
			     	   AND S1.APV_DVSN_CD ='AudInfoSend' 
			     	   AND S1.APVR_KND_CD = '3'
			     ) AS  APV_OPIN
			     , TO_CHAR(A.FRT_REGI_DH,'YYYYMMDD') AS FRT_REGI_DT
			     , A.TRNF_APV_DOC_NO
			     , nvl(A.FDLTY_MNAG_SC,0) AS FDLTY_MNAG_SC    /* 충실성행위주체점수 */
			     , nvl(A.FDLTY_TIME_SC,0) AS FDLTY_TIME_SC    /* 충실성행위시기점수 */
			     , nvl(A.FDLTY_TG_SC,0)   AS FDLTY_TG_SC      /* 충실성행위대상점수 */
			     , nvl(A.FDLTY_TXT_SC,0)  AS FDLTY_TXT_SC     /* 충실성행위대상점수 */
			     , nvl(A.FDLTY_BAS_SC,0)  AS FDLTY_BAS_SC     /* 충실성법적근거점수 */
			     , nvl(A.RIBLY_EVI_SC,0)  AS RIBLY_EVI_SC     /* 신뢰성증거자료점수 */
			     , nvl(A.RIBLY_IVTG_SC,0) AS RIBLY_IVTG_SC    /* 신뢰성탐문정보점수 */
			     , nvl(A.UTL_INSP_SC,0)   AS UTL_INSP_SC      /* 활용가능성감찰정보점수 */
			     , nvl(A.UTL_SPCF_SC,0)   AS UTL_SPCF_SC      /* 활용가능성특정정보점수 */
			     , DECODE(nvl(A.FDLTY_SC,0),0,(nvl(A.FDLTY_MNAG_SC, 0) + nvl(A.FDLTY_TIME_SC, 0) + nvl(A.FDLTY_TG_SC, 0) + nvl(A.FDLTY_TXT_SC, 0) + nvl(A.FDLTY_BAS_SC, 0)),A.FDLTY_SC) AS FDLTY_TOT_SC
			     , DECODE(nvl(A.RIBLY_SC,0),0,(nvl(A.RIBLY_EVI_SC,0) + nvl(A.RIBLY_IVTG_SC,0)),A.RIBLY_SC) AS RIBLY_TOT_SC
			     , DECODE(nvl(A.UTL_SC,0),0,(nvl(A.UTL_INSP_SC,0) + nvl(A.UTL_SPCF_SC,0)),A.UTL_SC) AS UTL_TOT_SC
			     , DECODE((nvl(A.FDLTY_SC,0)+nvl(A.RIBLY_SC,0)+nvl(A.UTL_SC,0)),0,(nvl(A.FDLTY_MNAG_SC,0) + nvl(A.FDLTY_TIME_SC,0) + nvl(A.FDLTY_TG_SC,0) + nvl(A.FDLTY_TXT_SC,0) + nvl(A.FDLTY_BAS_SC,0)
			     + nvl(A.RIBLY_EVI_SC,0) + nvl(A.RIBLY_IVTG_SC,0)
			     + nvl(A.UTL_INSP_SC,0) + nvl(A.UTL_SPCF_SC,0)),(nvl(A.FDLTY_SC,0)+nvl(A.RIBLY_SC,0)+nvl(A.UTL_SC,0))) AS FNL_TOT_SC
			  FROM TBCSPBII100M A /* 감사정보기본 */
			     , TBCSPBII101L B /* 감사정보내역 */
			     , (SELECT D.APV_DOC_NO
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000176', E.PST_CD), NULL)  AS SMT_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', F_CODE_NM('1000173', E.RANK_CD), NULL) AS SMT_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoSend', E.USR_NAM, NULL)                       AS SMT_APVR_NAM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', F_CODE_NM('1000176', E.PST_CD), NULL) AS TRNF_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', F_CODE_NM('1000173', E.RANK_CD), NULL) AS TRNF_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoTrnf', E.USR_NAM, NULL) AS TRNF_APVR_NAM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000176', E.PST_CD), NULL)  AS HNDL_APVR_PST_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', F_CODE_NM('1000173', E.RANK_CD), NULL) AS HNDL_APVR_RANK_NM
			             , DECODE(D.APV_DVSN_CD, 'AudInfoHndl', E.USR_NAM, NULL)                       AS HNDL_APVR_NAM
			             , TO_CHAR(D.SBM_DH, 'YYYY.MM.DD') AS SBM_DT
			          FROM TBDCMACM022L D /* 결재문서내역 */
			             , TBDCMACM001M E /* 사용자정보기본 */
			         WHERE D.FNL_APV_CNB  = E.CNB
			           AND D.APV_STA_CD   = '3'           /* [3:결재승인]*/
			           AND D.APV_DVSN_CD IN ('AudInfoSend', 'AudInfoHndl', 'AudInfoTrnf')  /* [AudInfoSend:감사정보제출, AudInfoHndl:감사정보처리] */ 
			       ) D
			 WHERE A.YE            = B.YE
			   AND A.SRNO          = B.SRNO			   
			   AND (CASE WHEN A.AUD_INF_PRSS_STA_CD > '14' AND A.AUD_INF_PRSS_STA_CD < '22' THEN A.TRNF_APV_DOC_NO 
			             WHEN A.AUD_INF_PRSS_STA_CD >= '22' THEN A.APV_DOC_NO 
			             ELSE A.APV_DOC_NO
			              END) = D.APV_DOC_NO(+)
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">
			<!-- 뷰를 사용하지 않을 경우 인덱스를 타지 않는 현상이 발생해서 뷰를 먼저 생성하고 서브쿼리 함 -->
			AND (A.YE, A.SRNO) IN (WITH VW AS (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)   AS YE
                                                    , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL) AS SRNO
                                                 FROM DUAL
                                               CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
                                   SELECT YE
                                        , SRNO
                                     FROM VW            
                                  )
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND A.APV_DOC_NO = #strApvDocNo#
		</isNotEmpty>
		
		<!-- 이송 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND A.TRNF_APV_DOC_NO = #strTrnfApvDocNo#
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND A.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND A.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
			AND A.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
		</isNotEmpty>
		ORDER BY A.YE
		       , A.SRNO
	</select>
	
	<!-- 감사정보관련자내역 목록 조회 -->   
	<select id="CSPBII113QRelPenSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       
			SELECT A.NAM               /* 성명 */
			     , A.EIN               /* 암호화주민등록번호 */
			     , A.BLT_ORG_NM        /* 소속기관명 */
			     , A.RANK_NM           /* 직급명 */
			     , A.PST_NM            /* 직위명 */
			     , A.YE                /* 연도 */
			     , A.SRNO              /* 일련번호 */
			     , A.REL_PEN_SNO       /* 관련자순번 */
			  FROM TBCSPBII130L A  /* 감사정보관련자내역 */
			 WHERE 1=1
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
		AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.BLE_CHGR_CNB = #strBLE_CHGR_CNB#)
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">
			AND (A.YE, A.SRNO) IN (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)
                                        , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL)
                                     FROM DUAL
                                   CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.APV_DOC_NO = #strApvDocNo#)
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.TRNF_APV_DOC_NO = #strTrnfApvDocNo#)
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#)
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		ORDER BY A.REL_PEN_SNO
	</select>	
	
	<!-- 감사정보조회로그감사찜내역 목록 조회 -->   
	<select id="CSPBII113QSrchLgSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       
			SELECT TO_CHAR(TO_DATE(A.SRCH_DT), 'YYYY.MM.DD')        AS SRCH_DT        /* 조회일 */
			     , (SELECT B.DPT_NM
			          FROM TBDCMACM002M B
			         WHERE B.DPT_CD = A.SRCH_DPT_CD)  AS SRCH_DPT_NM                              /* 조회부서명 */
			     , A.SRCH_PEN_NAM                                                                 /* 조회자성명 */
			     , TO_CHAR(TO_DATE(A.AUD_POP_DT), 'YYYY.MM.DD')     AS AUD_POP_DT     /* 감사찜일 */
			     , A.AUD_POP_SBJ_NM                                                               /* 감사찜사항명 */
			     , A.AUD_POP_PEN_NAM                                                              /* 감사찜관련자명 */
			     , TO_CHAR(TO_DATE(A.AUD_POP_RLS_DT), 'YYYY.MM.DD') AS AUD_POP_RLS_DT /* 감사찜해제일 */
			     , A.AUD_POP_RLS_PEN_NAM                                                          /* 감사찜해제자성명 */		
			     , A.YE                                                                           /* 연도 */
			     , A.SRNO                                                                         /* 일련번호 */
			     , A.LG_SRNO                                                                      /* 관련자순번 */	     
			  FROM TBCSPBII150L A  /* 감사정보조회로그감사찜내역 */
			  ,TBCSPBII100M B
			 WHERE 1=1
			 AND	B.YE = A.YE 
			 AND	B.SRNO = A.SRNO
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
			AND B.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">	
			AND (A.YE, A.SRNO) IN (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)
                                        , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL)
                                     FROM DUAL
                                   CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.APV_DOC_NO = #strApvDocNo#)
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.TRNF_APV_DOC_NO = #strTrnfApvDocNo#)
		</isNotEmpty>		
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND B.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND B.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND B.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#
		</isEqual>
	</select>
	
	<!-- 감사정보조회로그감사찜내역 목록 조회 -->   
	<select id="CSPBII113QSrchLgSelect2" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[    
		SELECT min(SRCH_DT) AS SRCH_DT, SRCH_DPT_NM, SRCH_PEN_NAM, AUD_POP_DT, AUD_POP_SBJ_NM, AUD_POP_PEN_NAM, AUD_POP_RLS_DT, YE, SRNO, LG_SRNO FROM (   
			SELECT DISTINCT
			       TO_CHAR(TO_DATE(A.SRCH_DT), 'YYYY.MM.DD')        AS SRCH_DT        /* 조회일 */
			     , (SELECT B.DPT_NM
			          FROM TBDCMACM002M B
			         WHERE B.DPT_CD = A.SRCH_DPT_CD)  AS SRCH_DPT_NM                              /* 조회부서명 */
			     , A.SRCH_PEN_NAM                                                                 /* 조회자성명 */
			     , '' AS AUD_POP_DT     /* 감사찜일 */
			     , '' AS AUD_POP_SBJ_NM                                                               /* 감사찜사항명 */
			     , '' AS AUD_POP_PEN_NAM                                                              /* 감사찜관련자명 */
			     , '' AS AUD_POP_RLS_DT /* 감사찜해제일 */
			     , '' AS AUD_POP_RLS_PEN_NAM                                                          /* 감사찜해제자성명 */		
			     , '' AS YE                                                                           /* 연도 */
			     , '' AS SRNO                                                                         /* 일련번호 */
			     , '' AS LG_SRNO                                                                      /* 관련자순번 */	     
			  FROM TBCSPBII150L A  /* 감사정보조회로그감사찜내역 */
			  ,TBCSPBII100M B
			 WHERE 1=1
			 AND	B.YE = A.YE 
			 AND	B.SRNO = A.SRNO
			]]>
			AND A.YE =  #strYe#
			AND A.SRNO =  #strSrno#
			)
			GROUP BY SRCH_DPT_NM, SRCH_PEN_NAM, AUD_POP_DT, AUD_POP_SBJ_NM, AUD_POP_PEN_NAM, AUD_POP_RLS_DT, YE, SRNO, LG_SRNO
			ORDER BY SRCH_DT ASC
	</select>
	
	<!-- 감사정보조회로그감사찜내역 목록 조회 -->   
	<select id="CSPBII113QSrchLgSelect3" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[    
		SELECT SRCH_DT, SRCH_DPT_NM, SRCH_PEN_NAM, AUD_POP_DT, AUD_POP_SBJ_NM, AUD_POP_PEN_NAM, AUD_POP_RLS_DT, YE, SRNO, LG_SRNO FROM (   
			SELECT TO_CHAR(TO_DATE(A.SRCH_DT), 'YYYY.MM.DD')        AS SRCH_DT        /* 조회일 */
			     , (SELECT B.DPT_NM
			          FROM TBDCMACM002M B
			         WHERE B.DPT_CD = A.SRCH_DPT_CD)  AS SRCH_DPT_NM                              /* 조회부서명 */
			     , A.SRCH_PEN_NAM                                                                 /* 조회자성명 */
			     , '' AS AUD_POP_DT     /* 감사찜일 */
			     , '' AS AUD_POP_SBJ_NM                                                               /* 감사찜사항명 */
			     , '' AS AUD_POP_PEN_NAM                                                              /* 감사찜관련자명 */
			     , '' AS AUD_POP_RLS_DT /* 감사찜해제일 */
			     , '' AS AUD_POP_RLS_PEN_NAM                                                          /* 감사찜해제자성명 */		
			     , '' AS YE                                                                           /* 연도 */
			     , '' AS SRNO                                                                         /* 일련번호 */
			     , '' AS LG_SRNO                                                                      /* 관련자순번 */	     
			  FROM TBCSPBII150L A  /* 감사정보조회로그감사찜내역 */
			  ,TBCSPBII100M B
			 WHERE 1=1
			 AND	B.YE = A.YE 
			 AND	B.SRNO = A.SRNO
			]]>
			AND A.YE =  #strYe#
			AND A.SRNO =  #strSrno#
			)
			ORDER BY SRCH_DT ASC
	</select>		
	
	<!-- 연관감사정보 목록 조회 -->   
	<select id="CSPBII113QReltAudInfSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       
			SELECT A.RELT_AUD_INF_YE || '-' || A.RELT_AUD_INF_SRNO AS INF_NO /* 정보번호 */
			     , B.TIT_TXT                                         /* 연관감사정보 제목내용 */
			     , A.YE                                              /* 연도 */
			     , A.SRNO                                            /* 일련번호 */
			     , A.RELT_AUD_INF_YE                                 /* 연관감사정보연도 */
			     , A.RELT_AUD_INF_SRNO                               /* 연관감사정보일련번호 */
			     , A.RELT_AUD_INF_YE     AS CHG_BF_RELT_AUD_INF_YE   /* 변경전 연관감사정보연도 */
			     , A.RELT_AUD_INF_SRNO   AS CHG_BF_RELT_AUD_INF_SRNO /* 변경전 연관감사정보일련번호 */
			  FROM TBCSPBII110L A /* 연관감사정보내역 */
			     , TBCSPBII100M B /* 감사정보기본 */
			 WHERE A.RELT_AUD_INF_YE   = B.YE  
			   AND A.RELT_AUD_INF_SRNO = B.SRNO
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
			AND B.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">	
			AND (A.YE, A.SRNO) IN (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)
                                        , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL)
                                     FROM DUAL
                                   CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.APV_DOC_NO = #strApvDocNo#)
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.TRNF_APV_DOC_NO = #strTrnfApvDocNo#)
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#)
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		ORDER BY A.RELT_AUD_INF_YE
		       , A.RELT_AUD_INF_SRNO
	</select>

	<!-- 조기제출 목록 조회 -->   
	<select id="CSPBII113QElyAdtSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       
		SELECT * FROM (
			SELECT
			       A.YE
			     , A.SRNO
			     , A.YE || '-' || A.SRNO AS INF_NO                    /* 정보번호 */
			     , A.TIT_TXT                                          /* 제목 */
			     , TO_CHAR(TO_DATE(A.SMT_DT,'yyyy-MM-dd'),'yyyy-MM-dd') AS SMT_DT /* 제출일자 */
			     , F_CODE_NM('1000039', A.HNDL_ORD_CD) AS HNDL_ORD_NM /* 처리유형 */
			     , A.ELY_ADT_SC                                       /* 일반가점(조기) */
				 , CASE WHEN substr(A.SMT_DT,5) BETWEEN '0101' AND '0331' THEN '1'
                        WHEN substr(A.SMT_DT,5) BETWEEN '0401' AND '0630' THEN '2'
                        WHEN substr(A.SMT_DT,5) BETWEEN '0701' AND '0930' THEN '3'
                        ELSE '4'
                    END AS CHK_DAY
				 , CASE WHEN substr(to_char(sysdate,'yyyyMMdd'),5) BETWEEN '0101' AND '0331' THEN '1'
                        WHEN substr(to_char(sysdate,'yyyyMMdd'),5) BETWEEN '0401' AND '0630' THEN '2'
                        WHEN substr(to_char(sysdate,'yyyyMMdd'),5) BETWEEN '0701' AND '0930' THEN '3'
                        ELSE '4'
                    END AS TO_DAY 			     
			  FROM TBCSPBII100M A /* 감사정보기본 */
			 WHERE 1=1
		]]>
			AND A.YE =  #strYe#
			AND A.PRSR_CNB = #strPRSR_CNB# )
		  WHERE CHK_DAY = TO_DAY
	</select>
	
	<!-- 관련처분 목록 조회 -->   
	<select id="CSPBII113QRelDspSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[       
			SELECT /* A.AUD_YR || '-' || A.AUD_NO || '-' || B.DSP_RQ_SNO AS DSP_NO    */          /* 처분번호 */
					F_MNG_KND_AUDYRNO(A.AUD_YR, A.AUD_NO, D.AUD_KND_CD, '-') ||'-'|| A.DSP_RQ_SNO AS DSP_NO
			     , C.ENF_DT                                                                  /* 시행일 */
			     , B.DSP_RQ_KND_CD                                                           /* 처분요구종류코드 */
			     , F_CODE_NM('1000002', B.DSP_RQ_KND_CD)              AS DSP_RQ_KND_NM       /* 처분요구종류명 */
			     , B.TIT_TXT                                          AS DSP_TIT_TXT         /* 처분제목내용 */
			     , C.RLTN_ORG_CD                                                             /* 관계기관코드 */
			     , (SELECT D.ORG_NM
			          FROM TBDCMACM015M D
			         WHERE D.ORG_CD = C.RLTN_ORG_CD)                  AS RLTN_ORG_NM         /* 관계기관명 */
			     , A.YE                                                                      /* 연도 */
			     , A.SRNO                                                                    /* 일련번호 */
			     , A.AUD_YR                                                                  /* 감사연도 */
			     , A.AUD_NO                                                                  /* 감사번호 */
			     , B.DSP_RQ_SNO                                                              /* 처분요구순번 */		
			     , A.AUD_YR                                           AS CHG_BF_AUD_YR       /* 감사연도 */
			     , A.AUD_NO                                           AS CHG_BF_AUD_NO       /* 감사번호 */
			     , B.DSP_RQ_SNO                                       AS CHG_BF_DSP_RQ_SNO   /* 처분요구순번 */	     
			  FROM TBCSPBII120L A /* 감사정보관련처분내역 */
			     , TBBADEAR001M B /* 처분요구사항기본 */
			     , TBBADEAR002D C /* 처분요구사항상세 */
			     , TBBADDED001M D
			 WHERE A.AUD_YR     = B.AUD_YR  
			   AND A.AUD_NO     = B.AUD_NO
			   AND A.DSP_RQ_SNO = B.DSP_RQ_SNO
			   AND B.AUD_YR     = C.AUD_YR(+)  
			   AND B.AUD_NO     = C.AUD_NO(+)
			   AND B.DSP_RQ_SNO = C.DSP_RQ_SNO(+)
			   AND B.AUD_YR     = D.AUD_YR
			   AND B.AUD_NO     = D.AUD_NO
		]]>
		<!-- 연도 -->
		<isNotEmpty property="strYe">
			AND A.YE =  #strYe#
		</isNotEmpty>
		
		<!-- 일련번호 -->
		<isNotEmpty property="strSrno">
			AND A.SRNO =  #strSrno#
		</isNotEmpty>
		
		<!-- 연도/일련번호 리스트(감사정보 출력 팝업화면에서 사용)-->
		<isNotEmpty property="strYeList">	
			AND (A.YE, A.SRNO) IN (SELECT REGEXP_SUBSTR(#strYeList#, '[^||]+', 1, LEVEL)
                                        , REGEXP_SUBSTR(#strSrnoList#, '[^||]+', 1, LEVEL)
                                     FROM DUAL
                                   CONNECT BY LEVEL &lt;= REGEXP_COUNT(#strYeList#, '[^|]+'))
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.APV_DOC_NO = #strApvDocNo#)
		</isNotEmpty>
		
		<!-- 결재문서번호(결재상신/결재 팝업화면에서 사용) -->
		<isNotEmpty property="strTrnfApvDocNo">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.TRNF_APV_DOC_NO = #strTrnfApvDocNo#)
		</isNotEmpty>		
		
		<!-- 시작접수일/종료접수일(심사분석-결재용 감사정보 내역 팝업화면에서 사용) -->
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		<isEqual property="strDVSN_CD" compareValue="1">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.ACP_DH BETWEEN #strStrAcpDh# AND #strEndAcpDh#)
		</isEqual>
		
		<isEqual property="strDVSN_CD" compareValue="2">
			AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.DTB_DT BETWEEN #strStrAcpDt# AND #strEndAcpDt#)
		</isEqual>
		
		<isNotEmpty property="strBLE_CHGR_CNB">
		AND (A.YE, A.SRNO) IN (SELECT B.YE
			                            , B.SRNO
			                         FROM TBCSPBII100M B
			                        WHERE B.BLE_CHGR_CNB = #strBLE_CHGR_CNB#
			                  )
		</isNotEmpty>
		ORDER BY A.AUD_YR
		       , A.AUD_NO
		       , A.DSP_RQ_SNO
	</select>
	
	<!-- 조회로그 등록  -->
	<insert id="CSPBII113QSrchLgInsert" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QSrchLgInsert */
		INSERT INTO TBCSPBII150L (
		                          YE              /* 연도 */
		                        , SRNO            /* 일련번호 */
		                        , LG_SRNO         /* 로그일련번호 */
		                        , SRCH_DT         /* 조회일 */
		                        , SRCH_DPT_CD     /* 조회부서코드 */
		                        , SRCH_PEN_CNB    /* 조회자전산번호 */
		                        , SRCH_PEN_NAM    /* 조회자성명 */                      
		                        , FRT_USR_ID      /* 최초사용자ID */
		                        , FNL_USR_ID      /* 최종사용자ID */
		                        , FNL_DEAL_DPT_CD /* 최종거래부서코드 */
		                        , FNL_MNU_ID      /* 최종메뉴ID */
		                        , FRT_REGI_DH     /* 최초등록일시 */
		                        , FNL_MDF_DH      /* 최종수정일시 */
		                         ) 
		                  VALUES (
		                          #YE#
		                        , #SRNO#
		                        , (SELECT NVL(MAX(LG_SRNO), 0) + 1
		                             FROM TBCSPBII150L
		                            WHERE YE   = #YE#
		                              AND SRNO = #SRNO#)
		                        , TO_CHAR(SYSDATE, 'YYYYMMDD')
		                        , #FNL_DEAL_DPT_CD#
		                        , #S_CNB#
		                        , (SELECT USR_NAM
		                                FROM TBDCMACM001M
		                               WHERE CNB = #S_CNB#)
		                        , #FRT_USR_ID#
		                        , #FNL_USR_ID#
		                        , #FNL_DEAL_DPT_CD#
		                        , #FNL_MNU_ID#
		                        , SYSDATE
		                        , SYSDATE
				                 )
	</insert>
	
	<!-- 감사찜 등록 insert -->
	<insert id="CSPBII113QAudPopInsert" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QAudPopInsert */
		INSERT INTO TBCSPBII150L (
		                          YE              /* 연도 */
		                        , SRNO            /* 일련번호 */
		                        , LG_SRNO         /* 로그일련번호 */
		                        , SRCH_PEN_CNB    /* 검색자전산번호 */
		                        , AUD_POP_DT      /* 감사찜일 */
		                        , AUD_POP_DPT_CD  /* 감사찜부서코드 */
		                        , AUD_POP_PEN_NAM /* 감사찜자성명 */                      
		                        , AUD_POP_SBJ_NM  /* 감사찜사항명 */		                  
		                        , FRT_USR_ID      /* 최초사용자ID */
		                        , FNL_USR_ID      /* 최종사용자ID */
		                        , FNL_DEAL_DPT_CD /* 최종거래부서코드 */
		                        , FNL_MNU_ID      /* 최종메뉴ID */
		                        , FRT_REGI_DH     /* 최초등록일시 */
		                        , FNL_MDF_DH      /* 최종수정일시 */
		                         ) 
		                  VALUES (
		                          #YE#
		                        , #SRNO#
		                        , (SELECT NVL(MAX(LG_SRNO), 0) + 1
		                             FROM TBCSPBII150L
		                            WHERE YE   = #YE#
		                              AND SRNO = #SRNO#)
		                        , #S_CNB#
		                        , TO_CHAR(SYSDATE, 'YYYYMMDD')
		                        , #FNL_DEAL_DPT_CD#
		                        , (SELECT USR_NAM
		                                FROM TBDCMACM001M
		                               WHERE CNB = #S_CNB#)
		                        , #AUD_POP_SBJ_NM#		                                          		                     
		                        , #FRT_USR_ID#
		                        , #FNL_USR_ID#
		                        , #FNL_DEAL_DPT_CD#
		                        , #FNL_MNU_ID#
		                        , SYSDATE
		                        , SYSDATE
				                 )
	</insert>
	
	<!-- 감사찜 등록 update -->
	<update id="CSPBII113QAudPopUpdate" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QAudPopUpdate */
		UPDATE TBCSPBII150L                       
		   SET AUD_POP_DT          = TO_CHAR(SYSDATE, 'YYYYMMDD') /* 감사일 */
		     , AUD_POP_DPT_CD      = #FNL_DEAL_DPT_CD#            /* 감사찜부서코드 */			     	
		     , AUD_POP_PEN_NAM     = (SELECT USR_NAM
		                                FROM TBDCMACM001M
		                               WHERE CNB = #S_CNB#)       /* 감사찜자성명 */     
		     , AUD_POP_SBJ_NM      = #AUD_POP_SBJ_NM#             /* 감사찜사항명 */
		     , AUD_POP_RLS_DT      = NULL                         /* 감사찜해제일 */		     		    
		     , AUD_POP_RLS_PEN_NAM = NULL                         /* 감사찜해제자성명 */
		     , FNL_USR_ID          = #FNL_USR_ID#                 /* 최종사용자ID */
		     , FNL_DEAL_DPT_CD     = #FNL_DEAL_DPT_CD#            /* 최종거래부서코드 */
		     , FNL_MNU_ID          = #FNL_MNU_ID#                 /* 최종메뉴ID */
		     , FNL_MDF_DH          = SYSDATE                      /* 최종수정일시 */
		 WHERE YE      = #YE#
		   AND SRNO    = #SRNO#
		   AND SRCH_PEN_CNB = #S_CNB#
		                  
	</update>
	
	<!-- 감사찜 해제  -->
	<update id="CSPBII113QAudPopRlsUpdate" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QAudPopRlsUpdate */
		UPDATE TBCSPBII150L                       
		   SET AUD_POP_RLS_DT      = TO_CHAR(SYSDATE, 'YYYYMMDD') /* 감사찜해제일 */		     		    
		     , AUD_POP_RLS_PEN_NAM = (SELECT USR_NAM
		                                FROM TBDCMACM001M
		                               WHERE CNB = #S_CNB#)       /* 감사찜해제자성명 */
		     , FNL_USR_ID          = #FNL_USR_ID#                 /* 최종사용자ID */
		     , FNL_DEAL_DPT_CD     = #FNL_DEAL_DPT_CD#            /* 최종거래부서코드 */
		     , FNL_MNU_ID          = #FNL_MNU_ID#                 /* 최종메뉴ID */
		     , FNL_MDF_DH          = SYSDATE                      /* 최종수정일시 */
		 WHERE YE      = #YE#
		   AND SRNO    = #SRNO#
		   AND SRCH_PEN_CNB = #S_CNB#
		   
	</update>
	
	<!-- 감사정보기본 감사찜정보 수정-->
	<update id="CSPBII113QAudInfoPopUpdate" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QAudInfoUpdate */
		UPDATE TBCSPBII100M                       
		   SET AUD_DT              = TO_CHAR(SYSDATE, 'YYYYMMDD') /* 감사일 */
		     , AUD_DPT_CD          = #FNL_DEAL_DPT_CD#            /* 감사부서코드 */
		     , AUD_PEN_CNB         = #S_CNB#                      /* 감사자전산번호 */		
		     , AUD_SBJ_NM          = #AUD_POP_SBJ_NM#             /* 감사명 */     
		     , AUD_INF_PRSS_STA_CD = '31'                         /* 감사정보진행상태코드[32:감사중(찜)] */		     
		     , FNL_USR_ID          = #FNL_USR_ID#                 /* 최종사용자ID */
		     , FNL_DEAL_DPT_CD     = #FNL_DEAL_DPT_CD#            /* 최종거래부서코드 */
		     , FNL_MNU_ID          = #FNL_MNU_ID#                 /* 최종메뉴ID */
		     , FNL_MDF_DH          = SYSDATE                      /* 최종수정일시 */
		 WHERE YE          = #YE#
		   AND SRNO        = #SRNO#		   
	</update>	
	
	<!-- 감사정보기본 감사찜해제 정보 수정  -->
	<update id="CSPBII113QAudInfoPopRlsUpdate" parameterClass="paramMap">
		/* csp.bii.service.impl.CSPBII113QServiceImpl.CSPBII113QAudInfoPopRlsUpdate */
		UPDATE TBCSPBII100M                       
		   SET AUD_INF_PRSS_STA_CD = CASE WHEN (SELECT COUNT(*)
		                                          FROM TBCSPBII150L
		                                         WHERE YE = #YE#
		                                           AND SRNO = #SRNO#
		                                           AND AUD_POP_DT IS NOT NULL
		                                           AND AUD_POP_RLS_DT IS NULL) > 0 THEN AUD_INF_PRSS_STA_CD
		                                  ELSE '32' /* 감사정보진행상태코드[32:찜해제] */
		                             END                        		
		     , AUD_DT              = NULL                         /* 감사일 NULL */     
		     , FNL_USR_ID          = #FNL_USR_ID#                 /* 최종사용자ID */
		     , FNL_DEAL_DPT_CD     = #FNL_DEAL_DPT_CD#            /* 최종거래부서코드 */
		     , FNL_MNU_ID          = #FNL_MNU_ID#                 /* 최종메뉴ID */
		     , FNL_MDF_DH          = SYSDATE                      /* 최종수정일시 */
		 WHERE YE          = #YE#
		   AND SRNO        = #SRNO#		   
	</update>	
	
	<!-- 감사정보관련자내역 삭제 -->
	<delete id="CSPBII113EdeleteSub130L" parameterClass="paramMap">
		DELETE TBCSPBII130L
		 WHERE YE          = #YE#
		   AND SRNO        = #SRNO#	
	</delete>
	
	<delete id="CSPBII113EdeleteMain102L" parameterClass="paramMap">
		DELETE TBCSPBII102L
		 WHERE YE   = #YE#
		   AND SRNO = #SRNO#		   
	</delete>
	
	<delete id="CSPBII113EdeleteMain101L" parameterClass="paramMap">
		DELETE TBCSPBII101L
		 WHERE YE   = #YE#
		   AND SRNO = #SRNO#		   
	</delete>
	
	<delete id="CSPBII113EdeleteMain100M" parameterClass="paramMap">
		DELETE TBCSPBII100M
		 WHERE YE   = #YE#
		   AND SRNO = #SRNO#
	</delete>
	
	<!-- 조회내역 삭제 -->
	<delete id="CSPBII113EdeleteMain150L" parameterClass="paramMap">
		DELETE TBCSPBII150L
		 WHERE YE          = #YE#
		   AND SRNO        = #SRNO#	
	</delete>	
	
</sqlMap> 
