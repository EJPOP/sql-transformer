<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/iit/010">
	
	<update id="CSPIIT010EMainUpdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE	TBCSPIIT005M
			SET		DPT_CD = (	SELECT Z.RAL_BLT_DIV_CD 
								FROM TBDCMACM001M Z
								WHERE A.CNB = Z.CNB )
			WHERE 	CNB IS NOT NULL
			AND 	PC_USE_DVSN_CD IN ('Y');
		]]>
		<dynamic>
			<isEqual prepend="AND" property="strPC_DVSN_CD" compareValue="1" >
				PC_SE_CAT_CD = 'W'
			</isEqual>
			<isEqual prepend="AND" property="strPC_DVSN_CD" compareValue="2" >
				PC_SE_CAT_CD = 'I'
			</isEqual>
		</dynamic>
	</update>
	
	
	<select id="CSPIIT010EPwdCheck" parameterClass="paramMap" resultClass="integer">
		SELECT	COUNT(*) AS CNT
		FROM	TBCSPIIT013M
		WHERE	PWD_NM = #strPWD_NM#
	</select>
</sqlMap> 
