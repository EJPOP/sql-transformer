<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="dcm/bst/002">

	<select id="DCMBST002QOnlOad" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT 	T1.*, '' AS STTC_DVSN_CD
			FROM TBDCMBST001M T1
			WHERE TO_CHAR(SYSDATE-7,'YYYYMMDD') BETWEEN T1.STR_DT AND T1.END_DT
        ]]>
	</select>   
	
	<select id="DCMBST002QYrSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT	/*DCMBST002QYrSelect*/
					T1.STTC_YR AS YR
			FROM	TBDCMBST002M T1
			WHERE	1=1
			GROUP BY T1.STTC_YR
			ORDER BY T1.STTC_YR DESC
        ]]>
	</select>   
	
	<select id="DCMBST002QMnSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT	/*DCMBST002QMnSelect*/
					T1.STTC_MN AS MN
			FROM	TBDCMBST002M T1
			WHERE	1=1
			AND		STTC_YR = #YR#
			GROUP BY T1.STTC_MN
			ORDER BY T1.STTC_MN DESC
        ]]>
	</select>  
	
	<select id="DCMBST002QWeekNoSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT	/*DCMBST002QWeekNoSelect*/
					T1.STTC_WEK_NO AS WEEK_NO
			FROM	TBDCMBST002M T1
			WHERE	1=1
			AND		STTC_YR = #YR#
			AND		T1.STTC_MN = #MN#
			GROUP BY T1.STTC_WEK_NO
			ORDER BY T1.STTC_WEK_NO DESC
        ]]>
	</select>  
	
	<select id="DCMBST002QMainSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT	/*DCMBST002QMainSelect*/
					T1.*
			FROM	TBDCMBST002M T1
			WHERE	T1.STTC_YR = #YR#
			AND		T1.STTC_MN = #MN#
			AND		T1.STTC_WEK_NO = #WEK_NO#
			AND		T1.STTC_DVSN_CD = #STTC_DVSN_CD#
			ORDER BY T1.STTC_SNO
        ]]>
	</select>   
</sqlMap> 