<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/dcp/814">
 	
 	<resultMap class="java.util.HashMap" id="CSPDCP814PMainSelect">
			<result property="STTM_DVSN_CD" 			 column="STTM_DVSN_CD" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="ACP_YR" 						 column="ACP_YR" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_ACP_NO" 			 column="STTM_ACP_NO" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="ACP_NO" 			 column="ACP_NO" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_KND_NM" 			 column="STTM_KND_NM" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_KND_DTL_NM" 	 column="STTM_KND_DTL_NM" 	     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="NAM" 							 column="NAM" 							     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="EIN" 							 column="EIN" 							     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="JB_NM" 						 column="JB_NM" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="AD" 								 column="AD" 								     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="TNB" 							 column="TNB" 							     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="EML_AD" 						 column="EML_AD" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="TIT_NM" 						 column="TIT_NM" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_EXCU_TXT" 		 column="STTM_EXCU_TXT" 		     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_TXT_DH" 			 column="STTM_TXT_DH" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_PLC_NM" 			 column="STTM_PLC_NM" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="STTM_TXT" 					 column="STTM_TXT" 					     jdbcType="CLOB" javaType="java.lang.String" />
			<result property="RTRN_WAY_TXT" 			 column="RTRN_WAY_TXT" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="RMK_TXT" 					 column="RMK_TXT" 					     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="OTR_ORG_NM" 				 column="OTR_ORG_NM" 				     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="INSPC_AGR_YN" 			 column="INSPC_AGR_YN" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="OTR_INSPC_AGR_YN" 	 column="OTR_INSPC_AGR_YN" 	     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="FRT_REGI_DH" 			 column="FRT_REGI_DH" 			     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="RES_NAM" 					 column="RES_NAM" 					     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="RES_TNB" 					 column="RES_TNB" 					     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="RES_JB_NM" 				 column="RES_JB_NM" 				     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="RES_AD" 						 column="RES_AD" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="CRP_NM" 						 column="CRP_NM" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
			<result property="ACP_DT" 						 column="ACP_DT" 						     jdbcType="VARCHAR2" javaType="java.lang.String" />
	</resultMap>
 	<select id="CSPDCP814PMainSelect" parameterClass="paramMap" resultMap="CSPDCP814PMainSelect">
		<![CDATA[
			SELECT	T1.STTM_DVSN_CD
					,T1.ACP_YR
					,T1.STTM_ACP_NO
					,DECODE(T1.RM_STTM_ACP_NO,NULL,NULL,T1.ACP_YR||'-'||'-청금-'||T1.RM_STTM_ACP_NO) AS ACP_NO	
					,F_CODE_NM('1000758',T1.STTM_KND_CD) AS STTM_KND_NM
					,T1.STTM_KND_DTL_CD
					,F_CODE_NM('1000759',T1.STTM_KND_DTL_CD) AS STTM_KND_DTL_NM
					,T1.NAM
					,T1.EIN
					,T1.JB_NM
					,T1.AD
					,T1.TNB
					,T1.EML_AD
					,T1.TIT_NM
					,T1.STTM_EXCU_TXT
					,T1.STTM_TXT_DH
					,T1.STTM_PLC_NM
					,T1.STTM_TXT
					,T1.RTRN_WAY_TXT
					,T1.RMK_TXT
					,T1.OTR_ORG_NM
					,T1.INSPC_AGR_YN
					,T1.OTR_INSPC_AGR_YN
					,TO_CHAR(T1.FRT_REGI_DH,'YYYY-MM-DD HH24:MI') AS FRT_REGI_DH
					,T2.RES_NAM
					,T2.RES_TNB
					,T2.RES_JB_NM
					,T2.RES_AD
					,T2.CRP_NM
					,TO_CHAR(T1.ACP_DH,'YYYY.MM.DD') AS ACP_DT
			FROM	TBCSPDCP811M T1
					,TBCSPDCP812M T2
			WHERE	T1.STTM_DVSN_CD = T2.STTM_DVSN_CD
			AND		T1.ACP_YR = T2.ACP_YR
			AND		T1.STTM_ACP_NO = T2.STTM_ACP_NO
			AND		T1.STTM_DVSN_CD = '1'
			AND		T1.ACP_YR = #strACP_YR#
			AND		T1.STTM_ACP_NO = #strSTTM_ACP_NO#
		]]>
		
	</select>
	
</sqlMap> 
