<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="csp/bii/913-ndw">
	
	<!-- 추진실적(공문) 목록 조회-->
	<select id="CSPBII913PPjtInfSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT A.PJTNAME      /* 과제명 */
			     , A.PJTID        /* 과제ID */
			     , A.PJTKIND      /* 과제종류 */
			     , A.PJTTYPE      /* 과제형식 */
			     , A.STARTDT      /* 시작일 */
			     , A.ENDDT        /* 종료일 */
			     , A.PJTPATH      /* 분류체계경로 */
			     , A.PARENTPJTID  /* 상위과제ID */
			     , A.PJTRMPPERIOD /* 과제보존기간 */
			  FROM AM_ONNARA_DOC A
			 WHERE A.PJTID = #strPjtId#
		]]>
	</select>
	
	<!-- 온나라제출요청 등록  -->
	<insert id="CSPBII913PMainsave" parameterClass="paramMap">
		INSERT INTO AM_ONNARA_REQUEST (
		                          REQUESTID         /* 요청ID */
		                        , REQUESTTITLE      /* 요청제목 */
		                        , REQUESTDATE       /* 요청일 */		                        
		                        , REQUESTDEPTID     /* 요청자부서코드 */
		                        , REQUESTDEPTNAME   /* 요청부서명 */
		                        , REQUESTUSERNAME   /* 요청자명*/
		                        , REQUESTUSERCALL   /* 요청자연락처  */
		                        , REQUESTCOMMENT    /* 요청내역 */
		                        , RESPONSEORGID     /* 수신응답기관ID */
		                        , RESPONSEORGNAME   /* 수신응답기관명 */
		                        , RESPONSEDEPTID    /* 수신응답부서ID */
		                        , RESPONSEDEPTNAME  /* 수신응답부서명 */
		                        , PJTID             /* 과제ID */
		                        , REQSTATCD         /* 요청상태코드 */
		                        , REQUESTUSERID     /* 요청자ID */
		                        , REQUESTBAIDEPTCD  /* 요청감사원부서코드 */
		                        , SHAREYN           /* 공유여부 */		
		                        , RESPONSEBAIORGID  /* 수신응답감사원기관ID */
		                        , RESPONSEBAIORGNAME/* 수신응답감사원기관명 */                    
		                         ) 
		                  VALUES (
		                          #REQUESTID#
		                        , #REQUESTTITLE#
		                        , #REQUESTDATE#
		                        , #REQUESTDEPTID#
		                        , #REQUESTDEPTNAME#
		                        , #REQUESTUSERNAME#
		                        , #REQUESTUSERCALL#
		                        , #REQUESTCOMMENT#
		                        , #RESPONSEMINID#	
		                        , #RESPONSEMINNAME#
		                        , #RESPONSEDEPTID#	
		                        , #RESPONSEDEPTNAME#
		                        , #PJTID#
		                        , #REQSTATCD#
		                        , #REQUESTUSERID#
		                        , #REQUESTBAIDEPTCD#
		                        , #SHAREYN#
		                        , #RESPONSEBAIORGID#	
		                        , #RESPONSEBAIORGNAME#
				                 )
	</insert>
	
	<!-- 온나라첨부파일 등록  -->
	<insert id="CSPBII913PAttachFilesave" parameterClass="paramMap">
		INSERT INTO AM_ONNARA_ATTACH_FILE (
		                          FILEID     /* 첨부파일ID */
		                        , FILETITLE  /* 첨부파일제목 */
		                        , FILETYPECD /* 첨부파일종류코드일 */		                        
		                        , FILESIZE   /* 첨부파일크기 */		                        
		                        , FILEPATH   /* 첨부파일경로*/
		                        , FILENAME   /* 첨부파일명  */
		                        , FILESTATCD /* 첨부파일상태코드 */
		                        , SENDDATE   /* 송신일자 */
		                        , DOCID      /* 문서관리카드ID */
		                        , REQUESTID  /* 요청ID */
		                        , SEQ        /* 응답일련번호 */
		                         ) 
		                  VALUES (
		                          #FILEID#
		                        , #FILETITLE#
		                        , #FILETYPECD#
		                        , #FILESIZE#		                        
		                        , #FILEPATH#
		                        , #FILENAME#
		                        , #FILESTATCD#
		                        , #SENDDATE#
		                        , ' '
		                        , #REQUESTID#	
		                        , #SEQ#		                        
				                 )
	</insert>				                 
</sqlMap>