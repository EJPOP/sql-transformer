<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="bad/ded/046">

	<select id="badded046ETrainCoastselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
        SELECT DEP_STAD_STN_NM
             , ARV_STAD_STN_NM
             , CHRG_DVSN_CD
             , TFE_KND_CD
             , TFE_KND_CD AS ORG_TFE_KND_CD
             , DCNT_RTE
             , CHRG
             , DCNT_BEF_CHRG
             , CHRG_STAD_RMK
             , MDF_DT
             , SPE_RM_CHRG /*특별실요금 - 2015.05.07 yyh*/
             , BZT_DVSN_CD /*출장구분코드 - 2017.01.06 yyh */             
          FROM TBBADDED016B
          WHERE 1=1
        ]]>
        <isNotEmpty property="strDepStadStnNm">	 
			  AND DEP_STAD_STN_NM LIKE #strDepStadStnNm#||'%'		 /*출발역*/
		</isNotEmpty>   
		<isNotEmpty property="strArvStadStnNm">	 
			  AND ARV_STAD_STN_NM LIKE #strArvStadStnNm#||'%'		 /*도착역*/
		</isNotEmpty>   
		<isNotEmpty property="strTfekndCd">	 
			  AND TFE_KND_CD = #strTfekndCd#		 /*교통편*/
		</isNotEmpty>   

		<!-- 출장구분코드 추가 - 2017.01.06 yyh  -->		
        <isNotEmpty property="strBztDvsnCd">	 
			  AND BZT_DVSN_CD = #strBztDvsnCd#	
		</isNotEmpty>
				
		ORDER BY DEP_STAD_STN_NM, ARV_STAD_STN_NM
        </select>
        
	<insert id="badded046ETrainCostinsert" parameterClass="paramMap">
		INSERT
		INTO
		TBBADDED016B
		( DEP_STAD_STN_NM
        , ARV_STAD_STN_NM
        , CHRG_DVSN_CD
        , TFE_KND_CD
        , DCNT_RTE
        , CHRG
        , CHRG_STAD_RMK
        , MDF_DT
        , SPE_RM_CHRG /*특별실요금 - 2015.05.07 yyh*/
        , BZT_DVSN_CD /*출장구분코드 - 2017.01.06 yyh*/
             		
		, FNL_MNU_ID
		, FRT_USR_ID
		, FNL_USR_ID
		, FNL_DEAL_DPT_CD
		, FRT_REGI_DH
		, FNL_MDF_DH
		)
		VALUES
		( #DEP_STAD_STN_NM#
        , #ARV_STAD_STN_NM#
        , #CHRG_DVSN_CD#
        , #TFE_KND_CD#
        , #DCNT_RTE#
        , #CHRG#
        , #CHRG_STAD_RMK#
        , #MDF_DT#
        , #SPE_RM_CHRG#
        , #BZT_DVSN_CD#
        
		, #FNL_MNU_ID#
		, #FRT_USR_ID#
		, #FNL_USR_ID#
		, #FNL_DEAL_DPT_CD#
		, SYSDATE
		, SYSDATE

		)
	</insert>
	
	
	<update id="badded046ETrainCostupdate" parameterClass="paramMap">
		UPDATE TBBADDED016B
		SET DEP_STAD_STN_NM = #DEP_STAD_STN_NM#
		  , ARV_STAD_STN_NM = #ARV_STAD_STN_NM#
		  , CHRG_DVSN_CD    = #CHRG_DVSN_CD#
		  , MDF_DT          = TO_CHAR(SYSDATE, 'yyyymmdd')
		
		
		, FNL_MDF_DH = SYSDATE
		, FNL_USR_ID = #FNL_USR_ID#
		, FNL_DEAL_DPT_CD =	#FNL_DEAL_DPT_CD#
		, FNL_MNU_ID = #FNL_MNU_ID#

		, TFE_KND_CD = #TFE_KND_CD#

		<isNotNull prepend="," property="CHRG">
			CHRG = #CHRG#
		</isNotNull>
		
		<isNotNull prepend="," property="DCNT_RTE">
			DCNT_RTE = #DCNT_RTE#
		</isNotNull>
		
		<isNotNull prepend="," property="CHRG_STAD_RMK">
			CHRG_STAD_RMK = #CHRG_STAD_RMK#
		</isNotNull>

		<isNotNull prepend="," property="SPE_RM_CHRG">
			SPE_RM_CHRG = #SPE_RM_CHRG#    /*특별실요금 - 2015.05.07 yyh*/
		</isNotNull>
		
		
	  WHERE 1 = 1
		AND DEP_STAD_STN_NM = #DEP_STAD_STN_NM#
		AND ARV_STAD_STN_NM = #ARV_STAD_STN_NM#
		AND CHRG_DVSN_CD = #CHRG_DVSN_CD#
		AND TFE_KND_CD =#ORG_TFE_KND_CD#
		AND BZT_DVSN_CD = #BZT_DVSN_CD#
		

	</update>
	
	
	<delete id="badded046ETrainCostdelete" parameterClass="paramMap">
		DELETE
		TBBADDED016B
		WHERE 1 = 1
		AND DEP_STAD_STN_NM = #DEP_STAD_STN_NM#
		AND ARV_STAD_STN_NM = #ARV_STAD_STN_NM#
		AND CHRG_DVSN_CD = #CHRG_DVSN_CD#
		AND TFE_KND_CD =#TFE_KND_CD#
		AND BZT_DVSN_CD = #BZT_DVSN_CD#
	</delete>
	
	
	<delete id="badded046EpreTrainCostdelete" parameterClass="paramMap">
		<![CDATA[
		DELETE
		TBBADDED016B
		WHERE 1 = 1
		]]>
		<isNotEmpty property="strDepStadStnNm">	 
			  AND DEP_STAD_STN_NM LIKE #strDepStadStnNm#||'%'		 /*출발역*/
		</isNotEmpty>   
		<isNotEmpty property="strArvStadStnNm">	 
			  AND ARV_STAD_STN_NM LIKE #strArvStadStnNm#||'%'		 /*도착역*/
		</isNotEmpty>   
		<isNotEmpty property="strTfekndCd">	 
			  AND TFE_KND_CD = #strTfekndCd#		 /*교통편*/
		</isNotEmpty>
		
		<isNotEmpty property="strBztDvsnCd">	 
			  AND BZT_DVSN_CD = #strBztDvsnCd#		 /*출장구분코드*/
		</isNotEmpty>		
		
	</delete>
	
	<select id="badded046ETrainCoastselectExcel" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
	SELECT DEP_STAD_STN_NM
	     , ARV_STAD_STN_NM
	     , CHRG_DVSN_CD
	     , F_CODE_NM('1000026',CHRG_DVSN_CD) AS CHRG_DVSN_NM
	     , TFE_KND_CD
	     , F_CODE_NM('1000025', TFE_KND_CD) AS TFE_KND_NM
	     , DCNT_RTE
	     , CHRG
	     , DCNT_BEF_CHRG
	     , SPE_RM_CHRG    /*특별실요금 - 2015.05.07 yyh*/
	     , CHRG_STAD_RMK
	     , MDF_DT
	     , BZT_DVSN_CD                       AS BZT_DVSN_CD /*출장구분   - 2017.01.06 yyh */
         , F_CODE_NM('1000031', BZT_DVSN_CD) AS BZT_DVSN_NM /*출장구분명 - 2017.01.06 yyh */
	  FROM TBBADDED016B
	 WHERE 1=1
  	]]>
        <isNotEmpty property="strDepStadStnNm">	 
			  AND DEP_STAD_STN_NM LIKE #strDepStadStnNm#||'%'		 /*출발역*/
		</isNotEmpty>   
		<isNotEmpty property="strArvStadStnNm">	 
			  AND ARV_STAD_STN_NM LIKE #strArvStadStnNm#||'%'		 /*도착역*/
		</isNotEmpty>   
		<isNotEmpty property="strTfekndCd">	 
			  AND TFE_KND_CD = #strTfekndCd#		 /*교통편*/
		</isNotEmpty>   
		
		<!-- 출장구분코드 추가 - 2017.01.06 yyh  -->		
        <isNotEmpty property="strBztDvsnCd">	 
			  AND BZT_DVSN_CD = #strBztDvsnCd#	
		</isNotEmpty>
				
		ORDER BY DEP_STAD_STN_NM, ARV_STAD_STN_NM
   </select>
   
   <insert id="badded046ETrainCostinsertExcel" parameterClass="paramMap">
		INSERT INTO TBBADDED016B
		( DEP_STAD_STN_NM
        , ARV_STAD_STN_NM
        , CHRG_DVSN_CD
        , TFE_KND_CD
        , DCNT_RTE
        , CHRG
        , DCNT_BEF_CHRG
        , CHRG_STAD_RMK
        , MDF_DT
        , SPE_RM_CHRG /*특별실요금 - 2015.05.07 yyh*/
        , BZT_DVSN_CD
        
		, FNL_MNU_ID
		, FRT_USR_ID
		, FNL_USR_ID
		, FNL_DEAL_DPT_CD
		, FRT_REGI_DH
		, FNL_MDF_DH
		)
		VALUES
		( #COL3#  /*"DEP_STAD_STN_NM"*/
		 ,#COL4#  /*"ARV_STAD_STN_NM"*/
		 ,#COL5#  /*"CHRG_DVSN_CD"*/
		 ,#COL7#  /*"TFE_KND_CD"*/
		 ,#COL11# /*"DCNT_RTE"*/
		 ,#COL9#  /*"CHRG"*/
		 ,#COL12# /*"DCNT_BEF_CHRG"*/
		 ,#COL13# /*"CHRG_STAD_RMK"*/
		 ,#COL14# /*"MDF_DT"*/
		 ,#COL10# /*"SPE_RM_CHRG"*/
		 ,#COL1#  /*BZT_DVSN_CD*/
		 
		, #FNL_MNU_ID#
		, #FRT_USR_ID#
		, #FNL_USR_ID#
		, #FNL_DEAL_DPT_CD#
		, SYSDATE
		, SYSDATE

		)
	</insert>
   
   
</sqlMap> 
