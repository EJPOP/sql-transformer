<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="faa/aea/001"> 

	<select id="FAAAEA001EMainselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN '[' || D1.COPT_ORG_CD || '] ' || F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE '[' || D1.COPT_ORG_CD || '] ' || D1.COPT_ORG_NM END AS COPT_ORG,
		           D1.COPT_ORG_NM AS ORG_CD,
		           F_ORG_INFO(D1.COPT_OFI_CD, '1') AS UPPR_ORG_NM,
		           D1.SYS_NM,
		           D2.UNT_SYS_NM,
		           D3.TBL_NM,
		           D3.TBL_ID,
		           CASE WHEN D5.COLS IS NOT NULL THEN D5.COLS||'...' ELSE D5.COLS END AS COLS,
		           D1.OP_DPT_NM,
		           D1.OP_CHGR_NM,
		           D1.OP_CHGR_CNIF_NM AS OP_CHHR_NO,
		           D1.SYS_DES,
		           D1.SYS_BGN_DT,
		           D1.SYS_END_DT,
		           D1.USE_YN,
		           D1.URL_AD,
		           D1.COPT_ORG_CD,
		           D1.BAI_ORG_CD,
		           D1.COPT_OFI_CD,
		           CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE D1.COPT_ORG_NM END AS ORG_NM
		      FROM TBFAAAEA001M D1 
   LEFT OUTER JOIN TBFAAAEA002M D2 ON D1.SYS_NM = D2.SYS_NM
		       AND D1.COPT_ORG_CD = D2.COPT_ORG_CD 
   LEFT OUTER JOIN TBFAAAEA003M D3 ON D2.UNT_SYS_NM = D3.UNT_SYS_NM
		       AND D2.SYS_NM = D3.SYS_NM
		       AND D2.COPT_ORG_CD = D3.COPT_ORG_CD 
   LEFT OUTER JOIN TBFAAAEA004M D4 ON D3.UNT_SYS_NM = D4.UNT_SYS_NM
		       AND D3.TBL_ID = D4.TBL_ID
		       AND D3.SYS_NM = D4.SYS_NM
		       AND D3.COPT_ORG_CD = D4.COPT_ORG_CD
   LEFT OUTER JOIN (
		    	SELECT AGGR_CONCAT(COL_NM,', ') AS COLS, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
		          FROM (
		    			 SELECT ROW_NUMBER() OVER (PARTITION BY TBL_ID ORDER BY COL_NM DESC) RN, TRIM(COL_NM) AS COL_NM, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
		                   FROM TBFAAAEA004M
		               ORDER BY COL_NM DESC
		                ) M
		       <![CDATA[  WHERE M.RN < 11 ]]>
		      GROUP BY COPT_ORG_CD, SYS_NM, UNT_SYS_NM, TBL_ID
		          ) D5
		       ON D5.TBL_ID = D3.TBL_ID
		      AND D5.UNT_SYS_NM = D2.UNT_SYS_NM
		      AND D5.SYS_NM = D1.SYS_NM
		      AND D5.COPT_ORG_CD = D1.COPT_ORG_CD
		    WHERE 1=1
		      AND D1.USE_YN = 'Y'
		<isNotEmpty property="strOrgCd">
			<isNotEqual property="strOrgDiv" compareValue="1">
				AND D1.BAI_ORG_CD = #strOrgCd#
			</isNotEqual>
			<isEqual property="strOrgDiv" compareValue="1">
				AND SUBSTRING(D1.BAI_ORG_CD,0,3) = SUBSTR(#strOrgCd#,0,3) 
			</isEqual>
		</isNotEmpty>
		
		<isNotEmpty property="strSearchNm">
		<isNotEqual property="strSml" compareValue="1">
			<isEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D1.SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND D4.COL_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
		</isNotEqual>
		
		<isEqual property="strSml" compareValue="1">
			<isEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D2.UNT_SYS_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D3.TBL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND D4.COL_NM  IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
		</isEqual>
		</isNotEmpty>
		
		  GROUP BY D1.COPT_ORG_CD
		  		   ,D1.COPT_ORG_NM
		  		   ,D1.COPT_OFI_CD
		  		   ,D1.SYS_NM
		  		   ,D2.UNT_SYS_NM
		  		   ,D3.TBL_NM
		  		   ,D3.TBL_ID
		  		   ,D1.OP_DPT_NM
		  		   ,D1.OP_CHGR_NM
		  		   ,D1.OP_CHGR_CNIF_NM
		  		   ,D1.SYS_DES
		  		   ,D1.SYS_BGN_DT
		  		   ,D1.SYS_END_DT
		  		   ,D1.USE_YN
		  		   ,D1.URL_AD
		  		   ,D1.COPT_ORG_CD
		  		   ,D1.BAI_ORG_CD
		  		   ,D1.COPT_OFI_CD
		  		   ,D5.COLS
		  ORDER BY COPT_ORG, D1.SYS_NM, D2.UNT_SYS_NM, D3.TBL_NM
	</select>

	<select id="FAAAEA001EMain1select" parameterClass="paramMap" resultClass="resultMap">
			SELECT CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN '[' || D1.COPT_ORG_CD || '] ' || F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE '[' || D1.COPT_ORG_CD || '] ' || D1.COPT_ORG_NM END AS COPT_ORG
				   ,D1.COPT_ORG_NM AS ORG_CD
				   ,F_ORG_INFO(D1.COPT_OFI_CD, '1') AS UPPR_ORG_NM
			       ,D1.SYS_NM
			       ,D1.OP_DPT_NM
			       ,D1.OP_CHGR_NM
				   ,D1.OP_CHGR_CNIF_NM AS OP_CHHR_NO
			       ,D1.SYS_DES
			       ,D1.SYS_BGN_DT
			       ,D1.SYS_END_DT
			       ,D1.USE_YN
			       ,D1.URL_AD
			       ,D1.COPT_ORG_CD
			       ,D1.BAI_ORG_CD
			       ,D1.COPT_OFI_CD
			       ,CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE D1.COPT_ORG_NM END AS COPT_ORG_NM
			  FROM TBFAAAEA001M D1
   LEFT OUTER JOIN TBFAAAEA002M D2
			    ON D1.SYS_NM = D2.SYS_NM
			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
   LEFT OUTER JOIN TBFAAAEA003M D3
			    ON D2.UNT_SYS_NM = D3.UNT_SYS_NM
			   AND D2.SYS_NM = D3.SYS_NM
               AND D2.COPT_ORG_CD = D3.COPT_ORG_CD
   LEFT OUTER JOIN TBFAAAEA004M D4
			    ON D3.UNT_SYS_NM = D4.UNT_SYS_NM
			   AND D3.TBL_ID = D4.TBL_ID
			   AND D3.SYS_NM = D4.SYS_NM
               AND D3.COPT_ORG_CD = D4.COPT_ORG_CD
   LEFT OUTER JOIN TBDCMACM015M D5
                ON D1.COPT_ORG_CD = D5.ORG_CD
			 WHERE 1=1 
			   AND D1.USE_YN = 'Y'
		<isNotEmpty property="strOrgCd">
			<isNotEqual property="strOrgDiv" compareValue="1">
				AND D1.BAI_ORG_CD = #strOrgCd#
			</isNotEqual>
			<isEqual property="strOrgDiv" compareValue="1">
				AND SUBSTRING(D1.BAI_ORG_CD,0,3) = SUBSTR(#strOrgCd#,0,3) 
			</isEqual>
		</isNotEmpty>
		
		<isNotEmpty property="strSearchNm">
		<isNotEqual property="strSml" compareValue="1">
			<isEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D1.SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND D4.COL_NM LIKE '%'||#strSearchNm#||'%'
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
		</isNotEqual>
		
		<isEqual property="strSml" compareValue="1">
			<isEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strSys" compareValue="1">
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
				AND (D1.SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND (D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D2.UNT_SYS_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strCol" compareValue="1">
				AND (D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
				AND (D3.TBL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO) OR D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO))
			</isNotEqual>
			</isNotEqual>
			</isEqual>
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
			<isNotEqual property="strUnt" compareValue="1">
			<isNotEqual property="strSys" compareValue="1">
			<isNotEqual property="strTbl" compareValue="1">
				AND D4.COL_NM IN (SELECT D2.SML_WORD_NM FROM ( SELECT D1.SML_WORD_NM, D1.STND_SEQ_NO FROM TBFAAAEA007M D1 WHERE D1.SML_WORD_NM = #strSearchNm# ) D1 LEFT OUTER JOIN TBFAAAEA007M D2 ON D1.STND_SEQ_NO = D2.STND_SEQ_NO)
			</isNotEqual>
			</isNotEqual>
			</isNotEqual>
			</isEqual>
		</isEqual>
		</isNotEmpty>

		  GROUP BY D1.COPT_ORG_CD
		  		   ,D1.COPT_ORG_NM
		  		   ,D1.COPT_OFI_CD
		  		   ,D1.SYS_NM
		  		   ,D1.OP_DPT_NM
		  		   ,D1.OP_CHGR_NM
		  		   ,D1.OP_CHGR_CNIF_NM
		  		   ,D1.SYS_DES
		  		   ,D1.SYS_BGN_DT
		  		   ,D1.SYS_END_DT
		  		   ,D1.USE_YN
		  		   ,D1.URL_AD
		  		   ,D1.COPT_ORG_CD
		  		   ,D1.BAI_ORG_CD
		  		   ,D1.COPT_OFI_CD
		  ORDER BY COPT_ORG, D1.SYS_NM
	</select>

	<select id="FAAAEA001EMain2select" parameterClass="paramMap" resultClass="resultMap">
			SELECT CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN '[' || D1.COPT_ORG_CD || '] ' || F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE '[' || D1.COPT_ORG_CD || '] ' || D1.COPT_ORG_NM END AS COPT_ORG
				   ,D1.COPT_ORG_NM AS ORG_CD
				   ,F_ORG_INFO(D1.COPT_OFI_CD, '1') AS UPPR_ORG_NM
			       ,D1.SYS_NM
			       ,D2.UNT_SYS_NM
			       ,D1.OP_DPT_NM
			       ,D1.OP_CHGR_NM
				   ,D1.OP_CHGR_CNIF_NM AS OP_CHHR_NO
			       ,D1.SYS_DES
			       ,D1.SYS_BGN_DT
			       ,D1.SYS_END_DT
			       ,D1.USE_YN
			       ,D1.URL_AD
			       ,D1.COPT_ORG_CD
			       ,D1.BAI_ORG_CD
			       ,D1.COPT_OFI_CD
			       ,CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN F_ORG_INFO(D1.COPT_ORG_CD, '1') ELSE D1.COPT_ORG_NM END AS COPT_ORG_NM
			  FROM TBFAAAEA001M D1
   LEFT OUTER JOIN TBFAAAEA002M D2
			    ON D1.SYS_NM = D2.SYS_NM
			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
   LEFT OUTER JOIN TBFAAAEA003M D3
			    ON D2.UNT_SYS_NM = D3.UNT_SYS_NM
			   AND D2.SYS_NM = D3.SYS_NM
               AND D2.COPT_ORG_CD = D3.COPT_ORG_CD
   LEFT OUTER JOIN TBFAAAEA004M D4
			    ON D3.UNT_SYS_NM = D4.UNT_SYS_NM
			   AND D3.TBL_ID = D4.TBL_ID
			   AND D3.SYS_NM = D4.SYS_NM
               AND D3.COPT_ORG_CD = D4.COPT_ORG_CD
   LEFT OUTER JOIN TBDCMACM015M D5
                ON D1.COPT_ORG_CD = D5.ORG_CD
			 WHERE 1=1 
			   AND D1.USE_YN = 'Y'
		<isNotEmpty property="strOrgCd">
			<isNotEqual property="strOrgDiv" compareValue="1">
				AND D1.BAI_ORG_CD = #strOrgCd#
			</isNotEqual>
			<isEqual property="strOrgDiv" compareValue="1">
				AND SUBSTRING(D1.BAI_ORG_CD,0,3) = SUBSTR(#strOrgCd#,0,3) 
			</isEqual>
		</isNotEmpty>
		
		<isNotEmpty property="strSearchNm">
		<isEqual property="strSys" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND D1.SYS_NM LIKE '%'||#strSearchNm#||'%'
		</isNotEqual>
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		<isEqual property="strSys" compareValue="1">
		<isEqual property="strUnt" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		<isEqual property="strSys" compareValue="1">
		<isEqual property="strTbl" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		<isEqual property="strSys" compareValue="1">
		<isEqual property="strCol" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
			AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strSys" compareValue="1">
		<isEqual property="strUnt" compareValue="1">
		<isEqual property="strTbl" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strSys" compareValue="1">
		<isEqual property="strUnt" compareValue="1">
		<isEqual property="strTbl" compareValue="1">
		<isEqual property="strCol" compareValue="1">
			AND (D1.SYS_NM LIKE '%'||#strSearchNm#||'%' OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
		</isEqual>
		</isEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strUnt" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%'
		</isNotEqual>
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		
		<isEqual property="strUnt" compareValue="1">
		<isEqual property="strTbl" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strUnt" compareValue="1">
		<isEqual property="strCol" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
			AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strUnt" compareValue="1">
		<isEqual property="strTbl" compareValue="1">
		<isEqual property="strCol" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
			AND (D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%' OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strTbl" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strCol" compareValue="1">
			AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		
		<isEqual property="strTbl" compareValue="1">
		<isEqual property="strCol" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
			AND (D3.TBL_NM LIKE '%'||#strSearchNm#||'%' OR D4.COL_NM LIKE '%'||#strSearchNm#||'%')
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isEqual>
		
		<isEqual property="strCol" compareValue="1">
		<isNotEqual property="strUnt" compareValue="1">
		<isNotEqual property="strSys" compareValue="1">
		<isNotEqual property="strTbl" compareValue="1">
			AND D4.COL_NM LIKE '%'||#strSearchNm#||'%'
		</isNotEqual>
		</isNotEqual>
		</isNotEqual>
		</isEqual>
		</isNotEmpty>
		
		  GROUP BY D1.COPT_ORG_CD
		  		   ,D1.COPT_ORG_NM
		  		   ,D1.COPT_OFI_CD
		  		   ,D1.SYS_NM
		  		   ,D2.UNT_SYS_NM
		  		   ,D1.OP_DPT_NM
		  		   ,D1.OP_CHGR_NM
		  		   ,D1.OP_CHGR_CNIF_NM
		  		   ,D1.SYS_DES
		  		   ,D1.SYS_BGN_DT
		  		   ,D1.SYS_END_DT
		  		   ,D1.USE_YN
		  		   ,D1.URL_AD
		  		   ,D1.COPT_ORG_CD
		  		   ,D1.BAI_ORG_CD
		  		   ,D1.COPT_OFI_CD
		  ORDER BY COPT_ORG, D1.SYS_NM, D2.UNT_SYS_NM
	</select>
	
	<insert id="FAAAEA001ESysinsert"  parameterClass="paramMap">
		INSERT INTO TBFAAAEA001M 
		     VALUES (
			    #COPT_ORG_CD#
			    ,#SYS_NM#
			    ,#COPT_ORG_NM#
			    ,#UPPR_ORG_NM#
			    ,#SYS_DES#
			    ,#SYS_BGN_DT#
			    ,#SYS_END_DT#
			    ,#URL_AD#
			    ,#OP_DPT_NM#
			    ,#OP_CHGR_NM#
			    ,#OP_CHHR_NO#
			    <isEqual property="USE_YN" compareValue="운영중">
			    ,'Y'
			    </isEqual>
			    <isNotEqual property="USE_YN" compareValue="운영중">
			    	<isEqual property="USE_YN" compareValue="운영">
			    ,'Y'
			    	</isEqual>
			    	<isNotEqual property="USE_YN" compareValue="운영">
			    		<isEqual property="USE_YN" compareValue="Y">
			    ,'Y'
			    		</isEqual>
			    		<isNotEqual property="USE_YN" compareValue="Y">
			    ,'N'
			    		</isNotEqual>
			    	</isNotEqual>
			    </isNotEqual>
			    ,#BAI_ORG_CD#
			    ,SYSDATE
			    ,#FRT_USR_ID#
			    ,SYSDATE
			    ,#FNL_USR_ID#
			    ,#FNL_DEAL_DPT_CD#
			    ,#FNL_MNU_ID#
		    )
	</insert>
	
	<select id="FAAAEA001ESysInfoselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COPT_ORG_CD
			  ,CASE WHEN LENGTH(COPT_ORG_CD) = '12' THEN F_ORG_INFO(COPT_ORG_CD, '1') ELSE COPT_ORG_NM END AS ORG_CD
			  ,F_ORG_INFO(COPT_OFI_CD, '1') AS UPPR_ORG_CD
			  ,COPT_OFI_CD AS UPPR_ORG_NM
			  ,SYS_NM
			  ,SYS_DES
			  ,SYS_BGN_DT
			  ,SYS_END_DT
			  ,URL_AD
			  ,OP_DPT_NM
			  ,OP_CHGR_NM
			  ,OP_CHGR_CNIF_NM AS OP_CHHR_NO
			  ,USE_YN
			  ,BAI_ORG_CD
		 FROM TBFAAAEA001M
		WHERE 1=1
		  AND USE_YN = 'Y'
		<isNotEmpty property="strCoptOrgCd">
		  AND BAI_ORG_CD = #strCoptOrgCd#
		</isNotEmpty>
		  AND SYS_NM = #strSysNm#
	</select>
	
	<select id="FAAAEA001EDocBySysselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT D1.SRNO
				  ,D1.DOC_DES
			      ,CASE WHEN D1.FL_NM IS NOT NULL THEN D1.FL_NM||'.'||D1.FL_EXT_NM||' ('||REPLACE(TO_CHAR(D1.FL_SZ_TXT,'999,999'),' ','')||'bytes)' ELSE '' END AS FL_NM
			      ,D1.DOC_ID
			  FROM TBFAAAEA009M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_NM = D2.SYS_NM
   			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
		 WHERE 1=1
		   AND D2.USE_YN = 'Y'
		   AND D1.SYS_NM = #strSysNm#
		  ]]>
		 <isNotEmpty property="strCoptOrgCd">
		   AND D2.BAI_ORG_CD = #strCoptOrgCd#
		 </isNotEmpty>
	  ORDER BY D1.SRNO
	  
	</select>
	
	<select id="FAAAEA001EDocselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D2.COPT_ORG_CD
				   ,D1.SYS_NM
			       ,D1.SRNO
			       ,D1.DOC_NM
			       ,D1.DOC_DES
			       ,D1.FL_NM
			       ,D1.DOC_ID
			       ,D1.DOC_TYP_CD
			       ,D1.FL_EXT_NM
			       ,D1.FL_SZ_TXT AS FL_SZ_TXT 
			  FROM TBFAAAEA009M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_NM = D2.SYS_NM
   			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
   			 WHERE 1=1
   			   AND D2.USE_YN = 'Y'
	   		 <isNotEmpty property="strCoptOrgCd">
			   AND D2.BAI_ORG_CD = #strCoptOrgCd#
			 </isNotEmpty>
			   AND D1.SYS_NM = #strSysNm#
		  ORDER BY D1.SRNO
	</select>
	
	<insert id="FAAAEA001EDocinsert"  parameterClass="paramMap">
		<![CDATA[
		INSERT INTO TBFAAAEA009M 
			VALUES(
			    (SELECT GCC_ORG_CD 
			       FROM TBCSPIIT006M 
			      WHERE BAI_ORG_CD = #COPT_ORG_CD# 
			        AND ORG_DGE_DVSN_CD = '1' 
			        AND GCC_ORG_CD = GCC_HHT_ORG_CD)
			    ,#SYS_NM#
			    ,(SELECT COUNT(*)+1 AS SRNO_NO 
			        FROM TBFAAAEA009M
			       WHERE SYS_NM = #SYS_NM#
			         AND COPT_ORG_CD = #COPT_ORG_CD#)
			    ,#DOC_NM#
			    ,#DOC_DES#
			    ,#FL_NM#
			    ,#FL_EXT_NM#
			    ,#DOC_ID#
			    ,#DOC_TYP_CD#
			    ,#FL_SZ_TXT#
			    ,SYSDATE
			    ,#FRT_USR_ID#
			    ,SYSDATE
			    ,#FNL_USR_ID#
			    ,#FNL_DEAL_DPT_CD#
			    ,#FNL_MNU_ID#
			)
		]]>
	</insert>
	
	<delete id="FAAAEA001EDocdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA009M
		 WHERE SRNO = #SRNO#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<update id="FAAAEA001EDocupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA009M 
		   SET DOC_NM = #DOC_NM#
		       ,DOC_DES = #DOC_DES#
		       ,FL_NM = #FL_NM#
		       ,DOC_ID = #DOC_ID#
		       ,DOC_TYP_CD = #DOC_TYP_CD#
		       ,FL_EXT_NM = #FL_EXT_NM#
		       ,FL_SZ_TXT = #FL_SZ_TXT#
		       ,FNL_MDF_DH = SYSDATE
		       ,FNL_USR_ID = #FNL_USR_ID#
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		 WHERE SRNO = #SRNO#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<insert id="FAAAEA001EUntSysinsert"  parameterClass="paramMap">
		INSERT INTO TBFAAAEA002M 
		     VALUES (
			    #COPT_ORG_CD#
			    ,#SYS_NM#
			    <isEmpty property="UNT_SYS_NM">
			    ,'기본업무'
			    </isEmpty>
			    <isNotEmpty property="UNT_SYS_NM">
			    ,#UNT_SYS_NM#
			    </isNotEmpty>
			    ,#UNT_SYS_DES#
			    ,#SYS_BGN_DT#
			    ,#SYS_END_DT#
			    ,#DBMS_KND_NM#
			    ,#TBL_CNT#
			    ,#OP_DPT_NM#
			    ,#OP_CHGR_NM#
			    ,#OP_CHHR_NO#
			    ,SYSDATE
			    ,#FRT_USR_ID#
			    ,SYSDATE
			    ,#FNL_USR_ID#
			    ,#FNL_DEAL_DPT_CD#
			    ,#FNL_MNU_ID#
		    )
	</insert>
	
	<select id="FAAAEA001EUntSysselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D1.UNT_SYS_NM
				  ,D1.UNT_SYS_DES
				  ,D1.CHR_DPT_NM AS CHGR_DPT_NM
                  ,D1.CHGR_NM AS CHGR_CAL_NO
                  ,D1.CHGR_CNIF_NM
                  ,D2.COPT_ORG_CD
			  FROM TBFAAAEA002M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_NM = D2.SYS_NM
   			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
		     WHERE 1=1
		       AND D2.USE_YN = 'Y'
		       AND D1.SYS_NM = #strSysNm#
		     <isNotEmpty property="strCoptOrgCd">
		       AND D2.BAI_ORG_CD = #strCoptOrgCd#
		     </isNotEmpty>
	  ORDER BY D1.UNT_SYS_NM
	</select>
	
	<select id="FAAAEA001EConselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D1.SYS_NM
				   ,D1.SRNO
				   ,D1.CON_ORG_NM
				   ,D1.CON_INF_SYS_NM
				   ,D1.INN_EXTL_CON_DVSN_CD AS IO_CON_CD
				   ,D1.MAIN_CON_TXT
				   ,D1.SNDRCV_DVSN_NM AS SNDRCV_DIV_NM
				   ,D1.CON_MEAN_NM
				   ,D1.CON_DVSN_NM AS CON_DIV_NM
				   ,D2.COPT_ORG_CD
			  FROM TBFAAAEA030M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_NM = D2.SYS_NM
   			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
		 	 WHERE 1=1
		   	   AND D2.USE_YN = 'Y'
		   	   AND D1.SYS_NM = #strSysNm#
		 <isNotEmpty property="strCoptOrgCd">
		   	   AND D2.BAI_ORG_CD = #strCoptOrgCd#
		 </isNotEmpty>
	      ORDER BY D1.SRNO
	</select>
	
<!-- 	<select id="FAAAEA001EConRQselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D1.SYS_ID
				   ,D1.SRNO
				   ,D1.CON_RQ_TG_NM
				   ,D1.CON_RQ_TG_INF_NM
				   ,D1.CON_MAIN_TXT
				   ,D1.CON_RQ_EXPT_DH
			  FROM TBFAAAEA031M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_ID = D2.SYS_ID
		 	 WHERE 1=1
		   	   AND D1.SYS_ID = #strSysNm#
		   	 <isNotEmpty property="strCoptOrgCd">
		   	   AND D2.COPT_ORG_CD = #strCoptOrgCd#
		     </isNotEmpty>
	      ORDER BY D1.SRNO
	</select> -->
	
	<delete id="FAAAEA001ESysdelete" parameterClass="paramMap">
		UPDATE TBFAAAEA001M
		   SET USE_YN = 'N'
		 WHERE SYS_NM = #SYS_NM#
		   AND BAI_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<delete id="FAAAEA001EAllDocdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA009M
		 WHERE SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<delete id="FAAAEA001EAllUntdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA002M
		 WHERE SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<delete id="FAAAEA001EAllCondelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA030M
		 WHERE SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<!-- <delete id="FAAAEA001EAllConRQdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA031M
		 WHERE SYS_ID = #SYS_ID#
	</delete> -->
	
	<update id="FAAAEA001ESysupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA001M
		   SET COPT_ORG_NM = #COPT_ORG_NM#
		   	  ,COPT_OFI_CD = #UPPR_ORG_NM#
		      ,SYS_DES = #SYS_DES#
		      ,SYS_BGN_DT = #SYS_BGN_DT#
		      ,SYS_END_DT = #SYS_END_DT#
		      ,URL_AD = #URL_AD#
		      ,OP_DPT_NM = #OP_DPT_NM#
		      ,OP_CHGR_NM = #OP_CHGR_NM#
		      ,OP_CHGR_CNIF_NM = #OP_CHHR_NO#
		      ,USE_YN = #USE_YN#
		      ,BAI_ORG_CD = #BAI_ORG_CD#
		      
		      ,FNL_USR_ID = #FNL_USR_ID#
			  ,FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#
			  ,FNL_MNU_ID = #FNL_MNU_ID#		      
		      ,FNL_MDF_DH = SYSDATE
		      
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		WHERE SYS_NM = #SYS_NM#
		  AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<insert id="FAAAEA001EConinsert" parameterClass="paramMap">
		INSERT INTO TBFAAAEA030M
			VALUES (
				#COPT_ORG_CD#  
				,#SYS_NM#
				,(SELECT NVL(MAX(SRNO),0) + 1 
                    FROM TBFAAAEA030M
                   WHERE COPT_ORG_CD = #COPT_ORG_CD#
                     AND SYS_NM      = #SYS_NM#)
				,#CON_ORG_NM#   
				,#CON_INF_SYS_NM#  
				,#INN_EXTL_CON_DVSN_CD# 
				,#SNDRCV_DVSN_NM#
				,#MAIN_CON_TXT#
				,#CON_MEAN_NM#
				,#CON_DVSN_NM#
				,SYSDATE
				,#FRT_USR_ID#
				,SYSDATE
				,#FNL_USR_ID#
				,#FNL_DEAL_DPT_CD#
				,#FNL_MNU_ID#
			)
	</insert>
	
	<update id="FAAAEA001EConupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA030M
		   SET CON_ORG_NM = #CON_ORG_NM#
		       ,CON_INF_SYS_NM = #CON_INF_SYS_NM#
		       ,MAIN_CON_TXT = #MAIN_CON_TXT#
		       ,SNDRCV_DVSN_NM = #SNDRCV_DIV_NM#
		       ,CON_MEAN_NM = #CON_MEAN_NM#
		       ,INN_EXTL_CON_DVSN_CD = #IO_CON_CD#
		       ,CON_DVSN_NM = #CON_DIV_NM#
		       ,FNL_MDF_DH = SYSDATE
		       ,FNL_USR_ID = #FNL_USR_ID#
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		 WHERE SYS_NM = #SYS_NM#
		   AND SRNO = #SRNO#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<delete id="FAAAEA001ECondelete" parameterClass="paramMap">
		DELETE FROM TBFAAAEA030M
		 WHERE SYS_NM = #SYS_NM#
		   AND SRNO = #SRNO#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<!-- <insert id="FAAAEA001EConRQinsert" parameterClass="paramMap">
		INSERT INTO TBFAAAEA031M
			VALUES(
				#SYS_ID#
				,(SELECT COUNT(*)+1 AS SRNO_NO 
			       FROM TBFAAAEA031M
			      WHERE SYS_ID = #SYS_ID#)
				,#CON_RQ_TG_NM#
				,#CON_RQ_TG_INF_NM#
				,#CON_MAIN_TXT#
				,#CON_RQ_EXPT_DH#
				,SYSDATE
				,#FRT_USR_ID#
				,SYSDATE
				,#FNL_USR_ID#
				,#FNL_DEAL_DPT_CD#
				,#FNL_MNU_ID#
			)
	</insert> -->
	
	<!-- <update id="FAAAEA001EConRQupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA031M
		   SET CON_RQ_TG_NM = #CON_RQ_TG_NM#
		       ,CON_RQ_TG_INF_NM = #CON_RQ_TG_INF_NM#
		       ,CON_MAIN_TXT = #CON_MAIN_TXT#
		       ,CON_RQ_EXPT_DH = #CON_RQ_EXPT_DH#
		       ,FNL_MDF_DH = SYSDATE
		       ,FNL_USR_ID = #FNL_USR_ID#
		 WHERE SYS_ID = #SYS_ID#
		   AND SRNO = #SRNO#
</update> -->
	
	<!-- <delete id="FAAAEA001EConRQdelete" parameterClass="paramMap">
		DELETE FROM TBFAAAEA031M
		 WHERE SYS_ID = #SYS_ID#
		   AND SRNO = #SRNO#
	</delete> -->
	
	<select id="FAAAEA001EUntSysInfoselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT UNT_SYS_NM
		      ,UNT_SYS_DES
		      ,UNT_SYS_BGN_DT AS SYS_BGN_DT
		      ,UNT_SYS_END_DT AS SYS_END_DT
		      ,DBMS_KND_NM
		      ,TBL_CNT
		      ,CHR_DPT_NM AS CHGR_DPT_NM
		      ,CHGR_NM
		      ,CHGR_CNIF_NM AS CHGR_CAL_NO
		  FROM TBFAAAEA002M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	</select>
	
	<insert id="FAAAEA001ELawinsert"  parameterClass="paramMap">
		<![CDATA[
		INSERT INTO TBFAAAEA005M 
		     VALUES (
		     	 #COPT_ORG_CD#
		     	,#SYS_NM#
			    ,#UNT_SYS_NM#
			    ,(SELECT NVL(MAX(REL_LW_SRNO),0) + 1  AS SRNO_NO 
			       FROM TBFAAAEA005M
			      WHERE COPT_ORG_CD = #COPT_ORG_CD#
			        AND SYS_NM      = #SYS_NM#
			        AND UNT_SYS_NM  = #UNT_SYS_NM#)
			    ,#APC_LAW_NM#
			    ,#REL_LW_TXT#
			    ,SYSDATE
			    ,#FRT_USR_ID#
			    ,SYSDATE
			    ,#FNL_USR_ID#
			    ,#FNL_DEAL_DPT_CD#
			    ,#FNL_MNU_ID#
		    )
		]]>
	</insert>
	
	<delete id="FAAAEA001ELawdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA005M
		 WHERE REL_LW_SRNO = #SRNO#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<update id="FAAAEA001EUntSysupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA002M
		   SET UNT_SYS_DES = #UNT_SYS_DES#
		      ,UNT_SYS_BGN_DT = #SYS_BGN_DT#
		      ,UNT_SYS_END_DT = #SYS_END_DT#
		      ,DBMS_KND_NM = #DBMS_KND_NM#
		      ,TBL_CNT = #TBL_CNT#
		      ,CHR_DPT_NM = #OP_DPT_NM#
		      ,CHGR_NM = #OP_CHGR_NM#
		      ,CHGR_CNIF_NM = #OP_CHHR_NO#
		      
		      ,FNL_USR_ID = #FNL_USR_ID#
			  ,FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#
			  ,FNL_MNU_ID = #FNL_MNU_ID#		      
		      ,FNL_MDF_DH = SYSDATE
		      
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		   <isNotEmpty property="NEUNT_SYS_NM">
		       ,UNT_SYS_NM = #NEUNT_SYS_NM#
		   </isNotEmpty>
		 WHERE UNT_SYS_NM = #UNT_SYS_NM#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>

	<update id="FAAAEA001ELawupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA005M
		   SET REL_LW_TXT = #REL_LW_TXT#
		   	   ,FNL_MDF_DH = SYSDATE
		   	   ,FNL_USR_ID = #FNL_USR_ID#
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		   <isNotEmpty property="NEUNT_SYS_NM">
		       ,UNT_SYS_NM = #NEUNT_SYS_NM#
		   </isNotEmpty>
		 WHERE REL_LW_SRNO = #SRNO#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<select id="FAAAEA001ELawselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COPT_ORG_CD
		      ,SYS_NM
			  ,UNT_SYS_NM
			  ,REL_LW_SRNO AS SRNO
			  ,APC_LAW_NM
			  ,REL_LW_TXT
		  FROM TBFAAAEA005M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	  ORDER BY COPT_ORG_CD
		       ,SYS_NM
			   ,UNT_SYS_NM
			   ,REL_LW_SRNO
	</select>
	
	<select id="FAAAEA001ETblColselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT D1.TBL_NM                      AS TBL_NM
			 	  ,D1.TBL_DES                     AS TBL_DES
			   	  ,D1.TBL_ID                      AS TBL_ID
                  ,(SELECT AGGR_CONCAT(Z.COL_NM, ', ') 
                      FROM TBFAAAEA004M Z
                     WHERE Z.COPT_ORG_CD = D1.COPT_ORG_CD
                       AND Z.SYS_NM      = D1.SYS_NM
                       AND Z.UNT_SYS_NM  = D1.UNT_SYS_NM
                       AND Z.TBL_ID      = D1.TBL_ID
                       AND ROWNUM < 11)           AS COLS
	 	      FROM TBFAAAEA003M D1		
			 WHERE D1.UNT_SYS_NM   = #strUntSysNm#
			   AND D1.SYS_NM       = #strSysNm#
			   AND D1.COPT_ORG_CD  = #strCoptOrgCd#
		]]>
					  
		<isNotEmpty property="strTblNm">			  
			   AND D1.TBL_NM       LIKE '%' || #strTblNm# || '%' 
		</isNotEmpty>
		
		<![CDATA[			  
		     ORDER BY D1.TBL_NM 
		]]>
	</select>
	
	<delete id="FAAAEA001EUntSysdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA002M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	</delete>
	
	<delete id="FAAAEA001EAllLawdelete" parameterClass="paramMap">
		DELETE
		  FROM TBFAAAEA005M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	</delete>
	
	<select id="FAAAEA001ETblselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D1.COPT_ORG_CD
				   ,D1.SYS_NM
				   ,D1.UNT_SYS_NM
				   ,D1.TBL_ID
				   ,D1.TBL_NM
				   ,D1.TBL_DES
				   ,D1.DATA_NOC AS DATA_CNT
		      FROM TBFAAAEA003M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.COPT_ORG_CD = D2.COPT_ORG_CD
   			   AND D1.SYS_NM = D2.SYS_NM
			 WHERE 1=1
			   AND D1.UNT_SYS_NM = #strUntSysNm#
			   AND D1.SYS_NM = #strSysNm#
			   AND D2.BAI_ORG_CD = #strCoptOrgCd#
			<isNotEmpty property="strSearchStr">
			   AND (D1.TBL_ID LIKE '%'||#strSearchStr#||'%' OR D1.TBL_NM LIKE '%'||#strSearchStr#||'%')
			</isNotEmpty>
	</select>
	
	<insert id="FAAAEA001ETblinsert" parameterClass="paramMap">
		INSERT INTO TBFAAAEA003M
			VALUES(
			    #COPT_ORG_CD#
			    ,#SYS_NM#
				,#UNT_SYS_NM#
				,#TBL_ID#
				,#TBL_NM#
				,#TBL_DES#
				,#COL_CNT#
				,#DATA_NOC#
				,SYSDATE
				,#FRT_USR_ID#
				,SYSDATE
				,#FNL_USR_ID#
				,#FNL_DEAL_DTP_CD#
				,#FNL_MNU_ID#
			)
	</insert>
	
	<update id="FAAAEA001ETblupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA003M
		   SET TBL_NM = #TBL_NM#	
		       ,TBL_DES = #TBL_DES#
		       
		       ,FNL_MDF_DH = SYSDATE
			   ,FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#
			   ,FNL_MNU_ID = #FNL_MNU_ID#		       
		       ,FNL_USR_ID = #FNL_USR_ID#
		       
		       ,COL_CNT  = #COL_CNT#    
		       ,DATA_NOC = #DATA_NOC#
		   
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM = #NESYS_NM#
		   </isNotEmpty>
		   <isNotEmpty property="NEUNT_SYS_NM">
		       ,UNT_SYS_NM = #NEUNT_SYS_NM#
		   </isNotEmpty>
		 WHERE UNT_SYS_NM = #UNT_SYS_NM#
	 	   AND TBL_ID = #TBL_ID#
	 	   AND UNT_SYS_NM = #UNT_SYS_NM#
	 	   AND SYS_NM = #SYS_NM#
	 	   AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<delete id="FAAAEA001ETbldelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA003M
		 WHERE UNT_SYS_NM = #UNT_SYS_NM#
		   AND TBL_ID = #TBL_ID#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<select id="FAAAEA001EColselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT COPT_ORG_CD
				   ,SYS_NM
				   ,UNT_SYS_NM
				   ,TBL_ID
				   ,COL_ID
				   ,COL_NM
				   ,VLD_VAL_DES
				   ,DFALT_VAL_DES
			  FROM TBFAAAEA004M
   			 WHERE 1=1
		 	   AND UNT_SYS_NM = #strUntSysNm#
		   	   AND TBL_ID = #strTblId#
		   	   AND SYS_NM = #strSysNm#
		   	   AND COPT_ORG_CD = #strCoptOrgCd#
	</select>
	
	<insert id="FAAAEA001EColinsert" parameterClass="paramMap">
		INSERT INTO TBFAAAEA004M
			VALUES(
				#COPT_ORG_CD#
				,#SYS_NM#
			    ,#UNT_SYS_NM#
			    ,#TBL_ID#
			    ,#COL_ID#
			    ,#COL_NM#
			    ,#COL_DES#
			    ,#VLD_VAL_DES#
			    ,#DFALT_VAL_DES#
			    ,SYSDATE
			    ,#FRT_USR_ID#
			    ,SYSDATE
			    ,#FNL_USR_ID#
			    ,#FNL_DEAL_DPT_CD#
			    ,#FNL_MNU_ID#
			)
	</insert>
	
	<update id="FAAAEA001EColupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA004M
		   SET COL_NM        = #COL_NM#
		      ,COL_DES       = #COL_DES#
		   	  ,VLD_VAL_DES   = #VLD_VAL_DES#
		      ,DFALT_VAL_DES = #DFALT_VAL_DES#
		      
		      ,FNL_MDF_DH    = SYSDATE
			  ,FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#
			  ,FNL_MNU_ID = #FNL_MNU_ID#			      
		      ,FNL_USR_ID    = #FNL_USR_ID#
		      
		   <isNotEmpty property="NECOPT_ORG_CD">
		   	   ,COPT_ORG_CD  = #NECOPT_ORG_CD#
		   </isNotEmpty>
		   <isNotEmpty property="NESYS_NM">
		       ,SYS_NM       = #NESYS_NM#
		   </isNotEmpty>
		   <isNotEmpty property="NEUNT_SYS_NM">
		       ,UNT_SYS_NM   = #NEUNT_SYS_NM#
		   </isNotEmpty>
		 WHERE UNT_SYS_NM    = #UNT_SYS_NM#
		   AND TBL_ID        = #TBL_ID#
		   AND COL_ID        = #COL_ID#
		   AND SYS_NM        = #SYS_NM#
		   AND COPT_ORG_CD   = #COPT_ORG_CD#
	</update>
	
	<delete id="FAAAEA001EColdelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA004M
		 WHERE UNT_SYS_NM = #UNT_SYS_NM#
		   AND TBL_ID = #TBL_ID#
		   AND COL_ID = #COL_ID#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</delete>
	
	<update id="FAAAEA001EColCntupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA003M
		   SET COL_CNT = (SELECT COUNT(COL_ID) AS COL_CNT 
		   					FROM TBFAAAEA004M 
		   				   WHERE UNT_SYS_NM = #UNT_SYS_NM# 
		   				     AND TBL_ID = #TBL_ID#
		   				     AND SYS_NM = #SYS_NM#
		   				     AND COPT_ORG_CD = #COPT_ORG_CD#)
         WHERE UNT_SYS_NM = #UNT_SYS_NM#
           AND TBL_ID = #TBL_ID#
           AND SYS_NM = #SYS_NM#
           AND COPT_ORG_CD = #COPT_ORG_CD#
	</update>
	
	<delete id="FAAAEA001EAllTbldelete" parameterClass="paramMap">
		DELETE 
		  FROM TBFAAAEA003M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
           AND COPT_ORG_CD = #strCoptOrgCd#
	</delete>
	
	<delete id="FAAAEA001EAllColdelete" parameterClass="paramMap">
		DELETE
		  FROM TBFAAAEA004M
		 WHERE UNT_SYS_NM = #strUntSysNm#
		   AND SYS_NM = #strSysNm#
           AND COPT_ORG_CD = #strCoptOrgCd#
	</delete>
	
	<select id="FAAAEA001EDtlDocselect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
		SELECT D1.DOC_NM
			   ,(SELECT SUBSTR(REPLACE(REPLACE(XMLAGG(XMLELEMENT(A,', '||FL_NM||'.'||FL_EXT_NM)),'<A>',''),'</A>',''),2) 
			       FROM TBFAAAEA009M WHERE SYS_NM = #strSysNm# AND COPT_ORG_CD = #strCoptOrgCd# AND DOC_NM = D1.DOC_NM) AS FL_NM_EXT
	      FROM TBFAAAEA009M D1
	    ]]>
		 WHERE SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	  GROUP BY DOC_NM
		
	</select>
	
	<select id="FAAAEA001EDtlUntSysselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT UNT_SYS_NM
			   ,UNT_SYS_DES
		  FROM TBFAAAEA002M
		 WHERE SYS_NM = #strSysNm#
		   AND COPT_ORG_CD = #strCoptOrgCd#
	</select>
	
	<select id="FAAAEA001EDtlTblselect" parameterClass="paramMap" resultClass="resultMap">
	
		<![CDATA[
			SELECT D1.TBL_NM||' ('||D1.DATA_NOC||')' AS TBL_NM
				   ,'■'||D1.TBL_DES||CHR(13)||' -'||CASE WHEN D5.COLS IS NOT NULL THEN D5.COLS||'...' ELSE D5.COLS END AS COLS
			  FROM TBFAAAEA003M D1
   LEFT OUTER JOIN TBFAAAEA004M D2
	   		    ON D1.UNT_SYS_NM = D2.UNT_SYS_NM
			   AND D1.TBL_ID = D2.TBL_ID
			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
			   AND D1.SYS_NM = D2.SYS_NM
   LEFT OUTER JOIN TBFAAAEA002M D3
                ON D2.UNT_SYS_NM = D3.UNT_SYS_NM
               AND D2.SYS_NM = D3.SYS_NM
			   AND D2.COPT_ORG_CD = D3.COPT_ORG_CD
   LEFT OUTER JOIN TBFAAAEA001M D4
   				ON D4.SYS_NM = D3.SYS_NM
			   AND D4.COPT_ORG_CD = D3.COPT_ORG_CD
   LEFT OUTER JOIN (
		    	SELECT AGGR_CONCAT(COL_NM,', ') AS COLS, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
		          FROM (
		    			 SELECT ROW_NUMBER() OVER (PARTITION BY TBL_ID ORDER BY COL_NM DESC) RN, TRIM(COL_NM) AS COL_NM, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
		                   FROM TBFAAAEA004M
		               ORDER BY COL_NM DESC
		                ) M
		         WHERE M.RN < 11 ]]>
		      GROUP BY COPT_ORG_CD, SYS_NM, UNT_SYS_NM, TBL_ID
		          ) D5
		       ON D5.TBL_ID = D2.TBL_ID
		      AND D5.UNT_SYS_NM = D2.UNT_SYS_NM
		      AND D5.SYS_NM = D2.SYS_NM
		      AND D5.COPT_ORG_CD = D2.COPT_ORG_CD
			 WHERE 1=1
			   AND D4.USE_YN = 'Y'
			<isEmpty property="strSearchStr">
			   AND D3.SYS_NM = #strSysNm#
			   AND D4.COPT_ORG_CD = #strCoptOrgCd#
			   AND D3.UNT_SYS_NM = #strUntSysNm#
			</isEmpty>
			<isNotEmpty property="strSearchStr">
				<isEqual property="chkSys" compareValue="1">
					AND D4.SYS_NM LIKE '%'||#strSearchStr#||'%'
				</isEqual>
				<isEqual property="chkUnt" compareValue="1">
					AND D3.UNT_SYS_NM LIKE '%'||#strSearchStr#||'%'
				</isEqual>
				<isEqual property="chkTbl" compareValue="1">
					AND D1.TBL_NM LIKE '%'||#strSearchStr#||'%'
				</isEqual>
				<isEqual property="chkCol" compareValue="1">
					AND D2.COL_NM LIKE '%'||#strSearchStr#||'%'
				</isEqual>
				<isNotEqual property="chkSys" compareValue="1">
					<isNotEqual property="chkUnt" compareValue="1">
						<isNotEqual property="chkTbl" compareValue="1">
							<isNotEqual property="chkCol" compareValue="1">
								AND (D4.SYS_NM LIKE '%'||#strSearchStr#||'%' 
								  OR D3.UNT_SYS_NM LIKE '%'||#strSearchStr#||'%' 
								  OR D1.TBL_NM LIKE '%'||#strSearchStr#||'%' 
								  OR D2.COL_NM LIKE '%'||#strSearchStr#||'%')
							</isNotEqual>
						</isNotEqual>
					</isNotEqual>
				</isNotEqual>
			</isNotEmpty>			   
		  GROUP BY D1.TBL_NM, D1.DATA_NOC, D1.TBL_DES, D5.COLS;
	</select>
	
	<select id="FAAAEA001ETotTblCntselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*)
		  FROM TBFAAAEA003M
	</select>
	
	<select id="FAAAEA001ESysPopselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COPT_ORG_CD
			  ,CASE WHEN LENGTH(COPT_ORG_CD) = '12' THEN F_ORG_INFO(COPT_ORG_CD, '1') ELSE COPT_ORG_NM END AS ORG_CD
		      ,SYS_NM
		  FROM TBFAAAEA001M
		 WHERE 1=1
		   AND USE_YN = 'Y'
		 <isNotEmpty property="strCoptOrgCd">
		   AND BAI_ORG_CD = #strCoptOrgCd# 
		 </isNotEmpty>
		 <isNotEmpty property="strSearchStr">
		   AND SYS_NM LIKE '%'||#strSearchStr#||'%'
		 </isNotEmpty>
	</select>
	
	<select id="FAAAEA001EUntPopselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D2.COPT_ORG_CD
				   ,D1.SYS_NM
			       ,D1.UNT_SYS_NM
			  FROM TBFAAAEA002M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
   				ON D1.SYS_NM = D2.SYS_NM
   			   AND D1.COPT_ORG_CD = D2.COPT_ORG_CD
			 WHERE 1=1
			   AND D2.USE_YN = 'Y'
			 <isNotEmpty property="strCoptOrgCd">
			   AND D2.COPT_ORG_CD = #strCoptOrgCd#
			 </isNotEmpty>
			 <isNotEmpty property="strSysNm">
			   AND D1.SYS_NM = #strSysNm#
			 </isNotEmpty>
			 <isNotEmpty property="strSearchStr">
			   AND D1.UNT_SYS_NM LIKE '%'||#strSearchStr#||'%'
			 </isNotEmpty>
	</select>
	
	<select id="FAAAEA001ESysCheckselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBFAAAEA001M 
		 WHERE SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</select>
	
	<select id="FAAAEA001EUntSysCheckselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBFAAAEA002M
		 WHERE UNT_SYS_NM = #UNT_SYS_NM#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</select>
	
	<select id="FAAAEA001ETblCheckselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBFAAAEA003M
		 WHERE TBL_ID = #TBL_ID#
		   AND UNT_SYS_NM = #UNT_SYS_NM#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</select>
	
	<select id="FAAAEA001ECoptCheckselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBDCMACM015M
		 WHERE ORG_CD = #COPT_ORG_CD#
	</select>
	
	<select id="FAAAEA001EColCheckselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBFAAAEA004M
		 WHERE COL_ID = #COL_ID#
		   AND TBL_ID = #TBL_ID#
		   AND UNT_SYS_NM = #UNT_SYS_NM#
		   AND SYS_NM = #SYS_NM#
		   AND COPT_ORG_CD = #COPT_ORG_CD#
	</select>
	
	<select id="FAAAEA001EDtlInfoNmselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT CUR_INF_SYS_NM
			   ,CUR_INF_SYS_TYP_NM
			   ,CUR_INF_SYS_MAIN_FUNC_TXT AS CUR_INF_SYS_MAIN_FUNC_NM
			   ,CUR_INF_SYS_PPS_TXT AS CUR_INF_SYS_PPS_NM
			   ,CUR_INF_SYS_ITDC_WAY_NM AS CUR_INF_SYS_ITDC_MTD_NM
			   ,CUR_INF_SYS_ITDC_WAY_ETC_TXT AS CUR_INF_SYS_ITDC_MTD_ETC_NM
			   ,CUR_INF_SYS_OP_DVSN_NM
			   ,'' AS COL1
			   ,'' AS COL2
			   ,'' AS COL3
			   ,ORG_NM
			   ,OP_MNAG_NM
			   ,OP_DPT_NM
			   ,OP_CHGR_NM
			   ,CNCT_URL_AD AS CNCT_URL
			   ,DVL_YR_NM AS DVL_YR
			   ,FNL_RNW_YR_NM AS FNL_RNW_YR
			   ,DVL_LNG_NM
			   ,'' AS COL4
			   ,'' AS COL5
			   ,DVL_FRMWK_NM
			   ,DVL_FRMWK_ETC_DES AS DVL_FRMWK_ETC_NM
			   ,REL_LAW_TXT AS REL_LAW_NM
			   ,'' AS AMT1
			   ,'' AS AMT2
			   ,'' AS AMT3
			   ,'' AS AMT4
			   ,'' AS AMT5
			   ,'' AS AMT6
			   ,'' AS AMT7
			   ,'' AS AMT8
			   ,'' AS AMT9
			   ,'' AS AMT10
			   ,'' AS AMT11
			   ,'' AS AMT12
			   ,'' AS AMT13
			   ,'' AS AMT14
			   ,'' AS AMT15
			   ,'' AS AMT16
			   ,'' AS AMT17
		  FROM TBFAAAEA018M
		 WHERE (HIRK_ORG_NM LIKE '%'||#strOrgNm#||'%' OR ORG_NM LIKE '%'||#strOrgNm#||'%')
	</select>
	
	<select id="FAAAEA001EDtlInfoIdselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT CUR_INF_SYS_NM
			   ,CUR_INF_SYS_TYP_NM
			   ,CUR_INF_SYS_MAIN_FUNC_TXT AS CUR_INF_SYS_MAIN_FUNC_NM
			   ,CUR_INF_SYS_PPS_TXT AS CUR_INF_SYS_PPS_NM
			   ,CUR_INF_SYS_ITDC_WAY_NM AS CUR_INF_SYS_ITDC_MTD_NM
			   ,CUR_INF_SYS_ITDC_WAY_ETC_TXT AS CUR_INF_SYS_ITDC_MTD_ETC_NM
			   ,CUR_INF_SYS_OP_DVSN_NM
			   ,'' AS COL1
			   ,'' AS COL2
			   ,'' AS COL3
			   ,ORG_NM
			   ,OP_MNAG_NM
			   ,OP_DPT_NM
			   ,OP_CHGR_NM
			   ,CNCT_URL_AD AS CNCT_URL
			   ,DVL_YR_NM AS DVL_YR
			   ,FNL_RNW_YR_NM AS FNL_RNW_YR
			   ,DVL_LNG_NM
			   ,'' AS COL4
			   ,'' AS COL5
			   ,DVL_FRMWK_NM
			   ,DVL_FRMWK_ETC_DES AS DVL_FRMWK_ETC_NM
			   ,REL_LAW_TXT AS REL_LAW_NM
			   ,'' AS AMT1
			   ,'' AS AMT2
			   ,'' AS AMT3
			   ,'' AS AMT4
			   ,'' AS AMT5
			   ,'' AS AMT6
			   ,'' AS AMT7
			   ,'' AS AMT8
			   ,'' AS AMT9
			   ,'' AS AMT10
			   ,'' AS AMT11
			   ,'' AS AMT12
			   ,'' AS AMT13
			   ,'' AS AMT14
			   ,'' AS AMT15
			   ,'' AS AMT16
			   ,'' AS AMT17
		  FROM TBFAAAEA018M
		 WHERE CUR_INF_SYS_ID = #strCurInfSysId#
	</select>
	
	<select id="FAAAEA001ECntChkselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT COUNT(*) AS CNT
		  FROM TBFAAAEA018M
		 WHERE (HIRK_ORG_NM LIKE '%'||#strOrgNm#||'%' OR ORG_NM LIKE '%'||#strOrgNm#||'%')
	</select>
	
	<select id="FAAAEA001ESysListselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT CUR_INF_SYS_ID
		       ,CUR_INF_SYS_NM 
		  FROM TBFAAAEA018M 
		 WHERE (HIRK_ORG_NM LIKE '%'||#strOrgNm#||'%' OR ORG_NM LIKE '%'||#strOrgNm#||'%') 
	</select>
	
	<select id="FAAAEA001ECoptOrgCdselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT DISTINCT COPT_ORG_CD
			   ,COPT_ORG_NM 
		  FROM TBFAAAEA001M
		 WHERE 1=1
		 <isNotEmpty property="strSearchStr">
		   AND COPT_ORG_NM = #strSearchStr#
		 </isNotEmpty> 
	</select>
	
	<select id="FAAAEA001EBaiOrgCdselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT BAI_ORG_CD 
			   ,ALL_ORG_NM AS BAI_ORG_NM
		  FROM TBCSPIIT006M
		 WHERE GCC_ORG_CD = #strCoptOrgCd#
	</select>
	
	
	
	<update id="FAAAEA001EBaiOrgCdupdate" parameterClass="paramMap">
		UPDATE TBFAAAEA001M
		   SET BAI_ORG_CD = #strBaiOrgCd#
		 WHERE COPT_ORG_CD = #strCoptOrgCd#
	</update>
	
	
	<!-- 조회전용 화면 ================================================================================================ -->
	
	<select id="FAAAEA001UMainselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT  NVL(F_ORG_INFO(D1.COPT_OFI_CD, '1'), D1.COPT_OFI_CD) AS COPT_ORG_NM 
			       ,NVL(F_ORG_INFO(D1.BAI_ORG_CD, '1'), D1.BAI_ORG_CD)   AS BAI_ORG_NM
				   ,D1.SYS_NM
				   ,CASE WHEN MAX(D3.TBL_NM) IS NOT NULL 
				    THEN MAX(D3.TBL_NM)||' 등 '||(
				    	SELECT COUNT(TBL_ID) 
				    	  FROM TBFAAAEA003M 
				    	 WHERE COPT_ORG_CD = D1.COPT_ORG_CD 
				    	   AND SYS_NM = D1.SYS_NM 
				      GROUP BY SYS_NM
				    )||'개 자료' 
				    ELSE '' END AS TBL_CNT
				   ,D1.OP_DPT_NM           AS OP_INFO_DPT_NM				    
				   ,CASE WHEN D1.OP_DPT_NM IS NOT NULL AND D1.OP_CHGR_NM IS NOT NULL AND D1.OP_CHGR_CNIF_NM IS NOT NULL 
				              THEN D1.OP_DPT_NM||' '||D1.OP_CHGR_NM||' ('||D1.OP_CHGR_CNIF_NM||')' 
				         ELSE '' 
				     END                   AS OP_INFO
				   ,D1.SYS_DES
				   ,D1.URL_AD
				   ,CASE WHEN D4.FL_NM IS NOT NULL 
				    THEN D4.FL_NM||'.'||D4.FL_EXT_NM||' ('||REPLACE(TO_CHAR(D4.FL_SZ_TXT,'999,999'),' ','')||' BYTES )' 
				    ELSE '' END AS FL_NM
				   ,D4.DOC_ID
				   ,NVL(F_ORG_INFO(D1.BAI_ORG_CD, '1'), D1.BAI_ORG_CD) AS ORG_NM
				   ,D1.COPT_ORG_CD
			  FROM TBFAAAEA001M D1
                  ,TBFAAAEA002M D2
                  ,TBFAAAEA003M D3
                  ,TBFAAAEA009M D4				   
			 WHERE D1.USE_YN = 'Y'
               AND D1.COPT_ORG_CD = D2.COPT_ORG_CD(+)
			   AND D1.SYS_NM      = D2.SYS_NM(+)
			   AND D2.COPT_ORG_CD = D3.COPT_ORG_CD(+)
			   AND D2.SYS_NM      = D3.SYS_NM(+)
			   AND D2.UNT_SYS_NM  = D3.UNT_SYS_NM(+)
			   AND D1.COPT_ORG_CD = D4.COPT_ORG_CD(+)
			   AND D1.SYS_NM      = D4.SYS_NM(+)

   		<isNotEmpty property="strHirkOrgNm">
			   AND D1.COPT_OFI_CD = #strHirkOrgNm#
		</isNotEmpty>
					   
		<isNotEmpty property="strCoptOrgCd">
		   	   AND D1.BAI_ORG_CD = #strCoptOrgCd#
		</isNotEmpty>
		
		<isNotEmpty property="strSearchNm">
			   AND ( 1=2
		</isNotEmpty>			   
				
			<isEqual property="strSys" compareValue="1">
					OR D1.SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
					OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
				    OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
				    OR (SELECT COUNT(1) 
				          FROM TBFAAAEA004M
				    	 WHERE 1=1 
				    	   AND COPT_ORG_CD = D3.COPT_ORG_CD
				    	   AND SYS_NM      = D3.SYS_NM
				    	   AND UNT_SYS_NM  = D3.UNT_SYS_NM
				    	   AND TBL_ID      = D3.TBL_ID
				    	   AND COL_NM LIKE '%'||#strSearchNm#||'%') <![CDATA[ > ]]> 0 
			</isEqual>
							
		<isNotEmpty property="strSearchNm">
			       )
		</isNotEmpty>
		
		  GROUP BY  D1.COPT_ORG_CD
                   ,D1.BAI_ORG_CD 
		  		   ,D1.COPT_OFI_CD
		  		   ,D1.SYS_NM
		  		   ,D1.OP_DPT_NM
		  		   ,D1.OP_CHGR_NM
		  		   ,D1.OP_CHGR_CNIF_NM
		  		   ,D1.SYS_DES
		  		   ,D1.URL_AD
		  		   ,D4.FL_NM
		  		   ,D4.FL_EXT_NM
		  		   ,D4.FL_SZ_TXT
		  		   ,D4.DOC_ID
          ORDER BY  D1.COPT_OFI_CD
                   ,D1.BAI_ORG_CD
                   ,D1.SYS_NM 
	</select>
	
	<select id="FAAAEA001UDocselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT FL_NM||'.'||FL_EXT_NM||' ('||REPLACE(TO_CHAR(FL_SZ_TXT,'999,999'),' ','')||' bytes)' AS FL_INFO
			   ,DOC_ID
		  FROM TBFAAAEA009M
		 WHERE COPT_ORG_CD = #strCoptOrgCd#
		   AND SYS_NM = #strSysNm#
	  ORDER BY FL_NM
	</select>
	
	<select id="FAAAEA001UConselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT '['||D1.CON_ORG_NM||'] '||CON_INF_SYS_NM AS ORG_NM
				   ,D1.INN_EXTL_CON_DVSN_CD
				   ,D1.SNDRCV_DVSN_NM
			  FROM TBFAAAEA030M D1
   LEFT OUTER JOIN TBFAAAEA001M D2
				ON D2.COPT_ORG_CD = D1.COPT_ORG_CD
			   AND D2.SYS_NM = D1.SYS_NM
			 WHERE D2.BAI_ORG_CD = #strCoptOrgCd#
			   AND D1.SYS_NM = #strSysNm#
		  ORDER BY D1.COPT_ORG_CD
		  		   ,D1.SYS_NM
		  		   ,D1.SRNO
	</select>
	
	<select id="FAAAEA001UUntselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT D1.COPT_ORG_CD
				   ,D1.SYS_NM
				   ,D1.UNT_SYS_NM
				   ,D1.UNT_SYS_DES
				   ,CASE WHEN MAX(D2.TBL_NM) IS NOT NULL 
						 THEN MAX(D2.TBL_NM)||' 등 '||(
						 	SELECT COUNT(TBL_ID) 
							  FROM TBFAAAEA003M 
							 WHERE COPT_ORG_CD = D1.COPT_ORG_CD 
							   AND SYS_NM = D1.SYS_NM 
							   AND UNT_SYS_NM = D1.UNT_SYS_NM
						  GROUP BY SYS_NM, UNT_SYS_NM
						 )||'개 자료' 
						 ELSE '' END AS TBL_CNT
				   ,D1.CHR_DPT_NM||' '||D1.CHGR_NM||' ('||D1.CHGR_CNIF_NM||')' AS CHR_INFO
			  FROM TBFAAAEA002M D1
   LEFT OUTER JOIN TBFAAAEA003M D2
				ON D1.COPT_ORG_CD = D2.COPT_ORG_CD
			   AND D1.SYS_NM = D2.SYS_NM
			   AND D1.UNT_SYS_NM = D2.UNT_SYS_NM
			 WHERE D1.COPT_ORG_CD = #strCoptOrgCd#
			   AND D1.SYS_NM = #strSysNm#
		  GROUP BY D1.COPT_ORG_CD
				   ,D1.SYS_NM
				   ,D1.UNT_SYS_NM
				   ,D1.UNT_SYS_DES
				   ,D1.CHR_DPT_NM
				   ,D1.CHGR_NM
				   ,D1.CHGR_CNIF_NM
		  ORDER BY D1.UNT_SYS_NM
	</select>
	
	<select id="FAAAEA001USubselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT '['|| NVL(F_ORG_INFO(D6.COPT_OFI_CD, '1'), D6.COPT_OFI_CD) ||'] '|| NVL(F_ORG_INFO(D6.BAI_ORG_CD, '1'), D6.BAI_ORG_CD) AS COPT_ORG_NM
				   ,D2.SYS_NM
				   ,'('||D2.UNT_SYS_NM||') '||D3.TBL_NM AS UNT_TBL
				   ,CASE WHEN D7.COLS IS NOT NULL THEN D7.COLS||'...' ELSE D7.COLS END AS COLS
			       ,CASE WHEN D2.CHR_DPT_NM IS NOT NULL 
				     AND D2.CHGR_NM IS NOT NULL 
				     AND D2.CHGR_CNIF_NM IS NOT NULL 
				    THEN D2.CHR_DPT_NM||' '||D2.CHGR_NM||' ('||D2.CHGR_CNIF_NM||')' 
				    ELSE '' END AS OP_INFO
				   ,D2.UNT_SYS_NM
				   ,D3.TBL_ID
				   ,NVL(F_ORG_INFO(D6.BAI_ORG_CD, '1'), D6.BAI_ORG_CD) AS ORG_NM
				   ,D6.URL_AD
				   ,D2.UNT_SYS_DES
				   ,D6.COPT_ORG_CD
			  FROM TBFAAAEA002M D2
   LEFT OUTER JOIN TBFAAAEA003M D3
				ON D2.COPT_ORG_CD = D3.COPT_ORG_CD
			   AND D2.SYS_NM = D3.SYS_NM
			   AND D2.UNT_SYS_NM = D3.UNT_SYS_NM
   LEFT OUTER JOIN TBFAAAEA004M D4
				ON D2.COPT_ORG_CD = D4.COPT_ORG_CD
			   AND D2.SYS_NM = D4.SYS_NM
			   AND D2.UNT_SYS_NM = D4.UNT_SYS_NM
    		   AND D4.TBL_ID = D3.TBL_ID
   LEFT OUTER JOIN TBFAAAEA005M D5
   				ON D2.COPT_ORG_CD = D5.COPT_ORG_CD
   			   AND D2.SYS_NM = D5.SYS_NM
   			   AND D2.UNT_SYS_NM = D5.UNT_SYS_NM
   LEFT OUTER JOIN TBFAAAEA001M D6
   				ON D2.COPT_ORG_CD = D6.COPT_ORG_CD
   			   AND D2.SYS_NM = D6.SYS_NM
   LEFT OUTER JOIN (
		    	SELECT AGGR_CONCAT(COL_NM,', ') AS COLS, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
		          FROM (
		    			 SELECT ROW_NUMBER() OVER (PARTITION BY A.TBL_ID ORDER BY A.COL_NM DESC) RN, TRIM(A.COL_NM) AS COL_NM, A.TBL_ID, A.UNT_SYS_NM, A.SYS_NM, A.COPT_ORG_CD
		                   FROM TBFAAAEA004M A
                               ,TBFAAAEA001M B
                          WHERE A.COPT_ORG_CD = B.COPT_ORG_CD 
                          
				   		<isNotEmpty property="strCoptOrgCd">
							AND B.BAI_ORG_CD = #strCoptOrgCd#
						</isNotEmpty>
							
				   		<isNotEmpty property="strHirkOrgNm">
							AND B.COPT_OFI_CD = #strHirkOrgNm#
						</isNotEmpty>
						
		               ORDER BY A.COL_NM DESC
		                ) M
	<![CDATA[ WHERE M.RN < 11  ]]>
		      GROUP BY COPT_ORG_CD, SYS_NM, UNT_SYS_NM, TBL_ID
		          ) D7
		       ON D7.TBL_ID = D4.TBL_ID
		      AND D7.UNT_SYS_NM = D4.UNT_SYS_NM
		      AND D7.SYS_NM = D4.SYS_NM
		      AND D7.COPT_ORG_CD = D4.COPT_ORG_CD
   			WHERE D6.USE_YN = 'Y'
   			
   		<isNotEmpty property="strCoptOrgCd">
				AND D6.BAI_ORG_CD = #strCoptOrgCd#
		</isNotEmpty>
			
   		<isNotEmpty property="strHirkOrgNm">
				AND D6.COPT_OFI_CD = #strHirkOrgNm#
		</isNotEmpty>
		
		<isNotEmpty property="strSearchNm">
			   AND ( 1=2
		</isNotEmpty>			   
				
			<isEqual property="strSys" compareValue="1">
					OR D6.SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strUnt" compareValue="1">
					OR D2.UNT_SYS_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strTbl" compareValue="1">
				    OR D3.TBL_NM LIKE '%'||#strSearchNm#||'%'
			</isEqual>
			
			<isEqual property="strCol" compareValue="1">
				    OR (SELECT COUNT(1) 
				          FROM TBFAAAEA004M
				    	 WHERE 1=1 
				    	   AND COPT_ORG_CD = D3.COPT_ORG_CD
				    	   AND SYS_NM      = D3.SYS_NM
				    	   AND UNT_SYS_NM  = D3.UNT_SYS_NM
				    	   AND TBL_ID      = D3.TBL_ID
				    	   AND COL_NM LIKE '%'||#strSearchNm#||'%') <![CDATA[ > ]]> 0 
			</isEqual>
							
		<isNotEmpty property="strSearchNm">
			       )
		</isNotEmpty>
		
		  GROUP BY D6.COPT_ORG_CD
		  		   ,D6.BAI_ORG_CD
				   ,D2.SYS_NM
				   ,D2.UNT_SYS_NM
				   ,D2.CHR_DPT_NM
				   ,D2.CHGR_NM
				   ,D2.CHGR_CNIF_NM
				   ,D6.COPT_OFI_CD
				   ,D3.TBL_NM
				   ,D3.TBL_ID
				   ,D7.COLS			   
				   ,D6.URL_AD
				   ,D2.UNT_SYS_DES
		  ORDER BY D6.COPT_ORG_CD
				   ,D2.SYS_NM
				   ,D2.UNT_SYS_NM
	</select>
	
	<select id="FAAAEA001USysDtlselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT '['||F_ORG_INFO(COPT_OFI_CD,1)||'] '||SYS_NM||' ('||URL_AD||')' AS COPT_ORG_NM
			   ,SYS_DES
			   ,CASE WHEN OP_DPT_NM IS NOT NULL 
				      AND OP_CHGR_NM IS NOT NULL 
					  AND OP_CHGR_CNIF_NM IS NOT NULL 
				THEN OP_DPT_NM||' '||OP_CHGR_NM||' ('||OP_CHGR_CNIF_NM||')' 
				ELSE '' END AS OP_INFO
			   ,COPT_ORG_NM AS ORG_NM
			   ,SYS_NM
			   ,COPT_ORG_CD
		  FROM TBFAAAEA001M
		 WHERE COPT_ORG_CD = #strCoptOrgCd#
		   AND SYS_NM = #strSysNm#
	</select>
	
	<select id="FAAAEA001UCoptOfiselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT DISTINCT COPT_OFI_CD,
			   F_ORG_INFO(COPT_OFI_CD,1) AS COPT_OFI_NM
		  FROM TBFAAAEA001M
		 WHERE USE_YN = 'Y'
		 <isNotEmpty property="strSearchStr">
		   AND F_ORG_INFO(COPT_OFI_CD,1) LIKE '%'||#strSearchStr#||'%'
		 </isNotEmpty>
	  ORDER BY COPT_OFI_CD
	</select>


	<!-- 관련법규 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001ELawRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA005M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>

	<!-- 컬럼현황 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001EColRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA004M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>

	<!-- 테이블현황 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001ETblRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA003M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>

	<!-- 업무 or 단위정보시스템 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001EUntSysRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA002M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>
	
	<!-- 연계현황 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001EConRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA030M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>	
	
	<!-- 시스템현황 삭제 - 2015.08.25 yyh -->
	<update id="FAAAEA001ESysRealDelete" parameterClass="paramMap">
          DELETE 
            FROM TBFAAAEA001M                   
           WHERE COPT_ORG_CD  = #COPT_ORG_CD#       
             AND SYS_NM       = #SYS_NM#    
	</update>	
	
	<!-- 소관청 select box 용 조회- 2018.09.20 yyh -->	
	<select id="FAAAEA001UCoptOfiSelectBoxSelect" parameterClass="paramMap" resultClass="resultMap">
		SELECT DISTINCT COPT_OFI_CD                          AS ORG_CD
              ,NVL( F_ORG_INFO(COPT_OFI_CD,1), COPT_OFI_CD ) AS ORG_NM
		  FROM TBFAAAEA001M
		 WHERE 1=1
         ORDER BY 2
	</select>		
	
	<!-- 시스템(단위업무) 엑셀자료 조회 -->
	<select id="FAAAEA001USysExcelSelect" parameterClass="paramMap" resultClass="resultMap">
	    SELECT A.*
	      FROM (
	            SELECT COPT_OFI_CD                 AS COPT_OFI_CD
	                  ,COPT_ORG_NM                 AS COPT_ORG_NM
	                  ,SYS_NM                      AS SYS_NM
	                  ,SYS_DES                     AS SYS_DES
	                  ,URL_AD                      AS URL_AD                  
	                  ,SYS_BGN_DT                  AS SYS_BGN_DT
	                  ,OP_DPT_NM                   AS OP_DPT_NM
	                  ,OP_CHGR_NM                  AS OP_CHGR_NM
	                  ,OP_CHGR_CNIF_NM             AS OP_CHGR_CNIF_NM
                      ,F_ORG_INFO(BAI_ORG_CD, '1') AS BAI_ORG_NM
	                  ,SYS_NM                      AS SNO1
	                  ,'1'                         AS SNO2
	                  ,ROWNUM                      AS SNO3
	              FROM TBFAAAEA001M
	             WHERE COPT_ORG_CD = #strCoptOrgCd#
	               AND SYS_NM      = #strSysNm#
	          UNION ALL
	            SELECT ''                          AS COPT_OFI_CD
	                  ,'[단위시스템]'               AS COPT_ORG_NM
	                  ,UNT_SYS_NM                  AS SYS_NM
	                  ,UNT_SYS_DES                 AS SYS_DES
	                  ,DBMS_KND_NM                 AS URL_AD                      
	                  ,UNT_SYS_BGN_DT              AS SYS_BGN_DT
	                  ,CHR_DPT_NM                  AS OP_DPT_NM
	                  ,CHGR_NM                     AS OP_CHGR_NM
	                  ,CHGR_CNIF_NM                AS OP_CHGR_CNIF_NM
                      ,''                          AS BAI_ORG_CD                     
	                  ,SYS_NM                      AS SNO1
	                  ,'1'                         AS SNO2
	                  ,ROWNUM                      AS SNO3
	              FROM TBFAAAEA002M
	             WHERE COPT_ORG_CD = #strCoptOrgCd#
	               AND SYS_NM      = #strSysNm#
	        ) A
	     ORDER BY A.SNO1
	             ,A.SNO2
	             ,A.SNO3 	
	</select>	
	
	<!-- 테이블(컬럼) 엑셀자료 조회 -->
	<select id="FAAAEA001UTblExcelSelect" parameterClass="paramMap" resultClass="resultMap">
	    SELECT A.*
	      FROM (
	            SELECT SYS_NM            AS SYS_NM
	                  ,UNT_SYS_NM        AS UNT_SYS_NM
	                  ,TBL_ID            AS TBL_ID
	                  ,TBL_NM            AS TBL_NM
	                  ,TBL_DES           AS TBL_DES
                      ,TO_CHAR(COL_CNT)  AS COL_CNT
                      ,TO_CHAR(DATA_NOC) AS DATA_NOC	                  
	                  ,TBL_ID            AS SNO1
	                  ,'1'               AS SNO2
	                  ,ROWNUM            AS SNO3
	              FROM TBFAAAEA003M
	             WHERE COPT_ORG_CD = #strCoptOrgCd#
	               AND SYS_NM      = #strSysNm#
	               
			<isNotNull property="strUntSysNm">	               
				<isNotEmpty property="strUntSysNm">		               
	               AND UNT_SYS_NM  = #strUntSysNm#
	            </isNotEmpty>
	        </isNotNull>
	               
			<isNotNull property="strTblNm">	               
				<isNotEmpty property="strTblNm">			  
			       AND TBL_NM       LIKE '%' || #strTblNm# || '%' 
				</isNotEmpty>
			</isNotNull>
			
	         UNION ALL
	         
	            SELECT ''                AS SYS_NM
	                  ,'[컬럼]'           AS UNT_SYS_NM
	                  ,T1.COL_ID         AS TBL_ID
	                  ,T1.COL_NM         AS TBL_NM
	                  ,T1.COL_DES        AS TBL_DES
                      ,''                AS COL_CNT
                      ,''                AS DATA_NOC	                  
	                  ,T1.TBL_ID         AS SNO1
	                  ,'2'               AS SNO2
	                  ,ROWNUM            AS SNO3
	              FROM TBFAAAEA004M T1
                      ,TBFAAAEA003M T2
	             WHERE T1.COPT_ORG_CD = T2.COPT_ORG_CD
                   AND T1.SYS_NM      = T2.SYS_NM
                   AND T1.UNT_SYS_NM  = T2.UNT_SYS_NM
                   AND T1.TBL_ID      = T2.TBL_ID                      
	               AND T1.COPT_ORG_CD = #strCoptOrgCd#
	               AND T1.SYS_NM      = #strSysNm#
	               
			<isNotNull property="strUntSysNm">	               
				<isNotEmpty property="strUntSysNm">		               
	               AND T1.UNT_SYS_NM  = #strUntSysNm#
	            </isNotEmpty>
			</isNotNull>	            
	               
			<isNotNull property="strTblNm">	               
				<isNotEmpty property="strTblNm">			  
			       AND T2.TBL_NM       LIKE '%' || #strTblNm# || '%' 
				</isNotEmpty>
			</isNotNull>
				
	           ) A
	     ORDER BY A.SNO1
	             ,A.SNO2
	             ,A.SNO3 	
	</select>		
</sqlMap> 
