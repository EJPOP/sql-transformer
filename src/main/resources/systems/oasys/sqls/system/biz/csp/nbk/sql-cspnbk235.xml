<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="csp/nbk/235">
	
	<select id="CSPNBK235PInvListSelect" parameterClass="paramMap" resultClass="resultMap">
	<![CDATA[
		SELECT	/* CSPNBK235PInvListSelect */
				D1.MOUI_NO
				, D1.INV_DEAL_DT
				, D1.INV_DEAL_SLN
				, TO_CHAR(D1.PET_DH, 'YYYYMMDDHH24MISS') AS PET_DH
				, DECODE( D1.DEPTS_PMT_DVSN_CD, 'C', D1.INV_AM, 0) AS C_AM
				, DECODE( D1.DEPTS_PMT_DVSN_CD, 'D', D1.INV_AM, 0) AS D_AM
				, D1.DEAL_AF_LEDG_BL
				, D1.RMK
		FROM	TBCSPNBK102L D1
		WHERE	D1.INV_DEAL_DT BETWEEN #invDealBeginDt# AND #invDealEndDt#
		AND		D1.MOUI_NO = #mouiNo#
		AND		D1.CNL_YN = 'N'
		ORDER BY D1.PET_DH DESC
	]]>
	</select>
	
	<select id="CSPNBK235PInvCurBlSelect" parameterClass="paramMap" resultClass="String">
	<![CDATA[
		SELECT	/* CSPNBK235PInvCurBlSelect */
				D1.INV_BL
		FROM	TBCSPNBK101M D1
		WHERE	D1.MOUI_NO = #mouiNo#
	]]>
	</select>
	
	<select id="CSPNBK235PLendListSelect" parameterClass="paramMap" resultClass="resultMap">
	<![CDATA[
		SELECT	/* CSPNBK235PLendListSelect */
				D1.LEND_KND_CD
				, D1.MOUI_NO
				, D1.LEND_DEAL_DT
				, D1.LEND_DEAL_DT_SLN
				, TO_CHAR(D1.PET_DH, 'YYYYMMDDHH24MISS') AS PET_DH
				, DECODE( D1.DEPTS_PMT_DVSN_CD, 'D', D1.DEAL_PRN, 0) AS D_AM
				, DECODE( D1.DEPTS_PMT_DVSN_CD, 'C', D1.DEAL_PRN, 0) AS C_AM
				, D1.INT_AM
				, D1.LEND_BL
				, D1.LAG_WDL_RMK
		FROM	TBCSPNBK205L D1
		WHERE	D1.LEND_KND_CD = #lendKndCd#
		AND		D1.MOUI_NO = #mouiNo#
		AND		D1.CNL_YN = 'N'
		AND		D1.LEND_DEAL_DT BETWEEN #lendDealBeginDt# AND #lendDealEndDt#
		ORDER BY D1.PET_DH DESC
	]]>
	</select>
	
	<select id="CSPNBK235PLendCurBlSelect" parameterClass="paramMap" resultClass="String">
	<![CDATA[
		SELECT	/* CSPNBK235PInvCurBlSelect */
				D1.LEND_BL
		FROM	TBCSPNBK202M D1
		WHERE	D1.LEND_KND_CD = #lendKndCd#
		AND		D1.MOUI_NO = #mouiNo#
	]]>
	</select>
</sqlMap>