<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/dcp/bat">
 	
	<resultMap class="java.util.HashMap" id="mainMap">
		<result property="APP_ORGAN_CODE" 	column="APP_ORGAN_CODE"			jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="PETI_NO" 			column="PETI_NO" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_NO" 		column="CIVIL_NO" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="PETI_GUBUN" 		column="PETI_GUBUN" 			jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="USER_NAME" 		column="USER_NAME" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="SUER_SN" 			column="SUER_SN" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="ZIP_CODE" 		column="ZIP_CODE" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="ADDRESS" 			column="ADDRESS" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="EMAIL" 			column="EMAIL" 					jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="HP" 				column="HP" 					jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="TEL" 				column="TEL" 					jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_TITLE" 		column="APP_TITLE" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_CONTENTS" 	column="APP_CONTENTS" 			jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="OPEN_YN" 			column="OPEN_YN" 				jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_REG_DATE" 	column="APP_REG_DATE" 			jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_CONTENTS_ATTACH_YN" 		column="APP_CONTENTS_ATTACH_YN"		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_SIZE" 		column="APP_ATTACH_FILE_SIZE" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_PATH1" 		column="APP_ATTACH_FILE_PATH1" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_PATH2" 		column="APP_ATTACH_FILE_PATH2" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_PATH3" 		column="APP_ATTACH_FILE_PATH3" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_PATH4" 		column="APP_ATTACH_FILE_PATH4" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="APP_ATTACH_FILE_PATH5" 		column="APP_ATTACH_FILE_PATH5" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="ANSWER_TYPE" 			column="ANSWER_TYPE" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_REL_NAME" 		column="CIVIL_REL_NAME" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_REL_TEL_NO" 	column="CIVIL_REL_TEL_NO" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_REL_ZIPCODE" 	column="CIVIL_REL_ZIPCODE" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_REL_ADDR" 		column="CIVIL_REL_ADDR" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CANCEL_STATUS" 		column="CANCEL_STATUS" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CANCEL_CONTENTS" 		column="CANCEL_CONTENTS" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CANCEL_REG_DATE" 		column="CANCEL_REG_DATE" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="PCD_CONTENTS_ATTACH_YN"		column="PCD_CONTENTS_ATTACH_YN" 	jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="PCD_ATTACH_FILE_SIZE" 		column="PCD_ATTACH_FILE_SIZE" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="CIVIL_GIST" 			column="CIVIL_GIST" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="INTERFACE_KEY" 		column="INTERFACE_KEY" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
		<result property="WRITE_TIME" 			column="WRITE_TIME" 		jdbcType="VARCHAR2" javaType="java.lang.String" />
	</resultMap>
 	<select id="CSPDCPBATCHSelectMain" parameterClass="paramMap" resultMap="mainMap">
		<![CDATA[
			SELECT 	 APP_ORGAN_CODE						/* 신문고최초민원신청GCC기관코드 */
					,PETI_NO							/* 민원신청번호 SMG_CVPT_APL_NO */ 
					,CIVIL_NO							/* 민원접수번호 SMG_CVPT_ACP_NO */
					,PETI_GUBUN
					,USER_NAME							/* 민원인명 */
					,SUBSTR(USER_SN,0,6) AS SUER_SN		/* 생년월일 */
					,ZIP_CODE
					,ADDRESS
					,EMAIL
					,HP
					,TEL
					,APP_TITLE
					,APP_CONTENTS
					,OPEN_YN							/* 공개여부 */
					,APP_REG_DATE						/* 민원신청일  FRT_REGI_DH */
					,APP_CONTENTS_ATTACH_YN 			/* 첨부파일 여부 */
					,APP_ATTACH_FILE_SIZE
					,APP_ATTACH_FILE_PATH1
					,APP_ATTACH_FILE_PATH2
					,APP_ATTACH_FILE_PATH3
					,APP_ATTACH_FILE_PATH4
					,APP_ATTACH_FILE_PATH5
					,ANSWER_TYPE						/* 결과통보방법코드 RSLT_NTF_WAY_CD */
					,CIVIL_REL_NAME
					,CIVIL_REL_TEL_NO
					,CIVIL_REL_ZIPCODE
					,CIVIL_REL_ADDR
					,CANCEL_STATUS 						/* 민원취하여부 Y:취하  N:미취하 */
					,CANCEL_CONTENTS
					,CANCEL_REG_DATE
					,PCD_CONTENTS_ATTACH_YN
					,PCD_ATTACH_FILE_SIZE
					,CIVIL_GIST							/* 민원요지 */
					,INTERFACE_KEY
					,WRITE_TIME
					,REC_SEQ
					,PETI_GUBUN							/* 신문고최초처리상태코드 SMG_FRT_HNDL_STA_CD */				
					,TO_DATE(ORGAN_REG_DATE,'yyyy/mm/dd HH24:MI:SS') AS ORGAN_REG_DATE /* 최초신청 기관 접수일 */
					,TO_CHAR(PETI_END,'yyyyMMdd') AS PETI_END	/* 국민신문고 처리기한 */
					,IC_DMGE_APLCNT_WRKPLC
			  FROM 	T_IC_TARGET_SRC_INTERFACE
			 WHERE 	PETI_GUBUN IN ('161','163', '171', '172')
			   AND	SEND_YN = 'L'
			   AND	BATCH_STATUS ='0000'
	   ]]>
	</select>
	
	<select id="CSPDCPBATCHCVPTACPNO" parameterClass="paramMap"	resultClass="resultMap">
		<![CDATA[       
			SELECT LPAD(NVL(MAX(TO_NUMBER(CVPT_ACP_NO))+1, 1),5,'0') AS CVPT_ACP_NO
			  FROM TBCSPDCP101M 
			 WHERE REQ_DVSN_CD = '1' AND ACP_YR = SUBSTR(#WRITE_TIME#, 0,4)
		]]>
	</select>
	
	<insert id="CSPDCPBATCHTBCSPDCP101MInsert" parameterClass="paramMap">
        <![CDATA[       
		INSERT INTO TBCSPDCP101M
		(	
			 REQ_DVSN_CD
			,ACP_YR
			,CVPT_ACP_NO
			,CVPT_KND_CD
			,REQR_KND_CD
			,ACP_RUT_CD
			,SMG_FRT_CVPT_APL_GCC_ORG_CD
			,SMG_CVPT_APL_NO
			,SMG_CVPT_ACP_NO
			,SMG_FRT_HNDL_STA_CD
			,CVPTR_NM
			,BTDT
			,ZCD
			,AD
			,EML_ID
			,EML_DMI_NM
			,HPN
			,TNB
			,TIT_NM
			,OPEN_YN
			,SMG_HNDL_RSLT_ATT_YN
			,RSLT_NTF_WAY_CD
			,CVPT_HNDL_STA_CD
			,FRT_USR_ID
			,FNL_USR_ID
			,FNL_DEAL_DPT_CD
			,FNL_MNU_ID
			,FRT_REGI_DH
			,FNL_MDF_DH
			,SMG_CAT_HST_SRNO
			,ACP_DH
			,HNDL_DDLN_DT
		)
		VALUES
		(
			 '1'							/* 청구구분코드 */
			,SUBSTR(#WRITE_TIME#, 0,4)	/* 접수년도 */
			,#CVPT_ACP_NO#
			,'카'	/* 민원종류코드  (일반민원 기본 세팅) */
			,'1'	/* 청구인종류코드 */
			,'8'	/* 접수경로코드 */
			,#APP_ORGAN_CODE#	/* 신문고최초민원신청GCC기관코드 */
			,#PETI_NO#	/* 민원신청번호 SMG_CVPT_APL_NO */ 
			,#CIVIL_NO#	/* 민원접수번호 SMG_CVPT_ACP_NO */
			,#PETI_GUBUN#
			,#USER_NAME#	/* 민원인명 */
			,SUBSTR(#USER_SN#,0,6)	/* 생년월일 */
			,#ZIP_CODE#
			,#ADDRESS#
			,DECODE(#EMAIL#, NULL, '', SUBSTR(#EMAIL#, 0, INSTR(#EMAIL#, '@') -1))
			,DECODE(#EMAIL#, NULL, '', SUBSTR(#EMAIL#, INSTR(#EMAIL#, '@') + 1, length(#EMAIL#)))
			,#HP#
			,#TEL#
			,#APP_TITLE#
			,#OPEN_YN#	/* 공개여부 */
			,#APP_CONTENTS_ATTACH_YN# /* 첨부파일 여부 */
			,#ANSWER_TYPE#	/* 결과통보방법코드 RSLT_NTF_WAY_CD */
			,'10'
			,'batch'
			,'batch'
			,'batch'
			,'batch'
			,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
			,#APP_REG_DATE#	/* 민원신청일  FNL_MDF_DH */
			,#REC_SEQ#
			,#ORGAN_REG_DATE#
			,#PETI_END#
		)
        ]]>
	</insert>
	
	<insert id="CSPDCPBATCHTBCSPDCP102MInsert" parameterClass="paramMap">
        <![CDATA[       
			INSERT INTO TBCSPDCP102M
			(
				 REQ_DVSN_CD
				,ACP_YR
				,CVPT_ACP_NO
				,CVPT_TXT
				,CVPT_SBT
				,FRT_USR_ID
				,FNL_USR_ID
				,FNL_DEAL_DPT_CD
				,FNL_MNU_ID
				,FRT_REGI_DH
				,FNL_MDF_DH
			)
			VALUES
			(
				 '1'							/* 청구구분코드 */
				,SUBSTR(#WRITE_TIME#, 0,4)	/* 접수년도 */
				,#CVPT_ACP_NO#
				,#APP_CONTENTS#
				,#CIVIL_GIST#
				,'batch'
				,'batch'
				,'batch'
				,'batch'
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
			)
        ]]>
	</insert>
	
	<insert id="CSPDCPBATCHTBCSPDCP103MInsert" parameterClass="paramMap">
        <![CDATA[       
			/* 피청구인 기본 */
			INSERT INTO TBCSPDCP103M
			(
				 REQ_DVSN_CD
				,ACP_YR
				,CVPT_ACP_NO
				,CLM_NM
				,TNB
				,ZCD
				,AD
				,WRK_PLAC_NM                      /*2022-10-06 이해창 요청에 따라 근무처 추가*/
				,FRT_USR_ID
				,FNL_USR_ID
				,FNL_DEAL_DPT_CD
				,FNL_MNU_ID
				,FRT_REGI_DH
				,FNL_MDF_DH
			)
			VALUES
			(
				 '1'							/* 청구구분코드 */
				,SUBSTR(#WRITE_TIME#, 0,4)	/* 접수년도 */
				,#CVPT_ACP_NO#
				,#CIVIL_REL_NAME#
				,#CIVIL_REL_TEL_NO#
				,#CIVIL_REL_ZIPCODE#
				,#CIVIL_REL_ADDR#
				,#IC_DMGE_APLCNT_WRKPLC#
				,'batch'
				,'batch'
				,'batch'
				,'batch'
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
			)
        ]]>
	</insert>
	
	<insert id="CSPDCPBATCHTBCSPDCP106LInsert" parameterClass="paramMap">
        <![CDATA[       
			INSERT INTO TBCSPDCP106L
			(
				 REQ_DVSN_CD
				,ACP_YR
				,CVPT_ACP_NO
				,SRNO
				,ATT_FL_URL_AD
				,FRT_USR_ID
				,FNL_USR_ID
				,FNL_DEAL_DPT_CD
				,FNL_MNU_ID
				,FRT_REGI_DH
				,FNL_MDF_DH
			)
			VALUES
			(
				 '1'							/* 청구구분코드 */
				,SUBSTR(#WRITE_TIME#, 0,4)	/* 접수년도 */
				,#CVPT_ACP_NO# /* 민원접수번호 */
				,#FILE_SEQ#
				,#FILE_URL#
				,'batch'
				,'batch'
				,'batch'
				,'batch'
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
				,#APP_REG_DATE#	/* 민원신청일  FRT_REGI_DH */
			)
        ]]>
	</insert>
	
	<update id="CSPDCPBATCH_T_IC_TARGET_SRC_INTERFACEUpdate" parameterClass="paramMap">
		UPDATE T_IC_TARGET_SRC_INTERFACE
		SET	BATCH_STATUS = '9999'
		WHERE INTERFACE_KEY = #INTERFACE_KEY#
	</update>
	
	<select id="CSPDCPBATCHPRIMARYKEYSelect" parameterClass="paramMap"	resultClass="resultMap">
		<![CDATA[
			SELECT 	REQ_DVSN_CD, 
					ACP_YR,
					CVPT_ACP_NO 
			FROM TBCSPDCP101M 
			WHERE SMG_CVPT_APL_NO = #PETI_NO#
		]]>
	</select>
	
	<update id="CSPDCPBATCHTBCSPDCP101M171Update" parameterClass="paramMap">
		UPDATE TBCSPDCP101M
		SET	FNL_MDF_DH = #WRITE_TIME#
		<dynamic>
			<isNotNull prepend="," property="USER_SN">
			BTDT = SUBSTR(#USER_SN#,0,6)
			</isNotNull>
			
			<isNotNull prepend="," property="USER_NAME">
			CVPTR_NM = #USER_NAME#
			</isNotNull>
			
			<isNotNull prepend="," property="ZIP_CODE">
			ZCD = #ZIP_CODE#
			</isNotNull>
			
			<isNotNull prepend="," property="ADDRESS">
			AD = #ADDRESS#
			</isNotNull>
			
			<isNotNull prepend="," property="EMAIL">
			EML_ID = SUBSTR(#EMAIL#, 0, INSTR(#EMAIL#, '@'))
			,EML_DMI_NM = SUBSTR(#EMAIL#, INSTR(#EMAIL#, '@') + 1, length(#EMAIL#))
			</isNotNull>
			
			<isNotNull prepend="," property="HP">
			HPN = #HP#
			</isNotNull>
			
			<isNotNull prepend="," property="TEL">
			TNB = #TEL#
			</isNotNull>
			
			<isNotNull prepend="," property="APP_TITLE">
			TIT_NM = #APP_TITLE#
			</isNotNull>
			
			<isNotNull prepend="," property= "OPEN_YN">
			OPEN_YN = #OPEN_YN#
			</isNotNull>
			
			<isNotNull prepend="," property="ANSWER_TYPE">
			RSLT_NTF_WAY_CD = #ANSWER_TYPE#
			</isNotNull>
			
			<isNotNull prepend="," property="PCD_CONTENTS_ATTACH_YN">
			SMG_HNDL_RSLT_ATT_YN = #PCD_CONTENTS_ATTACH_YN#
			</isNotNull>
			
		WHERE SMG_CVPT_APL_NO = #PETI_NO#
		AND	REQ_DVSN_CD = '1'
		</dynamic>
	</update>

	<update id="CSPDCPBATCHTBCSPDCP102M171Update" parameterClass="paramMap">
		UPDATE TBCSPDCP102M
		SET FNL_MDF_DH = #WRITE_TIME#
			,CVPT_TXT = #APP_CONTENTS#
		WHERE REQ_DVSN_CD = #REQ_DVSN_CD#
		AND	ACP_YR = #ACP_YR#
		AND CVPT_ACP_NO = #CVPT_ACP_NO#
	</update>
	
	<update id="CSPDCPBATCHTBCSPDCP103M171Update" parameterClass="paramMap">
		UPDATE TBCSPDCP103M
		SET FNL_MDF_DH = #WRITE_TIME#
			,CLM_NM = #CIVIL_REL_NAME#
			,ZCD = #CIVIL_REL_ZIPCODE#
			,TNB = #CIVIL_REL_TEL_NO#
			,AD = #CIVIL_REL_ADDR#
		WHERE REQ_DVSN_CD = #REQ_DVSN_CD#
		AND	ACP_YR = #ACP_YR#
		AND CVPT_ACP_NO = #CVPT_ACP_NO#
	</update>
	
	<update id="CSPDCPBATCHTBCSPDCP101M173Update" parameterClass="paramMap">
		UPDATE TBCSPDCP101M
		SET	FNL_MDF_DH = #WRITE_TIME#
			,RSLT_NTF_WAY_CD = #ANSWER_TYPE#
			,SMG_HNDL_RSLT_ATT_YN = #PCD_CONTENTS_ATTACH_YN#
			,CVPT_WDW_RSN = #CANCEL_CONTENTS#
			,CVPT_WDW_DH = SYSDATE
			,CVPT_HNDL_STA_CD = '70'
		WHERE SMG_CVPT_APL_NO = #PETI_NO#
		AND	REQ_DVSN_CD = '1'
	</update>
	
	
	<delete id="CSPDCPBATCHTBCSPDCP105L173Delete" parameterClass="paramMap">
		<![CDATA[
			DELETE
			FROM	TBCSPDCP105L A
			WHERE	(A.REQ_DVSN_CD, A.ACP_YR, A.CVPT_ACP_NO) IN (	SELECT	Z.REQ_DVSN_CD
																			,Z.ACP_YR
																			,Z.CVPT_ACP_NO 
																	FROM	TBCSPDCP101M Z
																	WHERE	Z.REQ_DVSN_CD ='1'
																	AND		Z.SMG_CVPT_APL_NO = #PETI_NO#
																)
		]]>
	</delete>
	
	<delete id="CSPDCPBATCHTBCSPDCP105L173SucDelete" parameterClass="paramMap">
		<![CDATA[
			DELETE
			FROM	TBCSPDCP105L A
			WHERE	(A.SUC_REQ_DVSN_CD, A.SUC_ACP_YR, A.SUC_CVPT_ACP_NO) IN (	SELECT	Z.REQ_DVSN_CD
																						,Z.ACP_YR
																						,Z.CVPT_ACP_NO 
																				FROM	TBCSPDCP101M Z
																				WHERE	Z.REQ_DVSN_CD ='1'
																				AND		Z.SMG_CVPT_APL_NO = #PETI_NO#
																			)
		]]>
	</delete>
	
	<update id="CSPDCPBATCHTBCSPDCP103M173Update" parameterClass="paramMap">
		UPDATE TBCSPDCP103M
		SET FNL_MDF_DH = #WRITE_TIME#
			,CLM_NM = #CIVIL_REL_NAME#
			,ZCD = #CIVIL_REL_ZIPCODE#
			,TNB = #CIVIL_REL_TEL_NO#
			,AD = #CIVIL_REL_ADDR#
		WHERE REQ_DVSN_CD = #REQ_DVSN_CD#
		AND	ACP_YR = #ACP_YR#
		AND CVPT_ACP_NO = #CVPT_ACP_NO#
	</update>
 	
	<update id="CSPDCPBATCHStatusUpdate" parameterClass="paramMap">
		UPDATE T_IC_TARGET_SRC_INTERFACE
		SET	BATCH_STATUS = '8888'
		    ,BATCH_RMK = #batchRmk#
		WHERE INTERFACE_KEY = #INTERFACE_KEY#
	</update>
	
	<select id="CSPDCPBATCHCodeCount" parameterClass="paramMap"	resultClass="int">
		<![CDATA[       
			SELECT COUNT(*) FROM TBCSPDCP101M WHERE SMG_CVPT_APL_NO = #PETI_NO#
		]]>
	</select>
	
	<insert id="CSPDCPBATCH_T_IC_TARGET_SRC_INTERFACE_WDW_INSERT" parameterClass="paramMap">
		<![CDATA[
			INSERT INTO	T_IC_TARGET_SRC_INTERFACE
						(	INTERFACE_KEY
							,APP_ORGAN_CODE		/*최초 민원 신청 기관코드(GCC)*/
							,PETI_NO			/*민원신청번호*/
							,REC_SEQ			/*분류이력일련번호*/
							,CIVIL_NO			/*민원접수번호*/
							,PETI_GUBUN			/*민원구분 (500고정,담당자부서지정) */
							,CANCEL_STATUS		/*민원취하여부(Default N)*/
							,PCD_DEPT			/*GCC 부서코드 (접수부서코드)*/
							,PCD_DEPT_NM		/*GCC 부서명 (접수부서명)*/
							,PCD_DUTY_ID		/*접수자명*/
							,PCD_EMAIL			/*접수 이메일 (대표이메일 사용, 감청국, 센터 로 분류)*/
							,PCD_TEL			/*접수자 전화번호 (대표전화 사용: 감청국, 센터로 분류)*/
							,PCD_CONTENTS		/*민원 처리결과 내용*/
							,PCD_REG_DATE		/*처리일자*/
							,PCD_CONTENTS_ATTACH_YN	/*민원처리결과첨부여부*/
							,PCD_GUBUN			/*신문고민원 처리구분코드*/
							,PCD_ORGAN_CODE 	/*실처리기관코드 (감사원 GCC 코드로 고정)*/
							,SRCORGCD			/*소스기관코드 (감사원 GCC 코드로 고정)*/
							,TGTORGCD			/*타겟기관코드 (신문고 GCC 코드로 고정)*/
							,WRITE_TIME			/*등록일자*/
							,SND_RCV_GUBUN		/*송수신구분 (1:송신, 2:수신)*/
							,SND_RCV_TIME		/*송수신일자*/
							,SEND_YN			/*송신여부 (N DEFAULT, EAI 가 송신후 Y로 변경함)*/
						)
				SELECT	TO_CHAR(SYSTIMESTAMP, 'YYYYMMDDHH24MISSFF2') || LPAD(ROUND(DBMS_RANDOM.VALUE(1, 999999999)), 9, '0')
						,D1.SMG_FRT_CVPT_APL_GCC_ORG_CD
							,D1.SMG_CVPT_APL_NO
							,D1.SMG_CAT_HST_SRNO
							,D1.SMG_CVPT_ACP_NO
							,DECODE(D1.SMG_FRT_HNDL_STA_CD, '161','181', '163','183')
							,'N'
							,F_DPT_INFO(DECODE(D2.HNDL_CHGR_ID,NULL,D1.ACP_DPT_CD,D2.HNDL_DPT_CD),'6')
							,F_DPT_INFO(DECODE(D2.HNDL_CHGR_ID,NULL,D1.ACP_DPT_CD,D2.HNDL_DPT_CD),'7')
							,F_USR_INFO_BY_ID(NVL(D2.HNDL_CHGR_ID,D1.RCEP_ID),'2')
							,''
							,F_DPT_INFO(DECODE(D2.HNDL_CHGR_ID,NULL,D1.ACP_DPT_CD,D2.HNDL_DPT_CD),'8')
							,'귀하께서 제출하신 감사제보을 취하하여 감사제보의 처리에 관한 규정 제14조제3항에 따라 회신하지 않습니다.'
							,TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS' )
							,'N'
							,NULL
							,'1040000'
							,'1040000'
							,'1140100'
							,TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS' )
							,'1'
							,TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
							,'N'
				FROM	TBCSPDCP101M D1, TBCSPDCP201M D2
				WHERE	SMG_CVPT_APL_NO = #PETI_NO#
				AND     D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				AND     D1.ACP_YR = D2.ACP_YR(+)
				AND     D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
		]]>
	</insert>	
	
</sqlMap> 
