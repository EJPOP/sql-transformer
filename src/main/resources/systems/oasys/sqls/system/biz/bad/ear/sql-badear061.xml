<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="bad/ear/061">
<select id="BADEAR061OrgImpSelect" parameterClass="paramMap" resultClass="resultMap">
	<![CDATA[
       SELECT ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
	
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
			, COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
	         ]]>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
			<isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관차수 - 2018.05.30 yyh -->	
		<isNotEmpty property="strOrgDgeCd">
			   AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
				
		<!-- 기관정보관리대상여부 - 2018.07.09 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
						
	</select>
	
	<!-- 기관팝업 전체조회 -->
	<select id="BADEAR061OrgAllSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
	
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
			,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
	         ]]>
	    <isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>     
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.09 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
				
		<include refid="include.pageOrder" />

	</select>
	



	<select id="BADEAR061OrgNatSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM   
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
            ,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
        
         AND ORG_DVSN_CD = '10'
	         ]]>
		<isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.16 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
				
		<include refid="include.pageOrder" />
	</select>
	
	<select id="BADEAR061OrgPvcSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM    
               
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
            ,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
         AND ORG_DVSN_CD IN ('21','22')
	         ]]>
		<isNotEmpty property="strUseDvsn">
	AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.16 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
		
		<include refid="include.pageOrder" />
	</select>
	
	<!-- 기관코드 팝업 기타 -->
	<select id="BADEAR061OrgEtcSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            ,  F_CODE_NM('1000001',RGN_CD) AS RGN_NM    
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
            ,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
         AND ORG_DVSN_CD IN ('58','59')
         
         
	         ]]>

		<isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
				<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.16 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
		
		<include refid="include.pageOrder" />
	</select>
	<!-- 기관 코드 지방자치단체 -->	
		
		

	<!-- 기관코드 공공기관 -->
	<select id="BADEAR061OrgPubSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM    
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
            ,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
         AND ORG_DVSN_CD NOT IN ('10','21','22','58','59')
	         ]]>
		<isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.16 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
		
		<include refid="include.pageOrder" />

	</select>		
	
	
	<!-- 기관코드 공공기관기타 - 2018.07.20 yyh -->
	<select id="BADEAR061OrgPubAndEtcSelect" parameterClass="paramMap" resultClass="resultMap">
		<include refid="include.pageSelct" />
		
	<![CDATA[
       SELECT CASE
          WHEN USE_DVSN_NO='N' THEN '(*)'||ORG_CD
           ELSE  ORG_CD
           END AS ORG_CD_YN
            , ORG_CD
            , ORG_NM
            , RGN_CD
            , F_CODE_NM('1000001',RGN_CD) AS RGN_NM    
            , ORG_DVSN_CD
            , F_CODE_NM('1000119',ORG_DVSN_CD) AS ORG_DVSN_NM
            , ORG_DGE_CD
            , F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
            , COPT_SG_CD
            , F_ORG_HRK_NM(COPT_SG_CD) AS COPT_SG_NM
            , TNB
            , ZCD
            , AD
            , DTL_AD
			, ROAD_NM_AD
            , ROAD_NM_DTL_AD
            , USE_DVSN_NO
            , ENFM_DPT_CD
            , ORG_CAT_CD
            , PUB_DVSN_CD
            ,COPT_SG_2_CD
			,F_DPT_INFO(ENFM_DPT_CD,'1') AS ENFM_DPT_NM
			,ADMN_ORG_DVSN_CD
         FROM TBDCMACM015M
        WHERE 1=1
         AND ORG_DVSN_CD NOT IN ('10','21','22')
	         ]]>
		<isNotEmpty property="strUseDvsn">
			AND USE_DVSN_NO = #strUseDvsn#
		</isNotEmpty>
		<isNotEmpty property="strOrgNm">
			AND (ORG_NM LIKE
			'%'||#strOrgNm#||'%'OR ORG_CD LIKE
			'%'||#strOrgNm#||'%')
		</isNotEmpty>
		<isNotEmpty property="strCoptSg">
			AND COPT_SG_CD = #strCoptSg#
		</isNotEmpty>
		<isNotEmpty property="strOrgDgeCd">
			AND ORG_DGE_CD = #strOrgDgeCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgDvsnCd">
			AND ORG_DVSN_CD = #strOrgDvsnCd#
		</isNotEmpty>
		
		<isNotEmpty property="strCoptDvsn">
			   AND EXISTS ( SELECT 1
                  FROM TBDCMACM013C
                 WHERE CMM_CD_DVSN_CD ='1000719'
                   AND USR_DFN_TXT_1||'000000000' = TBDCMACM015M.ORG_CD) 
		</isNotEmpty>
		
		<!-- 기관정보관리대상여부 - 2018.07.16 yyh -->	
		<isNotEmpty property="strMngDvsnYn">
			<isEqual property="strMngDvsnYn" compareValue="Y">
				AND MNG_DVSN_YN = 'Y'
			</isEqual>
			<isEqual property="strMngDvsnYn" compareValue="YW">
				AND MNG_DVSN_YN IN ('Y','W') 
			</isEqual>			   
		</isNotEmpty>
		
		<include refid="include.pageOrder" />

	</select>
			
</sqlMap> 