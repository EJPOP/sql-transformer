<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="faa/aea/002">
	
	<select id="FAAAEA002EMainselect" parameterClass="paramMap"	resultClass="resultMap">
	<include refid="include.pageSelct" />
			SELECT COPT_SG_CD
            	   ,'['||COPT_SG_CD||'] '||F_ORG_HRK_NM(COPT_SG_CD)||'()' AS COPT_SG_NM
                   ,ORG_CD
                   ,ORG_NM||'()' AS ORG_NM
                   ,ORG_DGE_CD
                   ,F_CODE_NM('1000346',ORG_DGE_CD) AS ORG_DGE_NM
                   ,F_DPT_INFO(ENFM_DPT_CD,'1') AS CHRG_DPT_NM
              FROM TBDCMACM015M
             WHERE 1=1
		<isNotEmpty property="strCoptSgCd">
		       AND COPT_SG_CD = #strCoptSgCd#
		</isNotEmpty>
		<isNotEmpty property="strOrgCd">
		       AND ORG_CD = #strOrgCd#
		</isNotEmpty>
		  ORDER BY COPT_SG_CD,ORG_NM
	<include refid="include.pageOrder" />
	</select>

	<select id="FAAAEA002EDetailAllCountselect" parameterClass="paramMap"	resultClass="resultMap">
	
			 SELECT '처분요구('||(SELECT COUNT(1) FROM TBBADEAR001M D1 INNER JOIN TBBADEAR002D D2 ON D1.AUD_YR = D2.AUD_YR AND D1.AUD_NO = D2.AUD_NO AND D1.DSP_RQ_SNO = D2.DSP_RQ_SNO 
		 				<isEqual property="strExistOrg" compareValue="Y"> 
		 					<isEqual property="strOrgDep" compareValue="N">
								WHERE D2.COPT_OFI_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE D2.COPT_OFI_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
		 				</isEqual>
		 				<isEqual property="strExistOrg" compareValue="N">
		 						<isEqual property="strOrgDep" compareValue="N">
									WHERE D2.COPT_OFI_CD = #strCoptSgCd#  
			 					</isEqual>
								<isEqual property="strOrgDep" compareValue="Y">
									WHERE D2.COPT_OFI_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
								</isEqual>
		 			    </isEqual>)||')' AS COUNT1
					,'직원제출정보('||(SELECT COUNT(1) FROM TBCSPBII100M
						<isEqual property="strExistOrg" compareValue="Y">
						 	<isEqual property="strOrgDep" compareValue="N">
							 	WHERE REL_ORG_CD  = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
							 	WHERE REL_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N">
							<isEqual property="strOrgDep" compareValue="N">
								WHERE REL_ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE REL_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT2
					,'감사제보('||(SELECT COUNT(1) FROM TBCSPDCP101M D1 INNER JOIN TBCSPDCP206L D4 ON D4.REQ_DVSN_CD = '1' AND D4.ORG_HIS_DVSN_CD = '1' AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD AND D1.ACP_YR = D4.ACP_YR AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
						<isEqual property="strExistOrg" compareValue="Y">
						 	<isEqual property="strOrgDep" compareValue="N">
						 		WHERE D4.ORG_CD  = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
						 		WHERE D4.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N">
							<isEqual property="strOrgDep" compareValue="N">
								WHERE D4.ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE D4.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT3
					,'정보시스템('||(SELECT COUNT(1) FROM TBFAAAEA003M D1
									   LEFT OUTER JOIN TBFAAAEA001M D2
												    ON D1.COPT_ORG_CD = D2.COPT_ORG_CD
												   AND D1.SYS_NM = D2.SYS_NM
									   LEFT OUTER JOIN TBFAAAEA002M D3
									   			    ON D1.COPT_ORG_CD = D3.COPT_ORG_CD
												   AND D1.SYS_NM = D3.SYS_NM
												   AND D1.UNT_SYS_NM = D3.UNT_SYS_NM
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE D2.BAI_ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE D2.BAI_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE D2.BAI_ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE D2.BAI_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT4
					,'자체감사기구('||(SELECT COUNT(1) FROM TBFAAAEA011M D1 
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual> AND D1.DEL_YN = 'N')||')' AS COUNT5
					,'자체감사담당자('||(SELECT COUNT(1) FROM TBFAAAEA014M
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT6
					,'조직/예산('||(SELECT COUNT(1) FROM TBFAAAEA024L 
			  		<isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strCoptSgCd#  
 					</isEqual>
					<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
					</isEqual>
					  AND DEL_YN = 'N')||')' AS COUNT7
					,'기관장/임원('||(SELECT COUNT(1) FROM TBFAAAEA015M
						<isEqual property="strExistOrg" compareValue="Y">
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||'/'||(SELECT COUNT(1) FROM TBFAAAEA016M
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT8
					,'기관편람('||(SELECT COUNT(1) FROM TBFAAAEA017M
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT9
					,'자체감사 총괄현황' AS COUNT10
					,'자체감사계획('||(SELECT COUNT(1) FROM TBFAAAEA019M 
					<isEqual property="strOrgDep" compareValue="N">
					WHERE ORG_CD = #strCoptSgCd# 
 					</isEqual>
					<isEqual property="strOrgDep" compareValue="Y">
					WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
					</isEqual>
					AND DEL_YN = 'N')||')' AS COUNT11
					,'자체감사실시('||(SELECT COUNT(1) FROM TBFAAAEA020L D1 INNER JOIN TBFAAAEA019M D2 ON D1.ORG_CD = D2.ORG_CD AND D1.AUD_YR = D2.AUD_YR AND D1.AUD_SRNO = D2.AUD_SRNO WHERE D1.DEL_YN = 'N' AND D2.DEL_YN = 'N' 
					<isEqual property="strOrgDep" compareValue="N">
					AND D2.ORG_CD = #strCoptSgCd#
 					</isEqual>
					<isEqual property="strOrgDep" compareValue="Y">
					AND D2.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
					</isEqual>
					)||')' AS COUNT12
					,'자체감사결과('||(SELECT COUNT(1) 
					                   FROM TBFAAAEA021M D1 INNER JOIN TBFAAAEA019M D2 
					                     ON D1.ORG_CD   = D2.ORG_CD 
					                    AND D1.AUD_YR   = D2.AUD_YR 
                                        AND D1.AUD_SRNO = D2.AUD_SRNO  					                    
					                    AND D1.AUD_SRNO = D2.AUD_SRNO LEFT OUTER JOIN TBFAAAEA020L D3 
					                     ON D1.ORG_CD   = D3.ORG_CD 
					                    AND D1.AUD_YR   = D3.AUD_YR 
                                        AND D1.AUD_SRNO = D3.AUD_SRNO   
                                        AND D1.EXPOT_MNG_SRNO = D3.EXPOT_MNG_SRNO   					                    
					                  WHERE D1.DEL_YN   = 'N' 
					                    AND D2.DEL_YN   = 'N' 
					                    AND D3.DEL_YN   = 'N' 
					<isEqual property="strOrgDep" compareValue="N">
						AND D2.ORG_CD = #strCoptSgCd#
 					</isEqual>
					<isEqual property="strOrgDep" compareValue="Y">
						AND D2.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
					</isEqual>
					)||')' AS COUNT13
					,'범죄징계 통보('||(SELECT COUNT(1) FROM TBBADGDA001M WHERE NTF_DVSN_CD = '1'
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								AND ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								AND ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								AND ORG_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								AND ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT14
					,'손망실 통보('||(SELECT COUNT(1) FROM TBBADGDA001M D1 LEFT OUTER JOIN TBBADGDA001L D2 ON D1.ORG_CD = D2.ORG_CD(+) AND D1.NTF_DVSN_CD = D2.NTF_DVSN_CD(+) AND D1.NNB = D2.NNB(+) AND D2.SRNO = '1' WHERE D1.NTF_DVSN_CD = '2'
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								AND D1.ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								AND D1.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								AND D1.ORG_CD = #strCoptSgCd#
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								AND D1.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT15
					<!-- ,'제출받은자료('||('COUNT')||')' AS COUNT16-->
					,'주요자료('||(SELECT COUNT(1) FROM TBCSPBII800L
						<isEqual property="strExistOrg" compareValue="Y"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE COPT_GD_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE COPT_GD_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
							</isEqual>
						</isEqual>
						<isEqual property="strExistOrg" compareValue="N"> 
							<isEqual property="strOrgDep" compareValue="N">
								WHERE COPT_GD_CD = #strCoptSgCd# 
		 					</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
								WHERE COPT_GD_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
							</isEqual>
						</isEqual>)||')' AS COUNT17
			   FROM DUAL
	</select>

	<select id="FAAAEA002EDetailOrgInfoselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D1.HG_ORG_NM
					,D1.ENG_ORG_NM
					,D1.AD
					,D1.HMP_AD
					,D1.TNB
					,D2.SRNO
					,D2.NAM
					,CASE WHEN D2.BTDT IS NOT NULL THEN SUBSTRING(D2.BTDT,0,4)||'.'||SUBSTRING(D2.BTDT,5,2)||'.'||SUBSTRING(D2.BTDT,7,2) ELSE D2.BTDT END AS BTDT
					,CASE WHEN D2.APPT_DT IS NOT NULL THEN SUBSTRING(D2.APPT_DT,0,4)||'.'||SUBSTRING(D2.APPT_DT,5,2)||'.'||SUBSTRING(D2.APPT_DT,7,2) ELSE D2.APPT_DT END AS APPT_DT
					,CASE WHEN D2.TERM_COMEND_DT IS NOT NULL THEN SUBSTRING(D2.TERM_COMEND_DT,0,4)||'.'||SUBSTRING(D2.TERM_COMEND_DT,5,2)||'.'||SUBSTRING(D2.TERM_COMEND_DT,7,2) ELSE TERM_COMEND_DT END AS TERM_COMEND_DT
					,D2.MAIN_SCLS_TXT
					,D2.MAIN_CRR_TXT
		       FROM TBFAAAEA010M D1
	LEFT OUTER JOIN TBFAAAEA015M D2
	    		 ON D1.ORG_CD = D2.ORG_CD
	    		AND D2.DEL_YN = 'N'
			    AND D2.BAJ_DVSN_YN = '1'
			<isEqual property="strOrgDep" compareValue="N">
			  WHERE D1.ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE D1.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
			</isEqual>
			    AND D1.DEL_YN = 'N'
	</select>
	
	<select id="FAAAEA002EDetailDspRqselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D1.AUD_YR||'-'||D1.AUD_NO AS AUD_YRNO
					,D1.DSP_RQ_SNO
					,CASE WHEN D2.COPT_OFI_CD IS NOT NULL THEN F_ORG_HRK_NM(D2.COPT_OFI_CD) ELSE '' END AS COPT_SG_NM
					,F_CODE_NM('1000002',D1.DSP_RQ_KND_CD) AS DSP_RQ_KND_NM
					,D1.TIT_TXT
					,CASE WHEN HNDL_DDLN_DT IS NOT NULL THEN SUBSTRING(HNDL_DDLN_DT,0,4)||'.'||SUBSTRING(HNDL_DDLN_DT,5,2)||'.'||SUBSTRING(HNDL_DDLN_DT,7,2) ELSE HNDL_DDLN_DT END AS HNDL_DDLN_DT
			   FROM TBBADEAR001M D1
	  	 INNER JOIN TBBADEAR002D D2
				 ON D1.AUD_YR = D2.AUD_YR
				AND D1.AUD_NO = D2.AUD_NO
				AND D1.DSP_RQ_SNO = D2.DSP_RQ_SNO
		<isEqual property="strExistOrg" compareValue="Y">
			<isEqual property="strOrgDep" compareValue="N">
				WHERE D2.COPT_OFI_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
				WHERE D2.COPT_OFI_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
			<isEqual property="strOrgDep" compareValue="N">
			  WHERE D2.COPT_OFI_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE D2.COPT_OFI_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isNotEmpty property="strTitTxt">
			    AND D1.TIT_TXT LIKE '%'||#strTitTxt#||'%'
		</isNotEmpty>
		   ORDER BY D1.AUD_YR DESC, D1.AUD_NO DESC, D1.DSP_RQ_SNO ASC
	</select>
	
	<select id="FAAAEA002EDetailPrsrInfoselect" parameterClass="paramMap"	resultClass="resultMap">
			  SELECT D1.YE || '-' || D1.SRNO AS INF_NO 
					,CASE WHEN D1.SMT_DT IS NOT NULL THEN SUBSTRING(D1.SMT_DT,0,4)||'.'||SUBSTRING(D1.SMT_DT,5,2)||'.'||SUBSTRING(D1.SMT_DT,7,2) ELSE D1.SMT_DT END AS SMT_DT 
					,D2.USR_NAM AS PRSR_NAM
					,D1.TIT_TXT
					,F_ORG_INFO(D1.REL_ORG_CD, '1') AS REL_ORG_NM
					,D3.DPT_NM
					,F_CODE_NM('1000039', D1.HNDL_ORD_CD) AS HNDL_ORD_NM
					,F_CODE_NM('1000085', D1.AUD_INF_PRSS_STA_CD) AS AUD_INF_PRSS_STA_NM
					,CASE WHEN D1.HNDL_DT IS NOT NULL THEN SUBSTRING(D1.HNDL_DT,0,4)||'.'||SUBSTRING(D1.HNDL_DT,5,2)||'.'||SUBSTRING(D1.HNDL_DT,7,2) ELSE D1.HNDL_DT END AS HNDL_DT 
					,F_CODE_NM('1000042', D1.HNDL_RSLT_CD) AS HNDL_RSLT_NM
			   FROM TBCSPBII100M D1
	LEFT OUTER JOIN TBDCMACM001M D2
	  			 ON D1.PRSR_CNB = D2.CNB
	LEFT OUTER JOIN TBDCMACM002M D3
				 ON D1.AUD_DPT_CD = D3.DPT_CD
		<isEqual property="strExistOrg" compareValue="Y">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE D1.REL_ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE D1.REL_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE D1.REL_ORG_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE D1.REL_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		   ORDER BY D1.SMT_DT DESC, D1.YE DESC, D1.SRNO DESC 
	</select>
	
	<select id="FAAAEA002EDetailCvptInfoselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT F_CODE_NM('1000047',D1.CVPT_KND_CD) AS CVPT_KND_NM 
					,D1.CVPT_ACP_NO
					,'' AS CVPT_DL
					,D1.TIT_NM
					,F_CODE_NM('1000361',D1.CVPT_HNDL_STA_CD) AS CVPT_HNDL_STA_NM
					,F_CODE_NM('1000051',D2.CVPT_HNDL_DVSN_CD) AS CVPT_HNDL_DVSN_NM
					,F_USR_INFO_BY_ID(D3.HNDL_CHGR_ID,'2') AS HNDL_CHGR_NM
			   FROM TBCSPDCP101M D1
	LEFT OUTER JOIN TBCSPDCP205L D2
				 ON D1.REQ_DVSN_CD = D2.REQ_DVSN_CD
				AND D1.ACP_YR = D2.ACP_YR
				AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO
				AND D2.SRNO = '1'
	LEFT OUTER JOIN TBCSPDCP201M D3
				 ON D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				AND D1.ACP_YR = D3.ACP_YR
				AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
		 INNER JOIN TBCSPDCP206L D4
				 ON D4.REQ_DVSN_CD = '1'    
				AND D4.ORG_HIS_DVSN_CD = '1'   
				AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				AND D1.ACP_YR = D4.ACP_YR
				AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
		<isEqual property="strExistOrg" compareValue="Y">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE D4.ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE D4.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
   			 <isEqual property="strOrgDep" compareValue="N">
   			  WHERE D4.ORG_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
   			  WHERE D4.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		   ORDER BY CVPT_KND_NM, D1.CVPT_ACP_NO
	</select>

	<select id="FAAAEA002EDetailSysInfoselect" parameterClass="paramMap"	resultClass="resultMap">
		<![CDATA[
			SELECT CASE WHEN LENGTH(D1.COPT_ORG_CD) = '12' THEN F_ORG_INFO (D1.COPT_ORG_CD,1) ELSE D1.COPT_ORG_NM END AS ORG_NM
                   ,D1.SYS_NM
                   ,D2.UNT_SYS_NM
                   ,D3.TBL_NM
                   ,CASE WHEN D5.COLS IS NOT NULL THEN D5.COLS||'...' ELSE D5.COLS END AS COLS
              FROM TBFAAAEA001M D1 
   LEFT OUTER JOIN TBFAAAEA002M D2 ON D1.SYS_NM = D2.SYS_NM
               AND D1.COPT_ORG_CD = D2.COPT_ORG_CD 
   LEFT OUTER JOIN TBFAAAEA003M D3 ON D2.UNT_SYS_NM = D3.UNT_SYS_NM
               AND D2.SYS_NM = D3.SYS_NM
               AND D2.COPT_ORG_CD = D3.COPT_ORG_CD 
   LEFT OUTER JOIN TBFAAAEA004M D4 ON D3.UNT_SYS_NM = D4.UNT_SYS_NM
               AND D3.TBL_ID = D4.TBL_ID
               AND D3.SYS_NM = D4.SYS_NM
               AND D3.COPT_ORG_CD = D4.COPT_ORG_CD
   LEFT OUTER JOIN (
                SELECT AGGR_CONCAT(COL_NM,', ') AS COLS, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
                  FROM (
                         SELECT ROW_NUMBER() OVER (PARTITION BY TBL_ID ORDER BY COL_NM DESC) RN, TRIM(COL_NM) AS COL_NM, TBL_ID, UNT_SYS_NM, SYS_NM, COPT_ORG_CD
                           FROM TBFAAAEA004M
                       ORDER BY COL_NM DESC
                        ) M
               WHERE M.RN < 11 
              GROUP BY COPT_ORG_CD, SYS_NM, UNT_SYS_NM, TBL_ID
                  ) D5
               ON D5.TBL_ID = D3.TBL_ID
              AND D5.UNT_SYS_NM = D2.UNT_SYS_NM
              AND D5.SYS_NM = D1.SYS_NM
              AND D5.COPT_ORG_CD = D1.COPT_ORG_CD
            WHERE 1=1
              AND D1.USE_YN = 'Y'
        ]]>
		<isEqual property="strExistOrg" compareValue="Y">
			 <isEqual property="strOrgDep" compareValue="N">
			  AND D1.BAI_ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  AND D1.BAI_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
   			 <isEqual property="strOrgDep" compareValue="N">
   			  AND D1.BAI_ORG_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
   			  AND D1.BAI_ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		  GROUP BY D1.COPT_ORG_CD, D1.COPT_ORG_NM, D1.SYS_NM, D2.UNT_SYS_NM, D3.TBL_NM, D5.COLS
          ORDER BY D1.COPT_ORG_CD, D1.SYS_NM, D2.UNT_SYS_NM, D3.TBL_NM
	</select>

	<select id="FAAAEA002EDetailOrgaInfoselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D1.ORGA_NM
					,CASE WHEN D1.RPS_ORGA_NM IS NOT NULL THEN '전담' ELSE '비전담' END AS RPS_ORGA_NM
					,D1.ORGA_BLT_TYP_NM
					,D1.PSST_CNT||'/'||D1.FN_CNT AS CNT
					,REPLACE(TO_CHAR(D1.BGT_AMT,'999,999,999') ,'','') AS BGT_AMT
					,D1.FAN
					,D1.ORZT_COMPO_TXT
					,D1.DVDT_TSK_TXT
					,F_CODE_NM('1000176',D2.PST_CD) AS PST_NM
					,D2.RANK_NM
					,D2.NAM
					,CASE WHEN D2.BTDT IS NOT NULL THEN SUBSTRING(D2.BTDT,0,4)||'.'||SUBSTRING(D2.BTDT,5,2)||'.'||SUBSTRING(D2.BTDT,7,2) ELSE D2.BTDT END AS BTDT
					,D2.MAIN_SCLS_TXT
					,D2.MAIN_CRR_TXT
					,D2.APM_SHP_NM
					,(CASE WHEN D2.TNR_STR_DT IS NOT NULL THEN SUBSTRING(D2.TNR_STR_DT,0,4)||'.'||SUBSTRING(D2.TNR_STR_DT,5,2)||'.'||SUBSTRING(D2.TNR_STR_DT,7,2) ELSE D2.TNR_STR_DT END)
					 ||' ~ '||
					 (CASE WHEN D2.TNR_COMEND_DT IS NOT NULL THEN SUBSTRING(D2.TNR_COMEND_DT,0,4)||'.'||SUBSTRING(D2.TNR_COMEND_DT,5,2)||'.'||SUBSTRING(D2.TNR_COMEND_DT,7,2) ELSE D2.TNR_COMEND_DT END) AS TNR_DT
					,D2.QLF_SBJ
			   FROM TBFAAAEA011M D1
    LEFT OUTER JOIN TBFAAAEA012M D2
				 ON D1.ORG_CD = D2.ORG_CD
				AND D2.DEL_YN = 'N'
			  WHERE D1.DEL_YN = 'N'
			  	<isEqual property="strOrgDep" compareValue="N">
			  	AND D1.ORG_CD = #strCoptSgCd#  
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  	AND D1.ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%' 
			</isEqual>
	</select>
	
	<select id="FAAAEA002EDetailOrgaselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT YR
					,AUD_TG_ORG_DVSN_NM
					,TG_ORG_CNT
					,FN_NOP_CNT
					,STF_NOP_CNT + ORGCHF_NOP_CNT AS FN_PSST_CNT
					,SLF_AUD_ORGA_FN_CNT
					,SLF_AUD_ORGA_PSST_CNT
					,BGT_AMT
					,MAIN_ORG_TXT
					,TO_CHAR(FRT_REGI_DH,'yyyy.MM.dd') AS FRT_REGI_DH
			   FROM TBFAAAEA013M
		<isEqual property="strExistOrg" compareValue="Y">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
		  	  <isEqual property="strOrgDep" compareValue="N">
		  	  WHERE ORG_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
		  	  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
			AND DEL_YN = 'N'
		</isEqual>
		   ORDER BY YR DESC,SRNO ASC,AUD_TG_ORG_DVSN_NM,TG_ORG_CNT
	</select>
	
	<select id="FAAAEA002EDetailAudselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT DPT_NM
					,AUD_PEN_NAM
					,OCP_NM
					,RANK_NM
					,CASE WHEN AUD_DPT_TRANS_DT IS NOT NULL THEN SUBSTRING(AUD_DPT_TRANS_DT,0,4)||'.'||SUBSTRING(AUD_DPT_TRANS_DT,5,2)||'.'||SUBSTRING(AUD_DPT_TRANS_DT,7,2) ELSE AUD_DPT_TRANS_DT END AS AUD_DPT_TRANS_DT
					,CASE WHEN BAJ_DVSN_YN = '1' THEN '현직' ELSE '전직' END AS BAJ_DVSN_YN
			   FROM TBFAAAEA014M
		<isEqual property="strExistOrg" compareValue="Y">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
		   	  <isEqual property="strOrgDep" compareValue="N">
		   	  WHERE ORG_CD = #strCoptSgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
		   	  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		   ORDER BY DPT_NM,  OCP_NM, RANK_NM, AUD_DPT_TRANS_DT DESC, AUD_PEN_NAM, BAJ_DVSN_YN
	</select>
	
	<select id="FAAAEA002EDetailOrgChfListselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT ORG_CD
					,SRNO
					,NAM
					,CASE WHEN BTDT IS NOT NULL THEN SUBSTRING(BTDT,0,4)||'.'||SUBSTRING(BTDT,5,2)||'.'||SUBSTRING(BTDT,7,2) ELSE BTDT END AS BTDT
					,(CASE WHEN TNR_STR_DT IS NOT NULL THEN SUBSTRING(TNR_STR_DT,0,4)||'.'||SUBSTRING(TNR_STR_DT,5,2)||'.'||SUBSTRING(TNR_STR_DT,7,2) ELSE TNR_STR_DT END)
					 ||' ~ '||
					 (CASE WHEN TNR_COMEND_DT IS NOT NULL THEN SUBSTRING(TNR_COMEND_DT,0,4)||'.'||SUBSTRING(TNR_COMEND_DT,5,2)||'.'||SUBSTRING(TNR_COMEND_DT,7,2) ELSE TNR_COMEND_DT END) AS TNR_DT
					,RMK
			   FROM TBFAAAEA015M
			   <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		   ORDER BY SRNO DESC
	</select>
	
	<select id="FAAAEA002EDetailOrgChfselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT ORGCHF_CD_NM
					,CASE WHEN BAJ_DVSN_YN = '1' THEN '현직' ELSE '전직' END AS BAJ_DVSN_YN
					,CASE WHEN APPT_DT IS NOT NULL THEN SUBSTRING(APPT_DT,0,4)||'.'||SUBSTRING(APPT_DT,5,2)||'.'||SUBSTRING(APPT_DT,7,2) ELSE APPT_DT END AS APPT_DT
					,CASE WHEN TERM_COMEND_DT IS NOT NULL THEN SUBSTRING(TERM_COMEND_DT,0,4)||'.'||SUBSTRING(TERM_COMEND_DT,5,2)||'.'||SUBSTRING(TERM_COMEND_DT,7,2) ELSE TERM_COMEND_DT END AS TERM_COMEND_DT
					,MAIN_SCLS_TXT
					,MAIN_CRR_TXT
			   FROM TBFAAAEA015M
			   <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
			    AND SRNO = #strSrno#
	</select>
	
	<select id="FAAAEA002EDetailOrgStfListselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT ORG_CD
					,SRNO
					,DPT_NM
					,RANK_NM
					,NAM
					,CASE WHEN BTDT IS NOT NULL THEN SUBSTRING(BTDT,0,4) ELSE BTDT END AS BTDT
					,CASE WHEN CRNT_ASSPO_DT IS NOT NULL THEN SUBSTRING(CRNT_ASSPO_DT,0,4)||'.'||SUBSTRING(CRNT_ASSPO_DT,5,2)||'.'||SUBSTRING(CRNT_ASSPO_DT,7,2) ELSE CRNT_ASSPO_DT END AS CRNT_ASSPO_DT
			   FROM TBFAAAEA016M
		<isEqual property="strExistOrg" compareValue="Y">
			<isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strExistOrg" compareValue="N">
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		   ORDER BY DPT_NM ASC, CRNT_ASSPO_DT DESC
	</select>

	<select id="FAAAEA002EDetailOrgStfselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT NTV_AD
					,CASE WHEN FRT_APM_DT IS NOT NULL THEN SUBSTRING(FRT_APM_DT,0,4)||'.'||SUBSTRING(FRT_APM_DT,5,2)||'.'||SUBSTRING(FRT_APM_DT,7,2) ELSE FRT_APM_DT END AS FRT_APM_DT 
					,CASE WHEN CRNT_RANK_APM_DT IS NOT NULL THEN SUBSTRING(CRNT_RANK_APM_DT,0,4)||'.'||SUBSTRING(CRNT_RANK_APM_DT,5,2)||'.'||SUBSTRING(CRNT_RANK_APM_DT,7,2) ELSE CRNT_RANK_APM_DT END AS CRNT_RANK_APM_DT 
					,MAIN_SCLS_TXT
					,MAIN_CRR_TXT
			   FROM TBFAAAEA016M
			   <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strCoptSgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strCoptSgCd#,'000','') || '%'
			</isEqual>
				AND SRNO = #strSrno#
	</select>

	<select id="FAAAEA002EHbkBzYrselect" parameterClass="paramMap"	resultClass="resultMap">
			SELECT DISTINCT BZ_YR, BZ_YR||'년' AS BZ_YR_NM
			  FROM TBFAAAEA017M 
			 WHERE BZ_YR IS NOT NULL 
		<isEqual property="strDetailChkYn" compareValue="Y">
			   <isEqual property="strOrgDep" compareValue="N">
			   AND ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			   AND ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strDetailChkYn" compareValue="">
			 <isEqual property="strOrgDep" compareValue="N">
			   AND ORG_CD = #strDetailOrgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			   AND ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual> 
		</isEqual>
	      ORDER BY BZ_YR DESC
	</select>
	
	<select id="FAAAEA002EDetailHbkListselect" parameterClass="paramMap"	resultClass="resultMap">
	
		 SELECT F_CODE_NM ('1000406', TSK_DVSN_CD) AS TSK_DVSN_NM 
				,HBK_TIT_NM AS HBK_TIT
				,TO_CHAR(FRT_REGI_DH,'yyyy.MM.dd') AS FRT_REGI_DH
				,CASE WHEN DOC_ID IS NOT NULL THEN '파일다운로드' ELSE '' END DOC_NM
				,DOC_ID
				FROM TBFAAAEA017M
				WHERE 1=1
		<isNotEmpty property="strHbkTit">
				AND HBK_TIT_NM LIKE '%'||#strHbkTit#||'%'
		</isNotEmpty>
		<isNotEmpty property="strSBzYr">
	   <![CDATA[AND BZ_YR >= #strSBzYr#]]>
		</isNotEmpty>
		<isNotEmpty property="strEBzYr">
	   <![CDATA[AND BZ_YR <= #strEBzYr#]]>
		</isNotEmpty>
		<isEqual property="strDetailChkYn" compareValue="Y">
			    <isEqual property="strOrgDep" compareValue="N">
			    AND ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strDetailChkYn" compareValue="">
			    <isEqual property="strOrgDep" compareValue="N">
			    AND ORG_CD = #strDetailOrgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
	       ORDER BY BZ_YR DESC
	</select>
	
	<select id="FAAAEA002EAudYrselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT DISTINCT AUD_YR, AUD_YR||'년' AS AUD_YR_NM
			  FROM TBFAAAEA019M 
			 WHERE AUD_YR IS NOT NULL 
			   <isEqual property="strOrgDep" compareValue="N">
			   AND ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			   AND ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
	      ORDER BY AUD_YR DESC
	</select>
	
	<select id="FAAAEA002EDetailAud1Listselect" parameterClass="paramMap"	resultClass="resultMap">
		 SELECT AUD_KND_CD_NM
				,NVL(SUM(CASE
				        WHEN AUD_EXEC_DVSN_CD = '1' THEN AUD_MNDY_CNT
				        ELSE 0 END ), 0) AS AUD_MNDY_CN
				,NVL(SUM(CASE
				         WHEN AUD_EXEC_DVSN_CD = '1' THEN AUD_DCN
				         ELSE 0 END), 0) AS AUD_DCN 
				,NVL(SUM(CASE
				         WHEN AUD_EXEC_DVSN_CD = '1' THEN 1
				         ELSE 0 END), 0) AS CNT
		   FROM TBFAAAEA019M
		<isEqual property="strOrgDep" compareValue="N">
		WHERE (ORG_CD = #strDetailOrgCd# OR ORG_CD IN (SELECT OD_ORG_CD
			                                             FROM TBFAAAEA023C
				                                 WHERE ORG_CD = #strDetailOrgCd# ) )
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
		WHERE ( ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' OR ORG_CD IN (SELECT OD_ORG_CD
			                                             FROM TBFAAAEA023C
				                                 WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' ) )
			</isEqual>
		<isNotEmpty property="strAudYr">
		    AND AUD_YR = #strAudYr#
		</isNotEmpty>
		    AND DEL_YN = 'N' 
       GROUP BY AUD_KND_CD_NM
	</select>
	
	<select id="FAAAEA002EDetailAud2Listselect" parameterClass="paramMap"	resultClass="resultMap">
		 SELECT DSP_RQ_KND_NM
				,SUM(CASE WHEN REL_ORG_CD IS NOT NULL THEN 1 ELSE 0 END) AS REL_ORG_CD
				,SUM(CASE WHEN REL_PEN_NM IS NOT NULL THEN 1 ELSE 0 END) AS REL_NM
				,NVL(SUM(DSP_RQ_AM),0) AS DSP_RQ_AMT
		   FROM TBFAAAEA021M
		   <isEqual property="strOrgDep" compareValue="N">
		WHERE (ORG_CD = #strDetailOrgCd# OR ORG_CD IN (SELECT OD_ORG_CD
			                                             FROM TBFAAAEA023C
				                                 WHERE ORG_CD = #strDetailOrgCd# ) )
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
		WHERE ( ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' OR ORG_CD IN (SELECT OD_ORG_CD
			                                             FROM TBFAAAEA023C
				                                 WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' ) )
			</isEqual>
		<isNotEmpty property="strAudYr">
			AND AUD_YR = #strAudYr#
		</isNotEmpty>
			AND DEL_YN = 'N' 
       GROUP BY DSP_RQ_KND_NM
	</select>
	
	<select id="FAAAEA002EDetailAud3Listselect" parameterClass="paramMap"	resultClass="resultMap">
		    SELECT XX.AUDT_ORG_CD ,
                   F_ORG_INFO(XX.AUDT_ORG_CD,'1') AS AUDT_ORG_NM,
                   YY.AD_CNT ,
                   YY.AUD_DCN ,
                   NVL(ZZ.JIJUKCNT , 0) AS JIJUKCNT ,
                   NVL(ZZ.DISPREQCNT, 0) AS PSNDISPREQCNT ,
                   NVL(ZZ.DISPREQPSONCNT, 0) AS ADMDISPREQCNT ,
                   NVL(ZZ.DISPREQAMT , 0) AS DISPREQAMT ,
                   NVL(ZZ.FUFILCNT , 0) AS FUFILCNT ,
                   NVL(ZZ.ALLCNT , 0) AS ALLCNT ,
                   NVL(ZZ.FUFILCNT , 0) || ' / ' || NVL(ZZ.ALLCNT , 0) AS EXECNT
              FROM TBFAAAEA022M XX 
   LEFT OUTER JOIN (
                    SELECT B.AUDT_ORG_CD, 
                           NVL(COUNT(*), 0) AS AD_CNT, 
                           NVL(SUM(NVL(B.AUD_DCN, 0)), 0) AS AUD_DCN
                      FROM TBFAAAEA019M A 
                INNER JOIN TBFAAAEA022M B 
                        ON A.ORG_CD = B.ORG_CD
                       AND A.AUD_YR = B.AUD_YR
                       AND A.AUD_SRNO = B.AUD_SRNO
                     <isEqual property="strOrgDep" compareValue="N">
                     WHERE (B.ORG_CD = #strDetailOrgCd# OR B.ORG_CD IN (SELECT OD_ORG_CD FROM TBFAAAEA023C WHERE ORG_CD = #strDetailOrgCd# ) )
					</isEqual>
					<isEqual property="strOrgDep" compareValue="Y">
                     WHERE (B.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' OR B.ORG_CD IN (SELECT OD_ORG_CD FROM TBFAAAEA023C WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' ) )
					</isEqual>
                     <isNotEmpty property="strAudYr">
                       AND B.AUD_YR = #strAudYr#
                     </isNotEmpty>
                       AND A.AUD_EXEC_DVSN_CD = '1'
                       AND A.DEL_YN = 'N'
                       AND B.DEL_YN = 'N'
                  GROUP BY B.AUDT_ORG_CD 
                   ) YY 
                ON XX.AUDT_ORG_CD = YY.AUDT_ORG_CD 

   LEFT OUTER JOIN ( 
                    SELECT REL_ORG_CD, 
                           SUM(CASE
                               WHEN EXPOT_MNG_SRNO LIKE '10%' THEN 1
                               ELSE 0
                               END) AS JIJUKCNT, 
                           COUNT(NVL(REL_ORG_CD , 0)) AS DISPREQCNT, 
                           SUM(NVL(DISPREQPSONCNT , 0)) AS DISPREQPSONCNT, 
                           SUM(NVL(DISPREQAMT , 0)) AS DISPREQAMT, 
                           SUM(EXECNT) AS FUFILCNT, 
                           SUM(TOTCNT) AS ALLCNT
                      FROM (
                            SELECT 
                            <isEqual property="strOrgDep" compareValue="N">
                            	   #strDetailOrgCd# AS ORG_CD ,
							</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
                            	   REPLACE(#strDetailOrgCd#,'000','') ||'000000' AS ORG_CD ,
							</isEqual>
                                   AUD_YR ,
                                   AUD_SRNO ,
                                   EXPOT_MNG_SRNO ,
                                   DSP_RQ_KND_CD ,
                                   REL_ORG_CD ,
                                   SUM(CASE
                                       WHEN REL_PEN_NM IS NOT NULL THEN 1
                                       ELSE 0
                                       END) AS DISPREQPSONCNT ,
                                   SUM(DSP_RQ_AM) AS DISPREQAMT ,
                                   SUM(CASE
                                       WHEN BAI_RPT_MNG_NO IS NOT NULL THEN 1
                                       ELSE 0
                                       END) AS EXECNT ,
                                   COUNT(*) AS TOTCNT
                              FROM TBFAAAEA021M
                             <isEqual property="strOrgDep" compareValue="N">
                             WHERE (ORG_CD = #strDetailOrgCd# OR ORG_CD IN (SELECT OD_ORG_CD FROM TBFAAAEA023C WHERE ORG_CD = #strDetailOrgCd# ) )
							</isEqual>
							<isEqual property="strOrgDep" compareValue="Y">
                             WHERE (ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' OR ORG_CD IN (SELECT OD_ORG_CD FROM TBFAAAEA023C WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' ) )
							</isEqual>
                             <isNotEmpty property="strAudYr">
                               AND AUD_YR = #strAudYr#
                             </isNotEmpty>
                               AND DEL_YN = 'N'
                          GROUP BY ORG_CD ,
                                   AUD_YR ,
                                   AUD_SRNO ,
                                   DSP_RQ_KND_CD ,
                                   EXPOT_MNG_SRNO ,
                                   REL_ORG_CD 
                           )
                  GROUP BY REL_ORG_CD 
                   ) ZZ 
                ON XX.AUDT_ORG_CD = ZZ.REL_ORG_CD
				<isEqual property="strOrgDep" compareValue="N">
	      	 WHERE XX.AUDT_ORG_CD = #strDetailOrgCd#
				</isEqual>
				<isEqual property="strOrgDep" compareValue="Y">
	         WHERE XX.AUDT_ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
				</isEqual>
	</select>
	
	<select id="FAAAEA002EDetailAudYrPlnselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT DISTINCT AUD_YR, AUD_YR||'년' AS AUD_YR_NM
			   FROM TBFAAAEA019M
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
			    AND DEL_YN = 'N'
			    AND AUD_YR IS NOT NULL
		   ORDER BY AUD_YR DESC 
	</select>
	
	<select id="FAAAEA002EDetailAudSerCdPlnselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT DISTINCT AUD_SPH_NM AS AUD_SER_CD_NM
			        ,AUD_SPH_CD AS AUD_SER_CD
			   FROM TBFAAAEA019M
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
			    AND DEL_YN = 'N'
			    AND AUD_SPH_CD IS NOT NULL
		   ORDER BY AUD_SPH_CD 
	</select>
	
	<select id="FAAAEA002EDetailAudPlnListselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT AUD_YR
					,AUD_SPH_NM AS AUD_SER_CD_NM
					,AUD_SBJ
					,AUD_KND_CD_NM
					,AUD_STR_DT||' ~ '||AUD_END_DT AS AUD_DT
					,AUD_MNDY_CNT AS AUD_MNDY_CN
					,AUD_EPS_SBJ AS AUD_MAIN_SBJ
			   FROM TBFAAAEA019M
			  <isEqual property="strOrgDep" compareValue="N">
			  WHERE ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		<isNotEmpty property="strAudSYrPln">
       <![CDATA[AND AUD_YR >= #strAudSYrPln#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudEYrPln">
	   <![CDATA[AND AUD_YR <= #strAudEYrPln#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudSerCdPln">
			    AND AUD_SPH_CD = #strAudSerCdPln#
		</isNotEmpty>
			    AND DEL_YN = 'N'
		   ORDER BY AUD_YR DESC, AUD_STR_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailAudYrExecselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT DISTINCT D2.AUD_YR 
			        ,D2.AUD_YR||'년' AS AUD_YR_NM
			   FROM TBFAAAEA020L D1
		 INNER JOIN TBFAAAEA019M D2
			     ON D1.ORG_CD = D2.ORG_CD
			    AND D1.AUD_YR = D2.AUD_YR
			    AND D1.AUD_SRNO = D2.AUD_SRNO
			  WHERE D1.DEL_YN = 'N'
			    AND D2.DEL_YN = 'N'
			    <isEqual property="strOrgDep" compareValue="N">
			    AND D2.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND D2.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
			    AND D2.AUD_YR IS NOT NULL
		   ORDER BY D2.AUD_YR DESC 
	</select>
	
	<select id="FAAAEA002EDetailAudSerCdExecselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT DISTINCT D2.AUD_SPH_NM AS AUD_SER_CD_NM
			        ,D2.AUD_SPH_CD AS AUD_SER_CD
			   FROM TBFAAAEA020L D1
		 INNER JOIN TBFAAAEA019M D2
			     ON D1.ORG_CD = D2.ORG_CD
			    AND D1.AUD_YR = D2.AUD_YR
			    AND D1.AUD_SRNO = D2.AUD_SRNO
			  WHERE D1.DEL_YN = 'N'
			    AND D2.DEL_YN = 'N'
			    <isEqual property="strOrgDep" compareValue="N">
			    AND D2.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND D2.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
			    AND AUD_SPH_CD IS NOT NULL
		   ORDER BY D2.AUD_SPH_NM 
	</select>
	
	<select id="FAAAEA002EDetailAudExecListselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D2.AUD_YR
					,D2.AUD_SPH_NM AS AUD_SER_CD_NM
					,D2.AUD_SBJ
					,D2.AUD_KND_CD_NM
					,D2.AUD_STR_DT||' ~ '||D2.AUD_END_DT AS AUD_DT
					,D2.AUD_MNDY_CNT AS AUD_MNDY_CN
					,D2.AUD_EPS_SBJ AS AUD_MAIN_SBJ
			   FROM TBFAAAEA020L D1
		 INNER JOIN TBFAAAEA019M D2
			     ON D1.ORG_CD = D2.ORG_CD
			    AND D1.AUD_YR = D2.AUD_YR
			    AND D1.AUD_SRNO = D2.AUD_SRNO
			  WHERE D1.DEL_YN = 'N'
			    AND D2.DEL_YN = 'N'
			    <isEqual property="strOrgDep" compareValue="N">
			    AND D2.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND D2.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		<isNotEmpty property="strAudSYrExec">
       <![CDATA[AND D2.AUD_YR >= #strAudSYrExec#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudEYrExec">
	   <![CDATA[AND D2.AUD_YR <= #strAudEYrExec#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudSerCdExec">
			    AND D2.AUD_SPH_CD = #strAudSerCdExec#
		</isNotEmpty>
	       ORDER BY D2.AUD_YR DESC, D2.AUD_STR_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailAudYrRsltselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D2.AUD_YR
					,D2.AUD_YR||'년' AS AUD_YR_NM
			   FROM TBFAAAEA021M D1
		 INNER JOIN TBFAAAEA019M D2
			     ON D1.ORG_CD = D2.ORG_CD
			    AND D1.AUD_YR = D2.AUD_YR
			    AND D1.AUD_SRNO = D2.AUD_SRNO
    LEFT OUTER JOIN TBFAAAEA020L D3
			     ON D1.ORG_CD = D3.ORG_CD
			    AND D1.AUD_YR = D3.AUD_YR
			    AND D1.AUD_SRNO = D3.AUD_SRNO
                AND D1.EXPOT_MNG_SRNO = D3.EXPOT_MNG_SRNO     			    
			  WHERE D1.DEL_YN = 'N'
			    AND D2.DEL_YN = 'N'
			    AND D3.DEL_YN = 'N'
			    <isEqual property="strOrgDep" compareValue="N">
			    AND D2.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND D2.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
			    AND D2.AUD_YR IS NOT NULL
		   ORDER BY D2.AUD_YR DESC 
	</select>
	
	<select id="FAAAEA002EDetailAudRsltListselect" parameterClass="paramMap"	resultClass="resultMap">
			 SELECT D2.AUD_YR
					,D2.AUD_SBJ||'('||D2.AUD_KND_CD_NM||')' AS AUD_SBJ
					,D2.AUD_STR_DT||' ~ '||D2.AUD_END_DT||'('||D2.AUD_DCN||')' AS AUD_DT
					,CASE WHEN D1.DOC_ID IS NOT NULL THEN '파일다운로드' ELSE '' END DOC_NM
					,D1.DOC_ID
					,D1.DSP_RQ_KND_NM
					,D1.DSP_RQ_NM
					,D3.OGWD_TXT
			   FROM TBFAAAEA021M D1
		 INNER JOIN TBFAAAEA019M D2
			     ON D1.ORG_CD = D2.ORG_CD
			    AND D1.AUD_YR = D2.AUD_YR
			    AND D1.AUD_SRNO = D2.AUD_SRNO
    LEFT OUTER JOIN TBFAAAEA020L D3
			     ON D1.ORG_CD = D3.ORG_CD
			    AND D1.AUD_YR = D3.AUD_YR
			    AND D1.AUD_SRNO = D3.AUD_SRNO
                AND D1.EXPOT_MNG_SRNO = D3.EXPOT_MNG_SRNO  			    
			  WHERE D1.DEL_YN = 'N'
			    AND D2.DEL_YN = 'N'
			    AND D3.DEL_YN = 'N'
			    <isEqual property="strOrgDep" compareValue="N">
			    AND D2.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			    AND D2.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		<isNotEmpty property="strAudSYrRslt">
       <![CDATA[AND D2.AUD_YR >= #strAudSYrRslt#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudEYrRslt">
	   <![CDATA[AND D2.AUD_YR <= #strAudEYrRslt#]]>
		</isNotEmpty>
		<isNotEmpty property="strAudSbjRslt">
			    AND D2.AUD_SBJ Like '%'||#strAudSbjRslt#||'%'
		</isNotEmpty>
		   ORDER BY D2.AUD_YR DESC, D2.AUD_STR_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailMtrlListselect" parameterClass="paramMap"	resultClass="resultMap">
			 	 SELECT CASE WHEN D1.MTRL_KND_CD = '2' THEN D1.INF_NO ELSE F_CODE_NM('1000401',D1.MTRL_KND_CD) END AS MTRL_KND_NM
						,D2.ORG_NM AS COPT_GD_NM
						,D1.MTRL_NM
						,D1.ETRT_NOC
						,CASE WHEN D1.ETRT_STAD_DT IS NOT NULL THEN SUBSTRING(D1.ETRT_STAD_DT,0,4)||'.'||SUBSTRING(D1.ETRT_STAD_DT,5,2)||'.'||SUBSTRING(D1.ETRT_STAD_DT,7,2) ELSE D1.ETRT_STAD_DT END AS ETRT_STAD_DT
						,D1.ETRT_TG_PRD_TXT
				   FROM TBCSPBII800L D1
		LEFT OUTER JOIN TBDCMACM015M D2
					 ON D2.ORG_CD = D1.COPT_GD_CD
				  WHERE 1=1
		<isEqual property="strDetailChkYn" compareValue="Y">
			<isEqual property="strOrgDep" compareValue="N">
			   		AND D1.COPT_GD_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
			   		AND D1.COPT_GD_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strDetailChkYn" compareValue="">
			<isEqual property="strOrgDep" compareValue="N">
					AND D1.COPT_GD_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
					AND D1.COPT_GD_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
			   ORDER BY ETRT_STAD_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailAudChartselect" parameterClass="paramMap"	resultClass="resultMap">
			 	    SELECT AUD_YR,
					       SUM(1) AS ALLCNT , 
					       SUM(  CASE
					                         WHEN AUD_EXEC_DVSN_CD = '1' THEN 1
					                         ELSE 0
					                       END) AS EXECNT 
					  FROM TBFAAAEA019M 
					  <isEqual property="strOrgDep" compareValue="N">
					 WHERE (ORG_CD = #strDetailOrgCd# 
					            OR ORG_CD IN (SELECT OD_ORG_CD
					                  FROM TBFAAAEA023C
					                 WHERE ORG_CD = #strDetailOrgCd#  ) )
					   AND AUD_YR BETWEEN #strSAudYr# AND #strEAudYr#
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					 WHERE (ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
					            OR ORG_CD IN (SELECT OD_ORG_CD
					                  FROM TBFAAAEA023C
					                 WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%' ) )
					   AND AUD_YR BETWEEN #strSAudYr# AND #strEAudYr#
						</isEqual>
					   AND DEL_YN = 'N'
					 GROUP BY AUD_YR 
					 ORDER BY AUD_YR DESC
	</select>

	<select id="FAAAEA002EDetailOrgCatDetCdselect" parameterClass="paramMap"	resultClass="resultMap">
			 	    SELECT DISTINCT ORG_CAT_DTL_CD AS ORG_CAT_DET_CD 
			 	      FROM TBFAAAEA024L 
			 	      <isEqual property="strOrgDep" compareValue="N">
			 	     WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
			 	     WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	       AND DEL_YN = 'N'
	</select>
	
	<select id="FAAAEA002EDetailOrgCat1Listselect" parameterClass="paramMap"	resultClass="resultMap">
			 	     SELECT YR AS AUD_YR
							,ORZT_CNT_1 AS OGZ_CN_1
							,ORZT_CNT_2 AS OGZ_CN_2 
							,ORZT_CNT_3 AS OGZ_CN_3
							,ORZT_CNT_4 AS OGZ_CN_4
							,PBSVT_CNT_1 AS PBSVT_CN_1
							,PBSVT_CNT_2 AS PBSVT_CN_2
							,PBSVT_CNT_3 AS PBSVT_CN_3
							,EXP_BGT_AMT_1
					   FROM TBFAAAEA024L
					   <isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	        AND DEL_YN = 'N'
			       ORDER BY AUD_YR DESC     
	</select>
	
	<select id="FAAAEA002EDetailOrgCat2Listselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT YR AS AUD_YR
							,ORZT_CNT_1 AS OGZ_CN_1
							,ORZT_CNT_2 AS OGZ_CN_2
							,ORZT_CNT_3 AS OGZ_CN_3
							,ORZT_CNT_4 AS OGZ_CN_4
							,ORZT_CNT_5 AS OGZ_CN_5
							,PBSVT_CNT_1 AS PBSVT_CN_1
							,PBSVT_CNT_2 AS PBSVT_CN_2
							,EXP_BGT_AMT_1
							,EXP_BGT_AMT_2
							,FNA_INDP_RATIO_1 AS FNA_INDP_RT_1
							,FNA_INDP_RATIO_2 AS FNA_INDP_RT_2
					   FROM TBFAAAEA024L
					   <isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	        AND DEL_YN = 'N'
			       ORDER BY YR DESC      
	</select>
	
	<select id="FAAAEA002EDetailOrgCat3Listselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT YR AS AUD_YR
							,ORZT_CNT_1 AS OGZ_CN_1
							,ORZT_CNT_2 AS OGZ_CN_2
							,ORZT_CNT_3 AS OGZ_CN_3 
							,ORZT_CNT_4 AS OGZ_CN_4
							,ORZT_CNT_5 AS OGZ_CN_5
							,ORZT_CNT_6 AS OGZ_CN_6
							,PBSVT_CNT_1 AS PBSVT_CN_1
							,EXP_BGT_AMT_1
							,FNA_INDP_RATIO_1 AS FNA_INDP_RT_1
					   FROM TBFAAAEA024L
					   <isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	        AND DEL_YN = 'N'
			       ORDER BY YR DESC      
	</select>
	
	<select id="FAAAEA002EDetailOrgCat4Listselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT YR AS AUD_YR
							,ORZT_CNT_1 AS OGZ_CN_1
							,ORZT_CNT_2 AS OGZ_CN_2
							,ORZT_CNT_3 AS OGZ_CN_3
							,ORZT_CNT_4 AS OGZ_CN_4
							,ORZT_CNT_5 AS OGZ_CN_5
							,ORZT_CNT_6 AS OGZ_CN_6
							,PBSVT_CNT_1 AS PBSVT_CN_1
							,PBSVT_CNT_2 AS PBSVT_CN_2
							,PBSVT_CNT_3 AS PBSVT_CN_3
							,PBSVT_CNT_4 AS PBSVT_CN_4
							,PBSVT_CNT_5 AS PBSVT_CN_5
							,PBSVT_CNT_6 AS PBSVT_CN_6
							,EXP_BGT_AMT_1
					   FROM TBFAAAEA024L
					   <isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	        AND DEL_YN = 'N'
			       ORDER BY YR DESC     
	</select>
	
	<select id="FAAAEA002EDetailOrgCat5Listselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT YR AS AUD_YR
							,ORZT_CNT_1 AS OGZ_CN_1
							,ORZT_CNT_2 AS OGZ_CN_2
							,ORZT_CNT_3 AS OGZ_CN_3
							,ORZT_CNT_4 AS OGZ_CN_4
							,PBSVT_CNT_1 AS PBSVT_CN_1
							,PBSVT_CNT_2 AS PBSVT_CN_2
							,PBSVT_CNT_3 AS PBSVT_CN_3
							,PBSVT_CNT_4 AS PBSVT_CN_4
							,PBSVT_CNT_5 AS PBSVT_CN_5
							,PBSVT_CNT_6 AS PBSVT_CN_6
							,EXP_BGT_AMT_1
				       FROM TBFAAAEA024L
				       <isEqual property="strOrgDep" compareValue="N">
					  WHERE ORG_CD = #strDetailOrgCd# 
						</isEqual>
						<isEqual property="strOrgDep" compareValue="Y">
					  WHERE ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
						</isEqual>
			 	        AND DEL_YN = 'N'
			       ORDER BY YR DESC      
	</select>
	
	<select id="FAAAEA002EDetailCriDisListselect" parameterClass="paramMap"	resultClass="resultMap">
					  SELECT D1.YR
							,D1.NNB
							,D1.ORG_CD
							,D1.NTF_DVSN_CD
							,D1.YR||'-'||D1.NNB AS YR_NNB
							,F_CODE_NM('1000650', D1.NTF_DVSN_CD) AS NTF_DVSN_NM
							,D1.TIT_NM
							,F_CODE_NM('1000241', D1.WRDO_CD) AS WRDO_NM
							,D2.DFNT_NM
							,F_CODE_NM('1000058', D2.REL_PEN_RANK_CD) AS REL_PEN_RANK_NM
							,CASE WHEN D1.BAI_RPT_DT IS NOT NULL THEN SUBSTRING(D1.BAI_RPT_DT,0,4)||'.'||SUBSTRING(D1.BAI_RPT_DT,5,2)||'.'||SUBSTRING(D1.BAI_RPT_DT,7,2) ELSE D1.BAI_RPT_DT END AS BAI_RPT_DT
							,CASE WHEN D1.ACP_STA_CD IN ('58','59') THEN '미접수'
							WHEN D1.ACP_STA_CD IN ('71','72') THEN '처리중' 
							WHEN D1.ACP_STA_CD IN ('75','76') THEN '결재중' 
							WHEN D1.ACP_STA_CD = '77'         THEN '완결'
							ELSE D1.ACP_STA_CD 
							END AS ACP_STA_NM
					   FROM TBBADGDA001M D1
		    LEFT OUTER JOIN TBBADGDA001L D2
						 ON D1.ORG_CD = D2.ORG_CD(+)
						AND D1.NTF_DVSN_CD = D2.NTF_DVSN_CD(+)
						AND D1.NNB = D2.NNB(+)
						AND D2.SRNO = '1'
					  WHERE D1.NTF_DVSN_CD = '1' 
		<isEqual property="strDetailChkYn" compareValue="Y">
			<isEqual property="strOrgDep" compareValue="N">
				        AND D1.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
				        AND D1.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isEqual property="strDetailChkYn" compareValue="">
			<isEqual property="strOrgDep" compareValue="N">
					    AND D1.ORG_CD = #strDetailOrgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
					    AND D1.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isNotEmpty property="strWrdoCd1">
						AND D1.WRDO_CD = #strWrdoCd1#
		</isNotEmpty>
		<isNotEmpty property="strBaiRptSDt1">
						AND D1.BAI_RPT_DT <![CDATA[>=]]> #strBaiRptSDt1#
		</isNotEmpty>
		<isNotEmpty property="strBaiRptEDt1">
						AND D1.BAI_RPT_DT <![CDATA[<=]]> #strBaiRptEDt1#
		</isNotEmpty>
		           ORDER BY D1.YR DESC, D1.NNB, D1.TIT_NM , D1.BAI_RPT_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailWrdoCdList1select" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT DISTINCT WRDO_CD
							,F_CODE_NM('1000241', WRDO_CD) AS WRDO_NM
					   FROM TBBADGDA001M
					  WHERE WRDO_CD IS NOT NULL
				   ORDER BY WRDO_NM
	</select>
	
	<select id="FAAAEA002EDetailCriDisselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT D1.YR||'-'||D1.NNB AS YR_NNB
							,F_CODE_NM('1000650', D1.NTF_DVSN_CD) AS NTF_DVSN_NM
							,F_ORG_INFO(D1.COPT_ORG_CD, '1') AS COPT_ORG_NM
							,TIT_NM
							,CASE WHEN D1.BAI_RPT_DT IS NOT NULL THEN SUBSTRING(D1.BAI_RPT_DT,0,4)||'.'||SUBSTRING(D1.BAI_RPT_DT,5,2)||'.'||SUBSTRING(D1.BAI_RPT_DT,7,2) ELSE D1.BAI_RPT_DT END AS BAI_RPT_DT
							,F_CODE_NM('1000241',D1.WRDO_CD) AS WRDO_NM
							,CASE WHEN D1.TSK_CAT_CD = '0' THEN '직무와 관련' 
							 WHEN D1.TSK_CAT_CD = '1' THEN '직무와무관' 
							 ELSE ''
							 END AS TSK_CAT_NM
							,D1.DOC_ID            
							,D2.FILE_NAME
							,CASE WHEN D1.ACP_DT IS NOT NULL THEN SUBSTRING(D1.ACP_DT,0,4)||'.'||SUBSTRING(D1.ACP_DT,5,2)||'.'||SUBSTRING(D1.ACP_DT,7,2) ELSE D1.ACP_DT END AS ACP_DT
							,D1.PNP_NTF_PRSC_NM
							,D1.PNP_NTF_POLICE_NM
							,D1.PNP_NTF_RCEP_NM
							,D1.PNP_NTF_PRSC_DOC_NO
							,D1.PNP_NTF_POLICE_DOC_NO
							,F_ORG_INFO(D1.PRAC_ORG_CD,'1') AS PRAC_ORG_NM
							,CASE WHEN D1.DOC_DT IS NOT NULL THEN SUBSTRING(D1.DOC_DT,0,4)||'.'||SUBSTRING(D1.DOC_DT,5,2)||'.'||SUBSTRING(D1.DOC_DT,7,2) ELSE D1.DOC_DT END AS HNDL_DT
							,CASE WHEN D1.DTEN_DT IS NOT NULL THEN SUBSTRING(D1.DTEN_DT,0,4)||'.'||SUBSTRING(D1.DTEN_DT,5,2)||'.'||SUBSTRING(D1.DTEN_DT,7,2) ELSE D1.DTEN_DT END AS DTEN_DT
							,D1.OPM_NO
							,CASE WHEN D1.PRS_NEWS_DT IS NOT NULL THEN SUBSTRING(D1.PRS_NEWS_DT,0,4)||'.'||SUBSTRING(D1.PRS_NEWS_DT,5,2)||'.'||SUBSTRING(D1.PRS_NEWS_DT,7,2) ELSE D1.PRS_NEWS_DT END AS PRS_NEWS_DT
					   FROM TBBADGDA001M D1
			LEFT OUTER JOIN ECM_FILE_LIST_VIEW2 D2
						 ON D1.DOC_ID = D2.DOC_ID
				      WHERE 1=1
		<isNotEmpty property="strYr">
					    AND D1.YR = #strYr#
	 	</isNotEmpty>
	 	<isNotEmpty property="strNnb">
					    AND D1.NNB = #strNnb#
		</isNotEmpty>
		<isNotEmpty property="strOrgCd">
					    AND D1.ORG_CD = #strOrgCd#
		</isNotEmpty>
		<isNotEmpty property="strNtfDvsnCd">
					    AND D1.NTF_DVSN_CD = #strNtfDvsnCd#
		</isNotEmpty> 
	</select>
	
	<select id="FAAAEA002EDetailCriManListselect" parameterClass="paramMap"	resultClass="resultMap">
				 SELECT SRNO
						,DFNT_NM
						,F_ORG_INFO(ATP_BLT_ORG_CD,'1')   AS ATP_BLT_ORG_NM
						,CASE WHEN DSP_DT IS NOT NULL THEN SUBSTRING(DSP_DT,0,4)||'.'||SUBSTRING(DSP_DT,5,2)||'.'||SUBSTRING(DSP_DT,7,2) ELSE DSP_DT END AS DSP_DT
						,F_CODE_NM('1000249', ENFM_TYP_CD)      AS ENFM_TYP_NM 
						FROM TBBADGDA001L
						WHERE 1=1
		<!-- <isNotEmpty property="strYr">
					    AND YR = #strYr#
	 	</isNotEmpty> -->
	 	<isNotEmpty property="strNnb">
					    AND NNB = #strNnb#
		</isNotEmpty>
		<isNotEmpty property="strOrgCd">
					    AND ORG_CD = #strOrgCd#
		</isNotEmpty>
		<isNotEmpty property="strNtfDvsnCd">
					    AND NTF_DVSN_CD = #strNtfDvsnCd#
		</isNotEmpty>
						ORDER BY SRNO, DFNT_NM, ATP_BLT_ORG_NM
	</select>
	
	<select id="FAAAEA002EDetailLADListselect" parameterClass="paramMap"	resultClass="resultMap">
				     SELECT D1.YR
							,D1.NNB
							,D1.ORG_CD
							,D1.NTF_DVSN_CD
							,D1.YR||'-'||D1.NNB AS YR_NNB
							,F_CODE_NM('1000650', D1.NTF_DVSN_CD) AS NTF_DVSN_NM
							,D1.TIT_NM
                            ,D1.LOS_AM
							,D2.DFNT_NM
							,F_CODE_NM('1000058', D2.REL_PEN_RANK_CD) AS REL_PEN_RANK_NM
							,CASE WHEN D2.DSP_DT IS NOT NULL THEN SUBSTRING(D2.DSP_DT,0,4)||'.'||SUBSTRING(D2.DSP_DT,5,2)||'.'||SUBSTRING(D2.DSP_DT,7,2) ELSE D2.DSP_DT END AS DSP_DT
                            ,CASE WHEN D1.BAI_RPT_DT IS NOT NULL THEN SUBSTRING(D1.BAI_RPT_DT,0,4)||'.'||SUBSTRING(D1.BAI_RPT_DT,5,2)||'.'||SUBSTRING(D1.BAI_RPT_DT,7,2) ELSE D1.BAI_RPT_DT END AS BAI_RPT_DT
					   FROM TBBADGDA001M D1
		    LEFT OUTER JOIN TBBADGDA001L D2
						 ON D1.ORG_CD = D2.ORG_CD(+)
						AND D1.NTF_DVSN_CD = D2.NTF_DVSN_CD(+)
						AND D1.NNB = D2.NNB(+)
						AND D2.SRNO = '1'
					  WHERE D1.NTF_DVSN_CD = '2' 
		<isEqual property="strDetailChkYn" compareValue="Y">
			<isEqual property="strOrgDep" compareValue="N">
				        AND D1.ORG_CD = #strDetailOrgCd#
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
				        AND D1.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>	
		</isEqual>
		<isEqual property="strDetailChkYn" compareValue="">
			<isEqual property="strOrgDep" compareValue="N">
					    AND D1.ORG_CD = #strDetailOrgCd# 
			</isEqual>
			<isEqual property="strOrgDep" compareValue="Y">
					    AND D1.ORG_CD LIKE REPLACE(#strDetailOrgCd#,'000','') || '%'
			</isEqual>
		</isEqual>
		<isNotEmpty property="strTitNm2">
						AND D1.TIT_NM LIKE '%'||#strTitNm2#||'%'
		</isNotEmpty>
		<isNotEmpty property="strBaiRptSDt2">
						AND D1.BAI_RPT_DT <![CDATA[>=]]> #strBaiRptSDt2#
		</isNotEmpty>
		<isNotEmpty property="strBaiRptEDt2">
						AND D1.BAI_RPT_DT <![CDATA[<=]]> #strBaiRptEDt2#
		</isNotEmpty>
		           ORDER BY D1.YR DESC, D1.NNB, D1.TIT_NM , D1.BAI_RPT_DT DESC
	</select>
	
	<select id="FAAAEA002EDetailLADselect" parameterClass="paramMap"	resultClass="resultMap">
					 SELECT D1.YR||'-'||D1.NNB AS YR_NNB
							,F_CODE_NM('1000650', D1.NTF_DVSN_CD) AS NTF_DVSN_NM
							,F_ORG_INFO(D1.COPT_ORG_CD, '1') AS COPT_ORG_NM
							,D1.TIT_NM
                            ,D1.LOS_AM
                            ,CASE WHEN D1.BAI_RPT_DT IS NOT NULL THEN SUBSTRING(D1.BAI_RPT_DT,0,4)||'.'||SUBSTRING(D1.BAI_RPT_DT,5,2)||'.'||SUBSTRING(D1.BAI_RPT_DT,7,2) ELSE D1.BAI_RPT_DT END AS BAI_RPT_DT
                            ,F_CODE_NM('1000202', D1.OGN_DVSN_CD) AS OGN_DVSN_NM
                            ,F_CODE_NM('1000201', D1.WRDO_CD) AS WRDO_NM
                            ,D1.SLF_CPS_AM
                            ,D1.DOC_ID            
							,D2.FILE_NAME
					   FROM TBBADGDA001M D1
			LEFT OUTER JOIN ECM_FILE_LIST_VIEW2 D2
						 ON D1.DOC_ID = D2.DOC_ID
				      WHERE 1=1
		<isNotEmpty property="strYr">
					    AND D1.YR = #strYr#
	 	</isNotEmpty>
	 	<isNotEmpty property="strNnb">
					    AND D1.NNB = #strNnb#
		</isNotEmpty>
		<isNotEmpty property="strOrgCd">
					    AND D1.ORG_CD = #strOrgCd#
		</isNotEmpty>
		<isNotEmpty property="strNtfDvsnCd">
					    AND D1.NTF_DVSN_CD = #strNtfDvsnCd#
		</isNotEmpty> 
	</select>
	
	<select id="FAAAEA002EDetailLADManListselect" parameterClass="paramMap"	resultClass="resultMap">
 				 SELECT SRNO
						,DFNT_NM
						,F_ORG_INFO(ATP_BLT_ORG_CD,'1')   AS ATP_BLT_ORG_NM
						,CASE WHEN DSP_DT IS NOT NULL THEN SUBSTRING(DSP_DT,0,4)||'.'||SUBSTRING(DSP_DT,5,2)||'.'||SUBSTRING(DSP_DT,7,2) ELSE DSP_DT END AS DSP_DT
						,F_CODE_NM('1000249', ENFM_TYP_CD)      AS ENFM_TYP_NM
				   FROM TBBADGDA001L
				  WHERE 1=1
		<!-- <isNotEmpty property="strYr">
					    AND YR = #strYr#
	 	</isNotEmpty> -->
	 	<isNotEmpty property="strNnb">
					    AND NNB = #strNnb#
		</isNotEmpty>
		<isNotEmpty property="strOrgCd">
					    AND ORG_CD = #strOrgCd#
		</isNotEmpty>
		<isNotEmpty property="strNtfDvsnCd">
					    AND NTF_DVSN_CD = #strNtfDvsnCd#
		</isNotEmpty>
						ORDER BY SRNO, DFNT_NM, ATP_BLT_ORG_NM
	</select>
</sqlMap> 
