<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/cis/404">
	<select id="CSPCIS404PMainSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT	SRNO
					,T1.NAM
					,T1.JB_NM
					,T1.PST_NM
					,T1.TNB
					,T1.EXTL_LCT_TYP_CD
					,T1.ACTV_TYP_CD
					,T1.ORG_NM
					,T1.RPST_PEN_NM
					,T1.CHR_DPT_NM
					,T1.RQR_TNB
					,T1.TIT_NM
					,T1.RQS_RSN_TXT
					,T1.THM_TXT
					,T1.RQS_DH
					,T1.RQS_PLC_NM
					,T1.CAS_TAM
					,T1.CAS_AV_AM
					,T1.RM_EXS_TAM
					,T1.RM_EXS_AV_AM
					,T1.EXCS_CAS_AM
					,T1.RTRN_TXT
					,T1.RMK_TXT
					,T1.DOC_ID
					,T1.ANS_TXT
					,T1.ANS_PEN_CNB
					,T1.HNDL_STA_CD
					,F_CODE_NM('1000760',T1.HNDL_STA_CD) AS HNDL_STA_NM
					,TO_CHAR(T1.FRT_REGI_DH,'YYYY-MM-DD HH24:MI') FRT_REGI_DH
			FROM	TBCSPCIS404M T1
			WHERE	T1.FRT_USR_ID = #strUSR_ID#
		]]>
	</select>
	
	<insert id="CSPCIS404PInsert" parameterClass="paramMap">
		<![CDATA[
			INSERT INTO TBCSPCIS404M
					(	SRNO
						,NAM
						,JB_NM
						,PST_NM
						,TNB
						,EXTL_LCT_TYP_CD
						,ACTV_TYP_CD
						,ORG_NM
						,RPST_PEN_NM
						,CHR_DPT_NM
						,RQR_TNB
						,TIT_NM
						,RQS_RSN_TXT
						,THM_TXT
						,RQS_DH
						,RQS_PLC_NM
						,CAS_TAM
						,CAS_AV_AM
						,RM_EXS_TAM
						,RM_EXS_AV_AM
						,EXCS_CAS_AM
						,RTRN_TXT
						,RMK_TXT
						,DOC_ID
						,HNDL_STA_CD
						,FRT_USR_ID
						,FNL_USR_ID
						,FNL_DEAL_DPT_CD
						,FNL_MNU_ID
						,FRT_REGI_DH
						,FNL_MDF_DH
					)
				VALUES	(	(	SELECT 	NVL(MAX(SRNO),0)+1
								FROM	TBCSPCIS404M
							)
							,#NAM#
							,#JB_NM#
							,#PST_NM#
							,#TNB#
							,#EXTL_LCT_TYP_CD#
							,#ACTV_TYP_CD#
							,#ORG_NM#
							,#RPST_PEN_NM#
							,#CHR_DPT_NM#
							,#RQR_TNB#
							,#TIT_NM#
							,#RQS_RSN_TXT#
							,#THM_TXT#
							,#RQS_DH#
							,#RQS_PLC_NM#
							,#CAS_TAM#
							,#CAS_AV_AM#
							,#RM_EXS_TAM#
							,#RM_EXS_AV_AM#
							,#EXCS_CAS_AM#
							,#RTRN_TXT#
							,#RMK_TXT#
							,#DOC_ID#
							,'1'
							,#FRT_USR_ID#
							,#FNL_USR_ID#
							,#FNL_DEAL_DPT_CD#
							,#FNL_MNU_ID#
							,SYSDATE
							,SYSDATE
						)
		]]>
	</insert>
	
	<update id="CSPCIS404PUpdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE	TBCSPCIS404M
			SET		NAM=#NAM#
					,JB_NM=#JB_NM#
					,PST_NM=#PST_NM#
					,TNB=#TNB#
					,EXTL_LCT_TYP_CD=#EXTL_LCT_TYP_CD#
					,ACTV_TYP_CD=#ACTV_TYP_CD#
					,ORG_NM=#ORG_NM#
					,RPST_PEN_NM=#RPST_PEN_NM#
					,CHR_DPT_NM=#CHR_DPT_NM#
					,RQR_TNB=#RQR_TNB#
					,TIT_NM=#TIT_NM#
					,RQS_RSN_TXT=#RQS_RSN_TXT#
					,THM_TXT=#THM_TXT#
					,RQS_DH=#RQS_DH#
					,RQS_PLC_NM=#RQS_PLC_NM#
					,CAS_TAM=#CAS_TAM#
					,CAS_AV_AM=#CAS_AV_AM#
					,RM_EXS_TAM=#RM_EXS_TAM#
					,RM_EXS_AV_AM=#RM_EXS_AV_AM#
					,EXCS_CAS_AM=#EXCS_CAS_AM#
					,RTRN_TXT=#RTRN_TXT#
					,RMK_TXT=#RMK_TXT#
					,DOC_ID=#DOC_ID#
					,HNDL_STA_CD=#HNDL_STA_CD#
					,FNL_USR_ID=#FNL_USR_ID#
					,FNL_DEAL_DPT_CD=#FNL_DEAL_DPT_CD#
					,FNL_MNU_ID=#FNL_MNU_ID#
					,FNL_MDF_DH=SYSDATE
			WHERE	SRNO = #SRNO#
		]]>
	</update>
	
	<delete id="CSPCIS404PMainDelete" parameterClass="paramMap">
		<![CDATA[
			DELETE
			FROM	TBCSPCIS404M
			WHERE	SRNO = #SRNO#
		]]>
	</delete>
</sqlMap> 
