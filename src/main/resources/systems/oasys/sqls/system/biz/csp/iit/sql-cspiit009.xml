<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="csp/iit/009">
	
	<select id="CSPIIT009EMainSelect" parameterClass="paramMap"
		resultClass="resultMap">
		<include refid = "include.pageSelct"/>
        <![CDATA[
			SELECT 	A.PC_MNG_CD,        /*PC관리코드*/
					A.PC_SE_CAT_CD,   	/*PC용도분류코드*/
			 		A.PSSN_DVSN_CD, 		/*소유구분코드*/
			 		A.PC_USE_DVSN_CD, 	/*PC사용구분코드*/
			 		(	SELECT CD_NM 
                		FROM    TBDCMACM013C S1
               			WHERE   S1.CMM_CD_DVSN_CD ='1000144'
                		AND     S1.CD <> '000000000'
                		AND     S1.CD = A.DPT_CD
                	) AS DPT_NM,
			 		
			 		(	SELECT S1.USR_NAM
			 			FROM	TBDCMACM001M S1
			 			WHERE	S1.CNB = A.CNB
			 		) AS USR_NAM,										
			 		A.PC_KND_CD,       	 /*PC종류코드*/
			 		A.PC_EQP_CD,		/*PC장비코드*/								
			 		A.PC_SRNO,			/*시리얼번호*/
			 		A.ITDC_DT,          /*도입일*/
			 		A.ISL_DT,			/*설치일*/
			 		A.STRG_DT,          /*보관일*/
			 		A.ABRG_DT,          /*폐기일*/
			 		A.PC_MNG_RMK,              /*비고*/
			 		A.CNB,			/*전산번호*/
			 		A.DPT_CD,		/*부서코드*/
			 		A.ETC_SBJ,
			 		A.CNB AS OLD_CNB,
			 		(	SELECT S1.USR_NAM
			 			FROM	TBDCMACM001M S1
			 			WHERE	S1.CNB = A.CNB
			 		) AS OLD_USR_NAM,
			 		A.DPT_CD AS OLD_DPT_CD,
			 		A.PC_USE_DVSN_CD AS OLD_PC_USE_DVSN_CD,
			 		(SELECT Z.DPT_NM 
			 		FROM 	TBDCMACM002M Z 
			 		WHERE 	A.DPT_CD = Z.DPT_CD) AS OLD_DPT_NM,
			 		(	SELECT CD_NM 
                		FROM    TBDCMACM013C S1
               			WHERE   S1.CMM_CD_DVSN_CD ='1000173'
                		AND     S1.CD <> '000000000'
                		AND     S1.CD = (SELECT S2.RANK_CD FROM TBDCMACM001M S2 WHERE S2.CNB = A.CNB )
                	) AS RANK_NM
			 		,MNT_DVSN_CD
			 		,(	SELECT CD_NM 
                		FROM    TBDCMACM013C S1
               			WHERE   S1.CMM_CD_DVSN_CD ='1000800'
                		AND     S1.CD <> '000000000'
                		AND     S1.CD = A.MNT_DVSN_CD
                	) AS MNT_DVSN_NM
                	,MNT_DVSN_CD2 /*모니터2 추가 20170706 EUNOK*/
			 		,(	SELECT CD_NM 
                		FROM    TBDCMACM013C S1
               			WHERE   S1.CMM_CD_DVSN_CD ='1000800'
                		AND     S1.CD <> '000000000'
                		AND     S1.CD = A.MNT_DVSN_CD2
                	) AS MNT_DVSN_NM2
                	,(NVL2(A.IP_AD_1, A.IP_AD_1 || '.', '') || NVL2(A.IP_AD_2, A.IP_AD_2 || '.', '') || NVL2(A.IP_AD_3, A.IP_AD_3 || '.', '')  || NVL2(A.IP_AD_4, A.IP_AD_4 , '') ) AS PC_IP  /*IP  20170707 EUNOK*/
                	,A.ASST_NO
			FROM   	TBCSPIIT005M A	/*PC장비관리테이블*/
			WHERE	1=1
			
        ]]>
        <dynamic>
        	<isNotEmpty property="strPC_KND_CD">
        		AND	A.PC_KND_CD = #strPC_KND_CD#
        	</isNotEmpty>
        	<isEmpty property="strPC_USE_DVSN_CD">
        		AND	A.PC_USE_DVSN_CD IN ('F','K','Y')
        	</isEmpty>
        	<isNotEmpty property="strPC_USE_DVSN_CD">
        		AND	A.PC_USE_DVSN_CD = #strPC_USE_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strDPT_CD">
        		AND	A.DPT_CD = #strDPT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_EQP_CD">
        		AND	A.PC_EQP_CD = #strPC_EQP_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_MNG_CD">
        		AND	UPPER(A.PC_MNG_CD) LIKE '%'||UPPER(#strPC_MNG_CD#)||'%'
        	</isNotEmpty>
        	<isNotEmpty property="strPC_SE_CAT_CD">
        		AND	A.PC_SE_CAT_CD = #strPC_SE_CAT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPSSN_DVSN_CD">
        		AND	A.PSSN_DVSN_CD = #strPSSN_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strSEARCH_NM">
        		AND	((SELECT S1.USR_NAM
                                  FROM TBDCMACM001M S1
                                 WHERE S1.CNB = A.CNB ) LIKE '%'||#strSEARCH_NM#||'%'
        				OR UPPER(A.PC_MNG_CD) LIKE '%' ||UPPER(#strSEARCH_NM#)||'%'
	        	<isNotEmpty property="strSEARCH_MORE01"> 
                	OR A.CNB LIKE '%'||#strSEARCH_NM#||'%'
	        	</isNotEmpty>
	        	<isNotEmpty property="strSEARCH_MORE02"> 
        			OR UPPER(A.PC_SRNO) LIKE '%'||UPPER(#strSEARCH_NM#)||'%' 
	        	</isNotEmpty>
	        	<isNotEmpty property="strSEARCH_MORE03"> 
	        		OR UPPER(A.ASST_NO) LIKE '%'||UPPER(#strSEARCH_NM#)||'%' 
	        	</isNotEmpty>
	        	<isNotEmpty property="strSEARCH_MORE04"> 
	        		OR (NVL2(A.IP_AD_1, A.IP_AD_1 || '.', '') || NVL2(A.IP_AD_2, A.IP_AD_2 || '.', '') || NVL2(A.IP_AD_3, A.IP_AD_3 || '.', '')  || NVL2(A.IP_AD_4, A.IP_AD_4 , '') ) LIKE '%'|| #strSEARCH_NM# ||'%'
	        	</isNotEmpty>
	        	<isNotEmpty property="strSEARCH_MORE05"> 
                    OR UPPER(A.PC_MNG_RMK) LIKE '%'||UPPER(#strSEARCH_NM#)||'%'
	        	</isNotEmpty>
	        	<isNotEmpty property="strSEARCH_MORE06"> 
	        		OR UPPER(A.ETC_SBJ) LIKE '%'||UPPER(#strSEARCH_NM#)||'%' 
	        	</isNotEmpty>
	        	)
        	</isNotEmpty>
        	
        	
        	
        	
        	
        	<isNotEmpty property="strMNT_DVSN_CD3">
        		AND	(A.MNT_DVSN_CD = #strMNT_DVSN_CD3# OR A.MNT_DVSN_CD2 = #strMNT_DVSN_CD3# )/* 모니터모델  변경 strMNT_DVSN_CD-> strMNT_DVSN_CD3 20170714 EUNOK*/
        	</isNotEmpty>
        	<isNotEmpty property="strINS_DT"> 
        		AND	TO_CHAR(TO_DATE(ITDC_DT),'YYYYMMDD') <![CDATA[>=]]> #strINS_DT# /*도입 시작일 20170707 EUNOK*/
        	</isNotEmpty>
        	<isNotEmpty property="strINE_DT">/*도입 종료일  20170707 EUNOK*/
        		AND	TO_CHAR(TO_DATE(ITDC_DT),'YYYYMMDD') <![CDATA[<=]]> #strINE_DT# /*도입 시작일 20170707 EUNOK*/
        	</isNotEmpty>
        	<isEqual property="strlblSORT_CD" compareValue="1">
        		ORDER BY A.PC_MNG_CD DESC
        	</isEqual>
        	<isEqual property="strlblSORT_CD" compareValue="2">
        		ORDER BY A.PC_EQP_CD DESC
        	</isEqual>
        	<isEqual property="strlblSORT_CD" compareValue="3">
        		ORDER BY A.DPT_CD DESC
        	</isEqual>
        </dynamic>
        <include refid = "include.pageOrder"/> 
	</select>        
	
	
	<!-- PC장비관리 엑셀다운 -->
	<select id="CSPIIT009EExcelExportSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT 	A.PC_MNG_CD,        /*PC관리코드*/
					F_CODE_NM('1000306',A.PC_SE_CAT_CD) AS PC_SE_CAT_CD,   	/*PC용도분류코드*/
			 		F_CODE_NM('1000307',A.PSSN_DVSN_CD) AS PSSN_DVSN_CD, 		/*소유구분코드*/
			 		F_CODE_NM('1000305',A.PC_USE_DVSN_CD) AS PC_USE_DVSN_CD, 	/*PC사용구분코드*/
			 		F_CODE_NM('1000144',A.DPT_CD) AS DPT_NM,
			 		F_USR_INFO(A.CNB,'2') AS USR_NAM, 	/*전산번호*/			
			 		F_CODE_NM('1000173' , f_usr_info(a.cnb,'3')) AS RANK_NM,								
			 		F_CODE_NM('1000170',A.PC_KND_CD) AS PC_KND_CD,       	 /*PC종류코드*/
			 		(	SELECT 	PC_EQP_NM
			 			FROM	TBCSPIIT011C Z
			 			WHERE	A.PC_EQP_CD = Z.PC_EQP_CD) AS PC_EQP_CD,	/*PC장비코드*/								
			 		A.PC_SRNO,			/*시리얼번호*/
			 		TO_CHAR(TO_DATE(A.ITDC_DT),'YYYY-MM-DD') AS ITDC_DT,          /*도입일*/
			 		TO_CHAR(TO_DATE(A.ISL_DT),'YYYY-MM-DD') AS ISL_DT,			/*설치일*/
			 		TO_CHAR(TO_DATE(A.STRG_DT),'YYYY-MM-DD') AS STRG_DT,          /*보관일*/
			 		TO_CHAR(TO_DATE(A.ABRG_DT),'YYYY-MM-DD') AS ABRG_DT,          /*폐기일*/
			 		A.PC_MNG_RMK,              /*비고*/
			 		F_CODE_NM('1000800',MNT_DVSN_CD) AS MNT_DVSN_NM,/*모니터1*/
			 		F_CODE_NM('1000800',MNT_DVSN_CD2) AS MNT_DVSN_NM2, /*모니터2*/
			 		(NVL2(A.IP_AD_1, A.IP_AD_1 || '.', '') || NVL2(A.IP_AD_2, A.IP_AD_2 || '.', '') || NVL2(A.IP_AD_3, A.IP_AD_3 || '.', '')  || NVL2(A.IP_AD_4, A.IP_AD_4 , '') ) AS PC_IP, /*IP*/
			 		A.CNB,
			 		A.DPT_CD,
			 		CASE WHEN SUBSTR(A.DPT_CD,0,3)||'000' = A.DPT_CD THEN F_DPT_INFO(A.DPT_CD,'1')
			 		ELSE F_DPT_INFO(SUBSTR(A.DPT_CD,0,3)||'000','1') END AS H_DPT_NM,
			 		B.USR_DFN_TXT_3,
			 		A.ASST_NO,
       				A.ETC_SBJ
			FROM   	TBCSPIIT005M A	/*PC장비관리테이블*/
					,TBDCMACM013C B
			WHERE	1=1
			AND A.DPT_CD = B.CD(+)
			AND B.CMM_CD_DVSN_CD(+) = '1000144'
			
        ]]>
        <dynamic>
        	<isNotEmpty property="strPC_KND_CD">
        		AND	A.PC_KND_CD = #strPC_KND_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_USE_DVSN_CD">
        		AND	A.PC_USE_DVSN_CD = #strPC_USE_DVSN_CD#
        	</isNotEmpty>
        	<isEmpty property="strPC_USE_DVSN_CD">
        		AND	A.PC_USE_DVSN_CD IN ('F','K','Y')
        	</isEmpty>
        	<isNotEmpty property="strDPT_CD">
        		AND	A.DPT_CD = #strDPT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_EQP_CD">
        		AND	A.PC_EQP_CD = #strPC_EQP_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_MNG_CD">
        		AND	UPPER(A.PC_MNG_CD) LIKE '%'||UPPER(#strPC_MNG_CD#)||'%'
        	</isNotEmpty>
        	<isNotEmpty property="strIP_AD_1">
        		AND	A.IP_AD_1 = #strIP_AD_1#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_SE_CAT_CD">
        		AND	A.PC_SE_CAT_CD = #strPC_SE_CAT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPSSN_DVSN_CD">
        		AND	A.PSSN_DVSN_CD = #strPSSN_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strSEARCH_NM">
        		AND	(F_USR_INFO(A.CNB,'2') LIKE '%'||#strSEARCH_NM#||'%' OR A.CNB LIKE '%'||#strSEARCH_NM#||'%'
        				OR UPPER(A.PC_MNG_RMK) LIKE '%'||UPPER(#strSEARCH_NM#)||'%' OR UPPER(ETC_SBJ) LIKE '%'||UPPER(#strSEARCH_NM#)||'%'
        				OR UPPER(A.PC_MNG_CD) LIKE '%' ||UPPER(#strSEARCH_NM#)||'%'
        				OR UPPER(A.ASST_NO) LIKE '%'   ||UPPER(#strSEARCH_NM#)||'%'
        				OR (NVL2(A.IP_AD_1, A.IP_AD_1 || '.', '') || NVL2(A.IP_AD_2, A.IP_AD_2 || '.', '') || NVL2(A.IP_AD_3, A.IP_AD_3 || '.', '')  || NVL2(A.IP_AD_4, A.IP_AD_4 , '') ) LIKE '%'|| #strSEARCH_NM# ||'%')
        	</isNotEmpty>
        	<isNotEmpty property="strMNT_DVSN_CD">
        		AND	A.MNT_DVSN_CD = #strMNT_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strINS_DT"> /*도입 시작일 20170707 EUNOK*/
        		<![CDATA[ AND	TO_CHAR(TO_DATE(ITDC_DT),'YYYYMMDD') >= #strINS_DT# ]]>
        	</isNotEmpty>
        	<isNotEmpty property="strINE_DT">/*도입 종료일  20170707 EUNOK*/
        		<![CDATA[ AND	TO_CHAR(TO_DATE(ITDC_DT),'YYYYMMDD') <= #strINE_DT#]]> 
        	</isNotEmpty>
        </dynamic>
        ORDER BY B.USR_DFN_TXT_3 ASC
	</select>    
	
	<insert id="CSPIIT009EMainInsert" parameterClass="paramMap">
        <![CDATA[
			INSERT INTO TBCSPIIT005M       
			(	
					PC_MNG_CD,          /*PC관리코드     */
					DPT_CD,              /*부서코드       */
					PC_KND_CD,           /*PC종류코드     */
					PC_EQP_CD,           /*PC장비코드     */
					ITDC_DT,             /*도입일         */
					CNB,                 /*전산번호       */    
					PC_USE_DVSN_CD,      /*PC사용구분코드 */
					PC_SE_CAT_CD,       /*PC용도분류코드 */
					PSSN_DVSN_CD,         /*소유구분코드   */
					ISL_DT,				 /*설치일*/
					PC_MNG_RMK,				 /*비고*/
					PC_SRNO,
					FRT_USR_ID,
					FNL_USR_ID,
					FNL_DEAL_DPT_CD,
					FNL_MNU_ID,
					FRT_REGI_DH,
					FNL_MDF_DH,
					MNT_DVSN_CD, /*모니터1*/
					MNT_DVSN_CD2,/*모니터2*/
					IP_AD_1,/*IP1*/
					IP_AD_2,/*IP2*/
					IP_AD_3,/*IP3*/
					IP_AD_4, /*IP4*/
					ETC_SBJ,
					ASST_NO
			) VALUES (
					#PC_MNG_CD#,                      
					#DPT_CD#, 
					#PC_KND_CD#, 
					#PC_EQP_CD#, 
					#ITDC_DT#, 
					#CNB#, 
					#PC_USE_DVSN_CD#, 
					#PC_SE_CAT_CD#, 
					#PSSN_DVSN_CD#,
					#ISL_DT#,
					#PC_MNG_RMK#,
					#PC_SRNO#,
					#FRT_USR_ID#,
					#FNL_USR_ID#,
					#FNL_DEAL_DPT_CD#,
					#FNL_MNU_ID#,
					SYSDATE,
					SYSDATE,
					#MNT_DVSN_CD#,
					#MNT_DVSN_CD2#,
					#PC_AD_1#,
					#PC_AD_2#,
					#PC_AD_3#,
					#PC_AD_4#,
					#ETC_SBJ#,
					#ASST_NO#
					
			)
        ]]>
	</insert>        
	<update id="CSPIIT009EMainUpdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE	TBCSPIIT005M  				/*PC장비관리 테이블*/
			SET		DPT_CD = #DPT_CD#, 			/*부서코드*/
					PC_KND_CD = #PC_KND_CD#,	/*PC종류코드*/
					PC_EQP_CD = #PC_EQP_CD#, 	/*PC장비코드*/
					ITDC_DT = #ITDC_DT#,		/*도입일*/
					CNB = #CNB#,	/*전산번호*/
					PC_USE_DVSN_CD = #PC_USE_DVSN_CD#,	/*PC사용구분코드*/
					PC_SE_CAT_CD = #PC_SE_CAT_CD#,	/*PC용도분류코드*/
					PSSN_DVSN_CD = #PSSN_DVSN_CD#,		/*소유구분코드*/
					ISL_DT = #ISL_DT#,	/*설치일*/
					PC_SRNO = #PC_SRNO#,
					STRG_DT = #STRG_DT#,	/*보관일*/
					ABRG_DT = #ABRG_DT#,	/*폐기일*/
					PC_MNG_RMK = #PC_MNG_RMK#,
					FNL_USR_ID = #FNL_USR_ID#,
					FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#,
					FNL_MNU_ID = #FNL_MNU_ID#,
					FNL_MDF_DH = SYSDATE,
					MNT_DVSN_CD = #MNT_DVSN_CD#,/*모니터1*/
					MNT_DVSN_CD2 = #MNT_DVSN_CD2#,/*모니터2*/
					IP_AD_1 = #PC_AD_1#,/*IP1*/
					IP_AD_2 = #PC_AD_2#,/*IP2*/
					IP_AD_3 = #PC_AD_3#,/*IP3*/
					IP_AD_4 = #PC_AD_4#, /*IP4*/
					ASST_NO = #ASST_NO#
		]]>
		<dynamic>
			<isNotEmpty property="ETC_SBJ2">
					, ETC_SBJ = #ETC_SBJ2#||':'||F_CODE_NM('1000305', #PC_USE_DVSN_CD#)||'/'||
					F_CODE_NM('1000306', #PC_SE_CAT_CD#)||'/'||F_CODE_NM('1000307', #PSSN_DVSN_CD#)||')'||CHR(13)||ETC_SBJ
			</isNotEmpty>
		</dynamic>
		<![CDATA[
			WHERE	PC_MNG_CD = #PC_MNG_CD#	
		]]>
	</update>
	
	<delete id="CSPIIT009EMainDelete" parameterClass="paramMap">
		<![CDATA[
			DELETE	FROM TBCSPIIT005M
			WHERE	PC_MNG_CD = #PC_MNG_CD#
		]]>
	</delete>
	<select id="CSPIIT009EPcEqpCdSelect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
			SELECT	PC_EQP_CD AS CD, PC_EQP_NM AS CD_NM, PC_KND_CD
			FROM	TBCSPIIT011C
			WHERE	USE_DVSN_CD = 'Y'
			ORDER BY PC_KND_CD, PC_EQP_CD
		]]> 
	</select>
	
	<select id="CSPIIT009EKeySelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
        	SELECT	PC_MNG_CD
        	FROM	TBCSPIIT005M
        	WHERE	PC_MNG_CD = #PC_MNG_CD#
        ]]> 
	</select>
	
	<select id="CSPIIT009EReportSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT 	A.PC_MNG_CD,        /*PC관리코드*/
					F_CODE_NM('1000306',A.PC_SE_CAT_CD) AS PC_SE_CAT_NM,   	/*PC용도분류코드*/
			 		F_CODE_NM('1000307',A.PSSN_DVSN_CD) AS PSSN_DVSN_NM, 		/*소유구분코드*/
			 		F_CODE_NM('1000305',A.PC_USE_DVSN_CD) AS PC_USE_DVSN_NM, 	/*PC사용구분코드*/
			 		F_CODE_NM('1000144',A.DPT_CD) AS DPT_NM, /*부서코드*/	
			 		F_USR_INFO(A.CNB,'2') AS USR_NAM, 	/*사용자*/											
			 		F_CODE_NM('1000170',A.PC_KND_CD) AS PC_KND_NM,       	 /*PC종류코드*/
			 		F_CODE_NM('1000148',A.PC_EQP_CD) AS PC_EQP_NM,		/*PC장비코드*/								
			 		TO_CHAR(TO_DATE(A.ITDC_DT),'YYYY-MM-DD') AS ITDC_DT ,          /*도입일*/
			 		TO_CHAR(TO_DATE(A.ABRG_DT),'YYYY-MM-DD') AS ABRG_DT,          /*폐기일*/
			 		A.ETC_SBJ,              /*기타사항*/
			 		F_CODE_NM('1000800',MNT_DVSN_CD) AS MNT_DVSN_NM,
			 		CASE WHEN SUBSTR(A.DPT_CD,0,3)||'000' = A.DPT_CD THEN F_DPT_INFO(A.DPT_CD,'1')
			 		ELSE F_DPT_INFO(SUBSTR(A.DPT_CD,0,3)||'000','1') END AS H_DPT_NM,
			 		B.USR_DFN_TXT_3
			FROM   	TBCSPIIT005M A	/*PC장비관리테이블*/
					,TBDCMACM013C B
			WHERE	1=1
			AND A.DPT_CD = B.CD(+)
			AND B.CMM_CD_DVSN_CD(+) = '1000144'
			
        ]]>
        <dynamic>
        	<isNotEmpty property="strPC_KND_CD">
        		AND	A.PC_KND_CD = #strPC_KND_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_USE_DVSN_CD">
        		AND	A.PC_USE_DVSN_CD = #strPC_USE_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strDPT_CD">
        		AND	A.DPT_CD = #strDPT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_EQP_CD">
        		AND	A.PC_EQP_CD = #strPC_EQP_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPC_MNG_CD">
        		AND	UPPER(A.PC_MNG_CD) LIKE '%'||UPPER(#strPC_MNG_CD#)||'%'
        	</isNotEmpty>
        	<isNotEmpty property="strPC_SE_CAT_CD">
        		AND	A.PC_SE_CAT_CD = #strPC_SE_CAT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strPSSN_DVSN_CD">
        		AND	A.PSSN_DVSN_CD = #strPSSN_DVSN_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strSEARCH_NM">
        		AND	(F_USR_INFO(A.CNB,'2') LIKE '%'||#strSEARCH_NM#||'%' OR A.CNB LIKE '%'||#strSEARCH_NM#||'%'
        				OR A.PC_MNG_RMK LIKE '%'||#strSEARCH_NM#||'%' OR ETC_SBJ LIKE '%'||#strSEARCH_NM#||'%')
        	</isNotEmpty>
        	<isNotEmpty property="strMNT_DVSN_CD">
        		AND	A.MNT_DVSN_CD = #strMNT_DVSN_CD#
        	</isNotEmpty>
        	
        	ORDER BY B.USR_DFN_TXT_3 ASC
        </dynamic>
	</select>
	
	<select id="CSPIIT009ERegiDtSelect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
			SELECT	REGI_DT /*REGI_DT(도입일 추가 20170705 EUNOK)*/
			FROM	TBCSPIIT011C
			WHERE	USE_DVSN_CD = 'Y'
			AND PC_EQP_CD = #strPcModelCd#
		]]> 
	</select>
	
	
	
	
</sqlMap> 
