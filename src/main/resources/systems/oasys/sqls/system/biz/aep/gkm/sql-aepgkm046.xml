<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="aep/gkm/046" >
	<!-- PC장비코드관리 내역 조회 -->
	<select id="AEPGKM046QMainSelect" parameterClass="paramMap" resultClass="resultMap">
        <![CDATA[
			SELECT 	A.SRNO, 				/*일련번호*/
					F_CODE_NM('1000728',A.LAG_CAT_CD) AS LAG_CAT_CD,			/*대분류코드*/
					F_CODE_NM('1000729',A.MID_CAT_CD) AS MID_CAT_CD,		/*중분류코드*/
					A.SALL_CAT_CD,			/*소분류코드*/
					A.TIT_NM,			/*제목명*/
					F_CODE_NM('1000731',A.ORG_TYP_CD) AS ORG_TYP_CD,	/*기관유형코드*/
					A.MAIN_ORG_NM			/*주요기관명*/
			FROM	TBAEPGKM019M A	/*PC장비코드*/
			WHERE	1=1
        ]]>
        
        <dynamic>
        	<isNotEmpty property="strLAG_CAT_CD">
        		AND	A.LAG_CAT_CD = #strLAG_CAT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strMID_CAT_CD">
        		AND	A.MID_CAT_CD = #strMID_CAT_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strORG_TYP_CD">
        		AND	A.ORG_TYP_CD = #strORG_TYP_CD#
        	</isNotEmpty>
        	<isNotEmpty property="strTIT_NM">
        		AND	A.TIT_NM LIKE '%'||#strTIT_NM#||'%'
        	</isNotEmpty>
        </dynamic>
        
        <![CDATA[
        	ORDER BY A.SRNO DESC
        ]]>
	</select>  
</sqlMap>

