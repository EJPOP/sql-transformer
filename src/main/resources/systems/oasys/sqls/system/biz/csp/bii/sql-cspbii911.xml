<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="csp/bii/911">

	<!-- GCC연계 기관 목록 조회-->
	<select id="CSPBII911QGccOrgSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT A.GCC_ORG_CD
			     , A.ALL_ORG_NM
			     , A.ORG_DGE_DVSN_CD
			     , A.GCC_HHT_ORG_CD
			     , A.LOWT_ORG_NM
			  FROM TBCSPIIT006M A
			 WHERE A.ONR_YO          = 'Y'
			   AND A.ORG_DGE_DVSN_CD = '1'
			ORDER BY A.ORG_RAK_NO
		]]>
	</select>
	
	<!-- GCC연계 부서 목록 조회-->
	<select id="CSPBII911QGccDptSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT A.GCC_ORG_CD
			     , A.LOWT_ORG_NM
			     , A.ALL_ORG_NM
			     , CASE WHEN A.GCC_SNCL_ORG_CD = #strGccOrgCd# THEN NULL
			            ELSE A.GCC_SNCL_ORG_CD
			       END                                                   AS GCC_SNCL_ORG_CD
			  FROM TBCSPIIT006M A
			START WITH A.GCC_SNCL_ORG_CD  = #strGccOrgCd#
			CONNECT BY PRIOR A.GCC_ORG_CD = A.GCC_SNCL_ORG_CD
			ORDER SIBLINGS BY A.ORG_RAK_NO
		]]>
	</select>
</sqlMap>