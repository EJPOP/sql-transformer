<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="temp/temp/temp">

	<select id="NSYSlogincheckselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[        
			SELECT NCOM001_USER_ID AS "login_id"
				 , NCOM001_USER_OBJ_NO AS "user_obj_no"
				 , NCOM001_USER_NO AS "user_no"
				 , NCOM001_USER_DIV_CD AS "user_div_cd"
				FROM NCOM001TL
			WHERE NCOM001_USER_ID = 'kkj01'			
        ]]>  
	</select>

	<!-- 로그인 사용자정보 조회 -->
	<select id="NSYSloginuserinfoselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[   
	        SELECT 'tschair' AS "login_id"
				 , '0000000098' AS "user_obj_no"
				 , '110237' AS "user_no"
			     , '0000000098' AS "user_obj_idb"
			     , '이감사' AS "user_nm"
			     , '10' AS "user_div_cd"
			     , '감사원' AS "user_div_nm"
			     , '0000000098' AS "emp_obj_no"
			     , '110237' AS "emp_no"
			     , '1' AS "emp_div_no"
			     , '교원' AS "emp_div_nm"
			     , '1' AS "humn_mgt_div_cd"
			     , '01' AS "status_cd"
			     , '109' AS "emp_occu_cd"
			     , '1001' AS "emp_pos_cd"	
			     , '재직' AS "status_nm"
			     , '1' AS "campus_cd"
			     , '0213' AS "dept_cd"
			     , '감사원' AS "dept_nm"
			     , 'U' AS "schl_div_cd"
			     , '0209' AS "col_dept_cd"								
			     , '감사원' AS "col_dept_nm"	
			     , 'AB01111' AS "domino_dept_cd"
			     , '감사원' AS "domino_dept_nm"
			     , 'R000009049' AS "reschr_no"						
			     , NULL AS "tel_no"
			     , NULL AS "menu_limit_yn"
			     FROM NCOM001TL 	
         ]]>
	</select>

	<!-- 외부인 사용자정보 조회 -->
	<select id="NSYSloginexternaluserinfoselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT 'kkj01' AS "login_id"
				  ,'9999949' AS "user_obj_no"
				  ,'9999949' AS "user_no"
				  ,'9999949' AS "user_obj_id"
				  ,'김기준' AS "user_nm"
				  ,'40' AS "user_div_cd"
				  ,'외부인' AS "user_div_nm"
				  ,'' AS "emp_no"
				  ,'' AS "emp_div_cd"
				  ,'' AS "humn_mgt_div_cd"
				  ,'1' AS "campus_cd"
				  ,'5463' AS "dept_cd"
				  ,'차세대정보화추진단' AS "dept_nm"
				  ,'U' AS "schl_div_cd"
				  ,'' AS "col_dept_cd"
				  ,'' AS "col_dept_nm"
				  ,'AN01162' AS "domino_dept_cd"
				  ,'차세대정보화추진단' AS "domino_dept_nm"
				  ,'' AS "reschr_no"
				  ,'' AS "tel_no"
				  ,'Y' AS "sys_mngt_yn"
				  ,'N' AS "menu_limit_yn"
              FROM NCOM001TL
             WHERE NCOM001_USER_ID='kkj01'
        ]]>
	</select>

	<!-- 시스템 로그 -->
	<insert id="NSYSsystemloginsert" parameterClass="paramMap">
        <![CDATA[       
			INSERT INTO NCOM270TL
			(
			      NCOM270_MENU_PGM_ID
			    , NCOM270_USER_NO
			    , NCOM270_REQ_SERVICE_ID
			    , NCOM270_REQ_PARAM
			    , NCOM270_REQ_DTTM
			    , NCOM270_REQ_IP
			) VALUES (
			     #menu_pgm_id#
			    , #user_no#
			    , #req_service_id#
			    , #req_param#
			    , SYSDATE
			    , #req_ip#
			)
        ]]>
	</insert>

	<select id="NSYStopmenuselect" parameterClass="paramMap"
		resultClass="resultMap">
    	<![CDATA[ 
			SELECT DISTINCT NCOM092_SYS_ID
				  , SUB_ID 
			      , SUB_NM 
			      , NCOM092_PRT_STEP 
			FROM NCOMLEFTMENU
		   WHERE NCOM092_SYS_ID = 'NCMN'
             AND SUB_ID = 'NCOM'
		]]>
	</select>
	<select id="NSYSusermidmenuselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
		SELECT * FROM IMSI_SUB_MENU ORDER BY NCOM094_PRT_STEP
        ]]>
	</select>
	<!-- 메뉴 -->
	<select id="NSYSusermenuselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT * 
			  FROM IMSI_TEMP_MENU
			  WHERE 1=1
			    AND USE_YN = 'Y' 
			  ORDER BY MENU_PRT_STEP, PGM_PRT_STEP
        ]]>
	</select>

	<select id="NSYSappmessageselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
        	SELECT SYS_ID||'_'||SUB_ID||'_'||MSG_CD||':'||'"'||REPLACE(REPLACE(REPLACE(KOR_MSG, '\n', '^'), '"', ''''), '''', '')||'"' AS "msg"
			    FROM NCOM230TL
			WHERE 1 = 1
			  AND SYS_ID = #sys_id#
			  AND SUB_ID = #sub_id#
			ORDER BY MSG_CD
        ]]>
	</select>

	<select id="NSYSfindusermenuselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
        	SELECT  D1.NCOM905_MENU_PGM_ID AS "menu_pgm_id"
			      , D5.NCOM091_SYS_NM AS "system_nm"
			      , D6.NCOM092_SUB_NM AS "sub_nm"
			      , D3.NCOM094_MENU_NM AS "menu_nm"
			      , D2.NCOM095_MENU_PGM_NM AS "pgm_nm"
			      , D4.NCOM093_URL AS "url"
			      , D2.NCOM095_MENU_PARAM AS "menu_param"
			      , NVL(D3.NCOM094_PRT_STEP, 99999) AS "menu_prt_step"
			      , NVL(D2.NCOM095_PRT_STEP, 99999) AS "pgm_prt_step"
			    FROM (	
			    			SELECT NCOM905_EMP_NO    
			               , NCOM905_AUTH_GRP_ID
			               , NCOM905_MENU_PGM_ID
			          	FROM NCOM905VW
			    		) D1
			       , NCOM095TL D2
			       , NCOM094TL D3
			       , NCOM093TL D4
			       , NCOM091TL D5
			       , NCOM092TL D6
			WHERE 1 = 1
			  AND D1.NCOM905_MENU_PGM_ID = D2.NCOM095_MENU_PGM_ID
			  AND D2.NCOM095_SYS_ID = D3.NCOM094_SYS_ID
			  AND D2.NCOM095_SUB_ID = D3.NCOM094_SUB_ID
			  AND D2.NCOM095_MENU_ID = D3.NCOM094_MENU_ID
			  AND D2.NCOM095_PGM_ID = D4.NCOM093_PGM_ID
			  AND D2.NCOM095_SYS_ID = D5.NCOM091_SYS_ID
			  AND D2.NCOM095_SYS_ID = D6.NCOM092_SYS_ID
			  AND D2.NCOM095_SUB_ID = D6.NCOM092_SUB_ID
			  AND NVL(D2.NCOM095_MENU_YN, 'N') = 'Y'
			  AND D2.NCOM095_MENU_PGM_NM LIKE '%'||#menu_nm#||'%'
			ORDER BY MENU_PRT_STEP, PGM_PRT_STEP
        ]]>
	</select>

	<select id="NSYSbookmarkgroupselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
        	SELECT NCOM065_GRP_SEQ 	AS "grp_seq"
        		  ,NCOM065_GRP_NM	AS "grp_nm"
			  FROM NCOM065TL
			 WHERE 1 = 1
			   AND NCOM065_USER_NO 	= #user_id#
       		   AND NCOM065_LOGIN_ID = #login_id# 
		  ORDER BY NCOM065_PRT_STEP
		 		  ,NCOM065_GRP_SEQ
        ]]>
	</select>

	<!-- 인사채용 시작 -->
	<select id="NSYSjobrecruittopmenuselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT NCOM092_SYS_ID as "ncom092_sys_id"
		, NCOM092_SUB_ID as "ncom92_sub_id"
		, NCOM092_SUB_NM as "ncom92_sub_nm"
		FROM NCOM092TL
		WHERE 1 = 1
		AND NCOM092_SYS_ID = 'NGEN'
		AND NCOM092_SUB_ID = 'NJOB'
		ORDER BY NCOM092_PRT_STEP
	</select>
	<!-- 인사채용 끝 -->

	<!-- 지식포탈 연동 시작 -->
	<select id="NPTLportaltopmenuselect" parameterClass="paramMap"
		resultClass="resultMap">
    	<![CDATA[ 
			SELECT  D1.NCOM092_SYS_ID as "ncom092_sys_id"
				  , D1.NCOM092_SUB_ID AS "sub_id"
			      , MAX(D1.NCOM092_SUB_NM) AS "sub_nm"
			      , MAX(D1.NCOM092_PRT_STEP) AS "ncom092_prt_step"
			FROM NCOM092TL D1
				 , NCOM905VW D2
	       		 , NCOM095TL D3
			WHERE 1 = 1
			  AND D1.NCOM092_SYS_ID = D3.NCOM095_SYS_ID
			  AND D1.NCOM092_SUB_ID = D3.NCOM095_SUB_ID
	      	  AND D2.NCOM905_MENU_PGM_ID = D3.NCOM095_MENU_PGM_ID
	      	  AND D3.NCOM095_SYS_ID = 'NPTL' 
			  AND D2.NCOM905_EMP_NO = #user_id#    			
			  AND 1 = (CASE WHEN #menu_limit_yn# <> 'Y' THEN 1 		
			  				ELSE (CASE WHEN D3.NCOM095_PGM_ID IN (SELECT NCOM803_ITEM_6 
                                                                   FROM KUISDEV.NCOM803TL 
                                                                  WHERE NCOM803_ITEM_31 IS NOT NULL 
                                                                    AND NCOM803_ITEM_31 <= TO_CHAR(SYSDATE, 'YYYYMMDD')) THEN 1 ELSE 0 
                                  END)
	              		END)
			GROUP BY NCOM092_SYS_ID, NCOM092_SUB_ID
			ORDER BY NCOM092_SYS_ID, NCOM092_PRT_STEP
		]]>
	</select>


	<select id="ncom091tlselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
SELECT
	   NCOM091_SYS_ID AS SYS_ID		
	 , NCOM091_SYS_NM AS SYS_NM		
	 , NCOM091_SYS_NM_ENG AS SYS_NM_ENG	
	 , NCOM091_MENU_YN AS MENU_YN		
  FROM NCOM091TL D1
 WHERE 1 = 1
        ]]>
	</select>
	<!-- 지식포탈 연동 끝 -->
	<select id="ncom092tlselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
SELECT
	   NCOM092_SYS_ID AS SYS_ID		
	 , NCOM092_SUB_ID AS SUB_ID			
	 , NCOM092_SUB_NM AS SUB_NM		
	 , NCOM092_SUB_NM_ENG AS SUB_NM_ENG		
	 , NCOM092_MENU_YN AS MENU_YN			
	 , NCOM092_PRT_STEP AS PRT_STEP
  FROM NCOM092TL D1
 WHERE 1 = 1	
        ]]>
	</select>
	
<!-- NCOM9905P : 국가검색팝업 프로그램 끝 -->
	<select id="NCOM9905Pmainselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
            SELECT DISTINCT
                   COM040_NATION_CD
                  ,COM040_NM_KOR
                  ,COM040_NM_ENG
                  ,COM040_ALIAS
                  ,COM040_EDU_CODE
                  ,COM040_WAG_CODE
                  ,COM040_ARS_CODE
              FROM COM040TL
             WHERE 1=1 
               AND (UPPER(COM040_NATION_CD) LIKE '%'||UPPER(#com040_nation_name#)||'%' 
                       OR UPPER(COM040_NM_KOR) LIKE '%'||UPPER(#com040_nation_name#)||'%' 
                       OR UPPER(COM040_NM_ENG) LIKE '%'||UPPER(#com040_nation_name#)||'%')
             ORDER BY COM040_NM_KOR
        ]]>
	</select>
<!-- NCOM9905P : 국가검색팝업 프로그램 끝 --> 	


<select id="NCOM0106Qmainselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
					SELECT 			 COM020_DPT_CD AS "com020_dept_cd"
							   	     ,COM020_NM_KOR as "com020_nm_kor"
									 ,COM020_UP_CD as "com020_up_cd"
				             		 ,COM020_CAMPUS AS "com020_campus"
				             		 ,COM020_UP_NM AS "com020_up_nm"
				             		 ,DEPT_CNT AS "dept_cnt"
				             		 , MNG_CNT AS "mng_cnt"
				             		  ,COM020_USE_YN as "com020_use_yn"
				             		  ,COM020_SCHL_DIV AS "com020_schl_div"
				             		  ,COM020_DEPT_GROUP as "com020_dept_group"
				             		  ,COM020_CRE_DT as "com020_cre_dt"
				             		  ,COM020_DISUSE_DT as "com020_disuse_dt"
				             		  ,COM020_REP_DEPT_CD as "com020_rep_dept_cd"
				             		  ,COM020_REP_DEPT_NM AS "com020_rep_dept_nm"
					  FROM	(	 
				             		   SELECT  COM020_DPT_CD 
							   	     ,COM020_NM_KOR
									 ,COM020_UP_CD
				             		 ,DECODE(COM020_CAMPUS,'1','안암','2','세종') AS COM020_CAMPUS
				             		 ,F_NCOM_DEPT_NM(COM020_UP_CD) AS COM020_UP_NM
				             		 ,COUNT(COM160_DPT_CD) AS DEPT_CNT  
				             		 ,(
				              				SELECT COUNT(*)
											  FROM COM020TL D3, COM160TL D4
											 WHERE  1 = 1
											   AND D4.COM160_DPT_CD = D3.COM020_DPT_CD
											   AND D3.COM020_USE_YN = 'Y'
											   AND D4.COM160_DEPT_CD = D2.COM020_DPT_CD 
				             			) AS MNG_CNT
				             		  ,COM020_USE_YN
				             		  ,DECODE(COM020_SCHL_DIV,'U','대학(안암)','C','전문대학','M','의과대학','S','서창') AS COM020_SCHL_DIV
				             		  ,COM020_DEPT_GROUP
				             		  ,COM020_CRE_DT
				             		  ,COM020_DISUSE_DT
				             		  ,COM020_REP_DEPT_CD
				             		  ,F_NCOM_DEPT_NM(COM020_REP_DEPT_CD) AS COM020_REP_DEPT_NM  
								 FROM 
								 COM020TL D2,COM030TL 	C1,COM030TL C2,COM160TL D1  
								WHERE 1=1
								AND D1.COM160_DPT_CD = D2.COM020_DPT_CD(+)
								  AND C1.CODE_DIV 		= 'NCOM903'	
								  AND D2.COM020_DEPT_GROUP_CD 	= C1.CODE
								  AND C2.CODE_DIV 		= 'NCOM104'	
								  AND C2.CODE			= C1.RELATION
							      AND D2.COM020_DIV 						LIKE #com020_div# || '%'
							      AND NVL(D2.COM020_CAMPUS,'999') 			LIKE #com020_campus# || '%'
							      AND NVL(D2.COM020_UP_CD,'9999')			LIKE #com020_up_cd# || '%'
							      AND NVL(D2.COM020_USE_YN,'N')				LIKE #com020_use_yn# || '%'
							      AND (D2.COM020_DPT_CD						LIKE #com020_dpt_cd# || '%'
							      	    OR D2.COM020_NM_KOR					LIKE #com020_dpt_cd# || '%'
							      	   )	 
							      AND C2.CODE 			LIKE #dept_group_clsf# 	|| '%'  
								  AND D2.COM020_DEPT_GROUP_CD 	LIKE #dept_group# 		|| '%' 
								  AND D2.COM020_DIV 			LIKE #dept_div# 		|| '%' 
							 GROUP BY COM020_NM_KOR,COM020_DPT_CD,COM020_UP_CD,COM020_CAMPUS,COM020_USE_YN
				       				  ,COM020_SCHL_DIV,COM020_DEPT_GROUP,COM020_CRE_DT,COM020_DISUSE_DT,COM020_REP_DEPT_CD
							 ORDER BY COM020_DPT_CD
							 )
					WHERE 1=1
        ]]>
		<dynamic>
			<isEqual property="mng_dept" compareValue="10">
				AND DEPT_CNT > 0
			</isEqual>
			<isEqual property="mng_dept" compareValue="20">
				AND MNG_CNT > 0
			</isEqual>
		</dynamic>
	</select>
	<select id="NCOM0110EgrpNmListselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
				SELECT NCOM065_GRP_SEQ "ncom065_grp_seq"
					   ,NCOM065_GRP_NM "ncom065_grp_nm"
				  FROM NCOM065TL
				 WHERE 1=1
				   AND NCOM065_USER_NO = #ncom065_user_no#
				   AND NCOM065_LOGIN_ID LIKE #ncom065_login_id#||'%'				
        ]]>
	</select>

	<select id="NCOM0110EgrpListselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT NCOM065_GRP_NM 	"ncom065_grp_nm"
				   ,NCOM065_GRP_SEQ 	 "ncom065_grp_seq"
	               ,NCOM065_PRT_STEP 	"ncom065_prt_step"
	               ,NCOM065_USER_NO 	  "ncom065_user_no"
	               ,NCOM065_LOGIN_ID 	"ncom065_login_id"
			FROM NCOM065TL
			WHERE 1=1
			AND NCOM065_USER_NO LIKE #ncom065_user_no#||'%'
			AND NCOM065_LOGIN_ID LIKE #ncom065_login_id#||'%'
			ORDER BY NCOM065_USER_NO,NCOM065_PRT_STEP
        ]]>
	</select>

	<select id="NCOM0110EmenuListselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			SELECT NCOM066_GRP_SEQ		 "ncom066_grp_seq"		   
				   ,NCOM095_PGM_ID AS "ncom066_menu_pgm_id"
			       ,NCOM095_MENU_PGM_NM "ncom095_menu_pgm_nm"
			       ,NCOM066_PRT_STEP "ncom066_prt_step"
			       ,NCOM066_USER_NO "ncom066_user_no"
			       ,NCOM066_LOGIN_ID "ncom066_login_id"
			       ,NCOM066_MENU_PGM_ID AS "ncom066_menu_id"
			 FROM NCOM066TL D1,NCOM095TL D2
			WHERE 1=1
			  AND D1.NCOM066_MENU_PGM_ID = D2.NCOM095_MENU_PGM_ID
			  AND NCOM066_USER_NO = #ncom066_user_no#
			  AND NCOM066_LOGIN_ID = #ncom066_login_id#
			  AND NCOM066_GRP_SEQ = #ncom066_grp_seq#
		 ORDER BY NCOM066_PRT_STEP
        ]]>
	</select>

	<select id="NCOM0111EurgencyMsgselect" parameterClass="paramMap"
		resultClass="resultMap">
		      <![CDATA[       
					SELECT NCOM300_SEQ "ncom300_seq"
						   ,NCOM300_URGENCY_MSG_DIV "ncom300_urgency_msg_div"
              			   ,NCOM300_NOTI_MSG "ncom300_noti_msg"
              			   ,TO_CHAR(NCOM300_APPL_DT,'YYYYMMDD') AS "ncom300_appl_dt"
              			   ,NCOM300_ST_TIME "ncom300_st_time"
              			   ,NCOM300_END_TIME "ncom300_end_time"
              			   ,NCOM300_STOP_YN "ncom300_stop_yn"
					 FROM NCOM300TL
					WHERE 1=1
					  AND NCOM300_NOTI_MSG LIKE '%'||#ncom300_noti_msg#||'%'
					  AND NCOM300_APPL_DT BETWEEN  TO_DATE(#stDate#,'YYYYMMDD')AND TO_DATE(#endDate#,'YYYYMMDD')
				 ORDER BY NCOM300_APPL_DT	  					
		      ]]>
	</select>


	<select id="NCOM0105Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			  SELECT COM020_DEPT_GROUP_CD			 "com020_dept_group_cd"			
					,COM020_DEPT_GROUP_CD 		AS "pk_column"	
				FROM COM020TL D1
			   WHERE 1=1
				 AND NVL(COM020_CAMPUS, '0') 		LIKE '' || '%'
				 AND NVL(COM020_DEPT_GROUP_CD, '%')	LIKE '' || '%'
				 AND NVL(COM020_USE_YN, 'N')		LIKE '' || '%'
				 AND NVL(COM020_DOMINO_USE_YN, 'N')	LIKE '' || '%'
         AND (COM020_CAMPUS, COM020_DEPT_GROUP_CD) IN (
              SELECT 
                COM020_CAMPUS,COM020_DEPT_GROUP_CD
              FROM 
                  COM020TL D1
              WHERE 1 = 1
              AND (COM020_NM_KOR LIKE '%'||#com020_nm_kor#||'%' OR COM020_DPT_CD LIKE '%'||#com020_nm_kor#||'%')
              AND COM020_DEPT_GROUP_CD IS NOT NULL
              GROUP BY COM020_CAMPUS,COM020_DEPT_GROUP_CD                  
         )
			GROUP BY COM020_DEPT_GROUP_CD
			ORDER BY 1
        ]]>
	</select>

	<select id="NCOM0105Esubselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			  SELECT F_NCOM_CODE_NM('COM003', D2.COM020_DIV) 	AS "com020_up_div_nm"
					,D1.COM020_UP_CD	 "com020_up_cd"						
					,D2.COM020_NM_KOR							AS "com020_up_nm_kor"
					,F_NCOM_CODE_NM('COM003', D1.COM020_DIV) 	AS "com020_div_nm"
					,D1.COM020_DPT_CD		 "com020_dpt_cd"				
					,F_NCOM_CODE_NM('COM005', D1.COM020_CAMPUS) AS "com020_campus_nm"
					,D1.COM020_CAMPUS		"com020_campus"					
					,D1.COM020_NM_KOR			"com020_nm_kor"			
					,D1.COM020_DEPT_GROUP_CD	"com020_dept_group_cd"
					,D1.COM020_USE_YN			"com020_use_yn"			
					,D1.COM020_DOMINO_USE_YN		"com020_domino_use_yn"		
					,D1.COM020_SCHL_DIV		"com020_schl_div"			
				FROM COM020TL D1
				LEFT OUTER JOIN COM020TL D2
				ON D1.COM020_UP_CD =  D2.COM020_DPT_CD
				WHERE 1=1
				  AND NVL(D1.COM020_CAMPUS,0) 			LIKE #com020_campus# || '%'
				  AND NVL(D1.COM020_DEPT_GROUP_CD,'%')	LIKE #com020_dept_group_cd# || '%'
				  AND D1.COM020_DIV 					LIKE #com020_div# || '%'
				  AND (D1.COM020_NM_KOR 					LIKE '%' || #com020_nm_kor# || '%' 
				  	   OR D1.COM020_DPT_CD LIKE '%' || #com020_nm_kor# || '%')
				  AND D1.COM020_USE_YN     LIKE '%' || #com020_use_yn# || '%'
				  AND D1.COM020_DOMINO_USE_YN LIKE '%' || #com020_domino_use_yn# ||'%'
				  AND D1.COM020_SCHL_DIV 	LIKE '%'||#com020_schl_div#||'%'	   			  
			 ORDER BY D1.COM020_NM_KOR 
        ]]>
	</select>

	<select id="NCOM0105EdptDivselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			 SELECT DISTINCT D2.CODE AS "cd"
				   ,D2.NM_KOR 		AS "cd_nm"
			   FROM COM020TL D1
				   ,COM030TL D2
			  WHERE 1=1
				AND D2.CODE_DIV 		= 'COM003'
				AND D1.COM020_DIV 			= D2.CODE
				AND COM020_CAMPUS 			= #com020_campus#
				AND COM020_DEPT_GROUP_CD 	= #com020_dept_group_cd#
		   ORDER BY D2.CODE
        ]]>
	</select>

	<select id="NCOM9911PdeptDivselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
				  SELECT DEPT_DIV_CD AS "cd" 
						,DEPT_DIV_NM AS "cd_nm"
  					FROM NCOM004VW 
 				   WHERE 1 = 1 
       				 AND DEPT_LRG_CLSF LIKE #dept_group_clsf# 	|| '%' 
       				 AND DEPT_GROUP_CD LIKE #dept_group# 		|| '%' 
 				GROUP BY DEPT_DIV_CD
 						,DEPT_DIV_NM
 				ORDER BY DEPT_DIV_CD
        ]]>
	</select>


	<!--################################################################################################ -->
	<select id="NCOM0101Emainselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT DECODE(D1.SUB_ID,'COM','공통',D2.NCOM092_SUB_NM) AS SUB_NM
		     , D1.CODE_DIV 
		     , D1.SUB_ID 
		     , D1.CODE 
		     , D1.NM_KOR
		     , D1.NM_ENG 
		     , D1.USE_YN
		     , D1.RELATION 
		     , D1.RELATION2 
		     , D1.RELATION3
			 , D1.RELATION4 
			 , D1.RELATION5 
			 , D1.RELATION6
			 , D1.RELATION7 
			 , D1.RELATION8 
			 , D1.RELATION9
			 , D1.RELATION10
			 , D1.NM_KOR2 
			 , D1.NM_ENG2
			 , D1.REMARK 
		  FROM (
			SELECT CODE_DIV
				 , REPLACE(SUBSTR(CODE_DIV, 1, LENGTH(CODE_DIV)-3 ),' ','') AS SUB_ID
				 , CODE
				 , NM_KOR
				 , NM_ENG
				 , USE_YN
				 , RELATION
				 , RELATION2
				 , RELATION3
				 , RELATION4
				 , RELATION5
				 , RELATION6
				 , RELATION7
				 , RELATION8
				 , RELATION9
				 , RELATION10
				 , NM_KOR2
				 , NM_ENG2
				 , REMARK
			  FROM COM030TL
		     WHERE 1=1
			   AND CODE = '000000'
			   AND ( (NM_KOR LIKE '%' || UPPER(#strCodeNm#) || '%') OR (CODE_DIV LIKE '%' ||UPPER(#strCodeNm#) || '%' ))
			) D1
			, NCOM092TL D2
		WHERE 1= 1
		  AND D1.SUB_ID = D2.NCOM092_SUB_ID(+)
		  AND D1.SUB_ID IN (
							SELECT DECODE(NCOM092_SYS_ID,'NRPT', DECODE(LENGTH(NCOM092_SUB_ID), 4, NCOM092_SUB_ID, SUBSTR(NCOM092_SUB_ID, 6,4)), NCOM092_SUB_ID)
	                     	  FROM NCOM092TL D
		                     WHERE 1 = 1
		                       AND D.NCOM092_SUB_ID LIKE '%' || #strSubId# || '%'
		                       AND D.NCOM092_SYS_ID IN (
															SELECT S.NCOM091_SYS_ID
													   	      FROM NCOM091TL S
														     WHERE 1 = 1
		                                                       AND S.NCOM091_SYS_ID LIKE '%' || #strSysId# || '%'
		                                                 )
							UNION
						   SELECT 'COM'
							 FROM DUAL
							WHERE 1=1
							  AND 'NCMN' LIKE '%' || #strSysId# || '%'
							  AND 'NCOM' LIKE '%' || #strSubId# || '%'
							UNION
						   SELECT 'HBC'
							 FROM DUAL
							WHERE 1=1
							  AND 'NCMN' LIKE '%' || #strSysId# || '%'
							  AND 'NCOM' LIKE '%' || #strSubId# || '%'
							)
	</select>

	<select id="NCOM0101Esubselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT CODE_DIV 
			 , CODE
			 , NM_KOR 
			 , NM_ENG
			 , USE_YN AS USE_YN 
			 , RELATION 
			 , RELATION2
			 , RELATION3
			 , RELATION4
			 , RELATION5
			 , RELATION6
			 , RELATION7
			 , RELATION8
			 , RELATION9
			 , RELATION10
			 , NM_KOR2
			 , NM_ENG2
			 , REMARK 
			 , PRT_ORD
			 , OLD_CODE
			 , OLD_NM_KOR 
		  FROM COM030TL
		 WHERE 1=1
		   AND CODE <![CDATA[ <> ]]> '000000'
		   AND CODE_DIV = #strCodeDiv#
		 ORDER BY CODE_DIV, CODE
	</select>

	<insert id="NCOM0101Emaininsert" parameterClass="paramMap">
		INSERT INTO COM030TL
		    (
			  CODE_DIV
			, CODE
			, NM_KOR
			, NM_ENG
			, USE_YN
			, RELATION
			, RELATION2
			, RELATION3
			, RELATION4
			, RELATION5
			, RELATION6
			, RELATION7
			, RELATION8
			, RELATION9
			, RELATION10
			, NM_KOR2
			, NM_ENG2
			, REMARK
			, PRT_ORD
			, OLD_CODE
			, OLD_NM_KOR
			, CRT_DTTM
			, CRT_ID
			, CRT_PGM_ID
			, CRT_IP
			)
			VALUES
			(
			  #CODE_DIV#
			, #CODE#
			, #NM_KOR#
			, #NM_ENG#
			, DECODE(#USE_YN#,'Y', 'Y', 'N')
			, #RELATION#
			, #RELATION2#
			, #RELATION3#
			, #RELATION4#
			, #RELATION5#
			, #RELATION6#
			, #RELATION7#
			, #RELATION8#
			, #RELATION9#
			, #RELATION10#
			, #NM_KOR2#
			, #NM_ENG2#
			, #REMARK#
			, #PRT_ORD#
			, #OLD_CODE#
			, #OLD_NM_KOR#
			, SYSDATE
			, #CRT_ID#
			, #CRT_PGM_ID#
			, #CRT_IP#
			)
	</insert>

	<update id="NCOM0101Emainupdate" parameterClass="paramMap">
		UPDATE COM030TL
		   SET UPD_DTTM = SYSDATE
		<isNotNull prepend="," property="NM_KOR">
			NM_KOR = #NM_KOR#
		</isNotNull>
		<isNotNull prepend="," property="NM_ENG">
			NM_ENG = #NM_ENG#
		</isNotNull>
		<isNotNull prepend="," property="USE_YN">
			USE_YN = NVL(#USE_YN#,'N')
		</isNotNull>
		<isNotNull prepend="," property="RELATION">
			RELATION = #RELATION#
		</isNotNull>
		<isNotNull prepend="," property="RELATION2">
			RELATION2 = #RELATION2#
		</isNotNull>
		<isNotNull prepend="," property="RELATION3">
			RELATION3 = #RELATION3#
		</isNotNull>
		<isNotNull prepend="," property="RELATION4">
			RELATION4 = #RELATION4#
		</isNotNull>
		<isNotNull prepend="," property="RELATION5">
			RELATION5 = #RELATION5#
		</isNotNull>
		<isNotNull prepend="," property="RELATION6">
			RELATION6 = #RELATION6#
		</isNotNull>
		<isNotNull prepend="," property="RELATION7">
			RELATION7 = #RELATION7#
		</isNotNull>
		<isNotNull prepend="," property="RELATION8">
			RELATION8 = #RELATION8#
		</isNotNull>
		<isNotNull prepend="," property="RELATION9">
			RELATION9 = #RELATION9#
		</isNotNull>
		<isNotNull prepend="," property="RELATION10">
			RELATION10 = #RELATION10#
		</isNotNull>
		<isNotNull prepend="," property="NM_KOR2">
			NM_KOR2 = #NM_KOR2#
		</isNotNull>
		<isNotNull prepend="," property="NM_ENG2">
			NM_ENG2 = #NM_ENG2#
		</isNotNull>
		<isNotNull prepend="," property="REMARK">
			REMARK = #REMARK#
		</isNotNull>
		<isNotNull prepend="," property="PRT_ORD">
			PRT_ORD = #PRT_ORD#
		</isNotNull>
		<isNotNull prepend="," property="OLD_CODE">
			OLD_CODE = #OLD_CODE#
		</isNotNull>
		<isNotNull prepend="," property="OLD_NM_KOR">
			OLD_NM_KOR = #OLD_NM_KOR#
		</isNotNull>
		<isNotNull prepend="," property="UPD_ID">
			UPD_ID = #UPD_ID#
		</isNotNull>
		<isNotNull prepend="," property="UPD_PGM_ID">
			UPD_PGM_ID = #UPD_PGM_ID#
		</isNotNull>
		<isNotNull prepend="," property="UPD_IP">
			UPD_IP = #UPD_IP#
		</isNotNull>

		WHERE 1 = 1
		AND CODE_DIV = #CODE_DIV#
		AND CODE =
		#CODE#
	</update>

	<delete id="NCOM0101Emaindelete" parameterClass="paramMap">
		DELETE COM030TL
		WHERE 1 = 1
		AND CODE_DIV = #CODE_DIV#
		AND CODE = #CODE#
	</delete>

	<select id="NCOM0101EsubCntselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT TO_CHAR(COUNT(*)) AS CNT
		  FROM COM030TL
		 WHERE 1=1
		   AND CODE <![CDATA[ <> ]]> '000000'
		   AND CODE_DIV = #CODE_DIV#
	</select>
	
	<select id="NCOM0101ECntselect" parameterClass="paramMap" resultClass="resultMap">
		SELECT TO_CHAR(COUNT(*)) AS CNT
		  FROM COM030TL
		 WHERE 1=1
		 	 AND CODE <![CDATA[ <> ]]> '000000'
		    AND CODE_DIV = #CODE_DIV#
	</select>
	
	<select id="NCOM0102Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[ 	
		SELECT sys_id 
			  ,sub_id 
			  ,msg_cd 
			  ,msg_div_cd 
			  ,kor_msg 
			  ,eng_msg 
		      ,SYS_ID||'.'||SUB_ID||'.'||MSG_CD AS MESSAGE_KEY
		  FROM NCOM230TL
		 WHERE 1=1
		   AND SYS_ID LIKE #strSysId# || '%'
		   AND SUB_ID LIKE #strSubId# || '%'
		   AND (MSG_CD LIKE '%' || #strMmsgNm# || '%'
		    OR KOR_MSG LIKE '%' || #strMmsgNm# || '%'
		    OR ENG_MSG LIKE '%' || #strMmsgNm# || '%')
		 ORDER BY SYS_ID
			  ,DECODE(SUB_ID, 'NSYS', '1', SUB_ID)
		      ,MSG_CD
		]]>	      
	</select>  
	
	
<!-- 	<select id="NCOM0102EmainselectPaging" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[ 	
		
		SELECT 	T.*
        FROM 	( 
				SELECT 	ROWNUM AS NUM, DT.*
        		FROM  	( 
							SELECT	sys_id
								  ,	sub_id
								  ,	msg_cd
								  ,	msg_div_cd
								  ,	kor_msg
								  ,	eng_msg
							      ,	SYS_ID||'.'||SUB_ID||'.'||MSG_CD AS MESSAGE_KEY
							      , COUNT(sys_id) OVER() AS TOT_CNT
							SELECT	sys_id AS SYS_ID
								  ,	sub_id AS SUB_ID
								  ,	msg_cd AS MSG_CD
								  ,	msg_div_cd AS MSG_DIV_CD
								  ,	kor_msg AS KOR_MSG
								  ,	eng_msg AS ENG_MSG
							      ,	SYS_ID||'.'||SUB_ID||'.'||MSG_CD AS MESSAGE_KEY
							      , COUNT(sys_id) OVER() AS TOT_CNT
							      $selectOrder$
		  					FROM 	NCOM230TL
							WHERE 	1=1
							  AND 	SYS_ID LIKE #sys_id# || '%'
							  AND 	SUB_ID LIKE #sub_id# || '%'
							  AND 	(MSG_CD LIKE '%' || #msg_nm# || '%'
							   OR 	KOR_MSG LIKE '%' || #msg_nm# || '%'
							   OR 	ENG_MSG LIKE '%' || #msg_nm# || '%')
							ORDER 	BY SYS_ID
								  	,DECODE(SUB_ID, 'NSYS', '1', SUB_ID)
							      	,MSG_CD
							  AND 	SYS_ID LIKE #ncom091_sys_id# || '%'
							  AND 	SUB_ID LIKE #ncom092_sub_id# || '%'
							  AND 	(MSG_CD LIKE '%' || #msg_nm# || '%'
							   OR 	KOR_MSG LIKE '%' || #msg_nm# || '%'
							   OR 	ENG_MSG LIKE '%' || #msg_nm# || '%')
								$sortOrder$
						) DT
              	) T
		WHERE 	1=1
		AND 	T.num BETWEEN (((#currPage#- 1) * #pageSize#) + 1) AND (#currPage# * #pageSize#)
		]]>	      
	</select> 
	
	 ORDER     BY SYS_ID
                                      ,DECODE(SUB_ID, 'NSYS', '1', SUB_ID)
                                      ,MSG_CD
	 -->
	  
	  <select id="NCOM0102EmainselectPaging" parameterClass="paramMap"
        resultClass="resultMap">
        <include refid = "include.pageSelct"/>
        <![CDATA[ 
                            SELECT    sys_id AS SYS_ID
                                  ,    sub_id AS SUB_ID
                                  ,    msg_cd AS MSG_CD
                                  ,    msg_div_cd AS MSG_DIV_CD
                                  ,    kor_msg AS KOR_MSG
                                  ,    eng_msg AS ENG_MSG
                                  ,    SYS_ID||'.'||SUB_ID||'.'||MSG_CD AS MESSAGE_KEY
                              FROM     NCOM230TL
                            WHERE     1=1
                              AND     SYS_ID LIKE #strSysId# || '%'
                              AND     SUB_ID LIKE #strSubId# || '%'
                              AND     (MSG_CD LIKE '%' || #strMsgNm# || '%'
                               OR     KOR_MSG LIKE '%' || #strMsgNm# || '%'
                               OR     ENG_MSG LIKE '%' || #strMsgNm# || '%')
                           
        ]]>     
        <include refid = "include.pageOrder"/>   
	  </select>


	<delete id="NCOM0102Emaindelete" parameterClass="paramMap">
		DELETE NCOM230TL
		 WHERE 1 = 1
		   AND SYS_ID = #SYS_ID#
		   AND SUB_ID = #SUB_ID#
		   AND MSG_CD = #MSG_CD#
	</delete>

	<insert id="NCOM0102Emaininsert" parameterClass="paramMap">
		INSERT INTO NCOM230TL (SYS_ID
			,SUB_ID
			,MSG_CD
			,MSG_DIV_CD
			,KOR_MSG
			,ENG_MSG
			,CRT_DTTM
			,CRT_ID
			,CRT_PGM_ID
			,CRT_IP) VALUES (
				#SYS_ID#
				,#SUB_ID#
				,#MSG_CD#
				,#MSG_DIV_CD#
				,#KOR_MSG#
				,#ENG_MSG#
				,SYSDATE
				,#CRT_ID#
				,#CRT_PGM_ID#
				,#CRT_IP#)
	</insert>

	<update id="NCOM0102Emainupdate" parameterClass="paramMap">
		UPDATE NCOM230TL
		SET UPD_DTTM = SYSDATE
		<isNotEmpty prepend="," property="MSG_DIV_CD">
			MSG_DIV_CD = #MSG_DIV_CD#
		</isNotEmpty>
		<isNotEmpty prepend="," property="KOR_MSG">
			KOR_MSG = #KOR_MSG#
		</isNotEmpty>
		<isNotEmpty prepend="," property="ENG_MSG">
			ENG_MSG = #ENG_MSG#
		</isNotEmpty>
		<isNotEmpty prepend="," property="UPD_ID">
			UPD_ID = #UPD_ID#
		</isNotEmpty>
		<isNotEmpty prepend="," property="UPD_PGM_ID">
			UPD_PGM_ID = #UPD_PGM_ID#
		</isNotEmpty>
		<isNotEmpty prepend="," property="UPD_IP">
			UPD_IP = #UPD_IP#
		</isNotEmpty>
		WHERE 1 = 1
		  AND SYS_ID = #SYS_ID#
		  AND SUB_ID = #SUB_ID#
		  AND MSG_CD = #MSG_CD#
	</update>


	<select id="NCOM0104Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D1.COM020_DPT_CD AS COM020_DPT_CD
		,D1.COM020_NM_KOR AS COM020_NM_KOR
		,D1.COM020_NM_ENG AS		COM020_NM_ENG
		,D1.COM020_ALIAS AS COM020_ALIAS
		,D1.COM020_DIV AS		COM020_DIV
		,D1.COM020_UP_CD AS COM020_UP_CD
		,F_NCOM_DEPT_NM(D1.COM020_UP_CD) AS COM020_UP_NM
		,D1.COM020_SORT_NUM		AS com020_sort_num
		,D1.COM020_CAMPUS AS COM020_CAMPUS
		,D1.COM020_CRE_DT AS COM020_CRE_DT
		,D1.COM020_DISUSE_DT AS	COM020_DISUSE_DT
		,D1.COM020_USE_YN AS COM020_USE_YN
		,D1.COM020_DAY_NIGHT AS COM020_DAY_NIGHT
		,D1.COM020_LEVEL AS	COM020_LEVEL
		,D1.COM020_SEC_MNI AS COM020_SEC_MNI
		,F_NCOM_CODE_NM('COM007', D1.COM020_SEC_MNI) AS COM020_SEC_MNI_NM
		,D1.COM020_SCHL_DIV AS COM020_SCHL_DIV
		,D1.COM020_DOMINO_USE_YN AS	COM020_DOMINO_USE_YN
		,D1.COM020_REG_DPT_DIV AS COM020_REG_DPT_DIV
		,D1.COM020_BUG_YN AS COM020_BUG_YN
		,D1.COM020_PRO_YN ASCOM020_PRO_YN
		,D1.COM020_DPT_DIV AS COM020_DPT_DIV
		,D1.COM020_DOMINO_DPT_CD AS COM020_DOMINO_DPT_CD
		,D1.COM020_DOMINO_NM_KOR AS COM020_DOMINO_NM_KOR
		,D1.COM020_DOMINO_UP_CD AS COM020_DOMINO_UP_CD
		,D1.COM020_DOMINO_ADD_CD AS COM020_DOMINO_ADD_CD
		,D1.COM020_REP_DEPT_CD AS COM020_REP_DEPT_CD
		,F_NCOM_DEPT_NM(D1.COM020_REP_DEPT_CD) AS COM020_REP_DEPT_NM
		,D1.COM020_DEPT_GROUP_CD AS COM020_DEPT_GROUP_CD
		FROM COM020TL D1
		,COM030TL C1
		,COM030TL C2
		WHERE 1=1
		AND C1.CODE_DIV = 'NCOM903'
		AND D1.COM020_DEPT_GROUP_CD = C1.CODE
		AND C2.CODE_DIV =
		'NCOM104'
		AND C2.CODE = C1.RELATION
		AND D1.COM020_DIV LIKE
		#com020_div# || '%'
		AND NVL(D1.COM020_CAMPUS,'999') LIKE
		#com020_campus# || '%'
		AND NVL(D1.COM020_UP_CD,'9999') LIKE
		#com020_up_cd# || '%'
		AND NVL(D1.COM020_USE_YN,'N') LIKE
		#com020_use_yn# || '%'
		AND NVL(D1.COM020_DOMINO_USE_YN, 'N') LIKE
		#com020_domino_use_yn# || '%'
		AND ( D1.COM020_DPT_CD LIKE
		#com020_dpt_cd# || '%'
		OR D1.COM020_NM_KOR LIKE '%' || #com020_dpt_cd#
		|| '%' )
		AND NVL(C2.CODE,'%') LIKE #dept_group_clsf# || '%'
		AND
		NVL(D1.COM020_DEPT_GROUP_CD,'%') LIKE #dept_group# || '%'
		AND
		D1.COM020_DIV LIKE #dept_div# || '%'
		ORDER BY D1.COM020_DPT_CD
	</select>

	<insert id="NCOM0104Eforminsert" parameterClass="paramMap">
		INSERT INTO
		COM020TL
		(
		COM020_DPT_CD
		,COM020_NM_KOR
		,COM020_NM_ENG
		,COM020_ALIAS
		,COM020_DIV
		,COM020_UP_CD
		,COM020_SORT_NUM
		,COM020_CAMPUS
		,COM020_CRE_DT
		,COM020_DISUSE_DT
		,COM020_USE_YN
		,COM020_DAY_NIGHT
		,COM020_LEVEL
		,COM020_SEC_MNI
		,COM020_SCHL_DIV
		,COM020_DOMINO_USE_YN
		,COM020_REG_DPT_DIV
		,COM020_REP_DEPT_CD
		,COM020_DEPT_GROUP_CD
		)
		VALUES
		(
		(
		SELECT NVL(MAX(COM020_DPT_CD), 0) +1
		FROM COM020TL
		)
		,#COM020_NM_KOR#
		,#COM020_NM_ENG#
		,#COM020_ALIAS#
		,#COM020_DIV#
		,#COM020_UP_CD#
		,#COM020_SORT_NUM#
		,#COM020_CAMPUS#
		,TO_DATE(SUBSTR(#COM020_CRE_DT#,1,8) )
		,TO_DATE(SUBSTR(#COM020_DISUSE_DT#,1,8) )
		,NVL(#COM020_USE_YN#,'N')
		,#COM020_DAY_NIGHT#
		,#COM020_LEVEL#
		,#COM020_SEC_MNI#
		,#COM020_SCHL_DIV#
		,NVL(#COM020_DOMINO_USE_YN#,'Y')
		,#COM020_REG_DPT_DIV#
		,#COM020_REP_DEPT_CD#
		,#COM020_DEPT_GROUP_CD#
		)
	</insert>

	<update id="NCOM0104Eformupdate" parameterClass="paramMap">
		UPDATE COM020TL
		SET COM020_NM_KOR = #COM020_NM_KOR#
		,COM020_NM_ENG = #COM020_NM_ENG#
		,COM020_ALIAS = #COM020_ALIAS#
		,COM020_DIV = #COM020_DIV#
		,COM020_UP_CD
		= #COM020_UP_CD#
		,COM020_SORT_NUM = #COM020_SORT_NUM#
		,COM020_CAMPUS =
		#COM020_CAMPUS#
		,COM020_CRE_DT = TO_DATE(SUBSTR(#COM020_CRE_DT#,1,8) )
		,COM020_DISUSE_DT = TO_DATE(SUBSTR(#COM020_DISUSE_DT#,1,8) )
		,COM020_USE_YN = NVL(#COM020_USE_YN#,'N')
		,COM020_DAY_NIGHT =
		#COM020_DAY_NIGHT#
		,COM020_LEVEL = #COM020_LEVEL#
		,COM020_SEC_MNI =
		#COM020_SEC_MNI#
		,COM020_SCHL_DIV = #COM020_SCHL_DIV#
		,COM020_DOMINO_USE_YN = NVL(#COM020_DOMINO_USE_YN#,'N')
		,COM020_REG_DPT_DIV = #COM020_REG_DPT_DIV#
		,COM020_REP_DEPT_CD =
		#COM020_REP_DEPT_CD#
		,COM020_DEPT_GROUP_CD = #COM020_DEPT_GROUP_CD#
		WHERE COM020_DPT_CD = #COM020_DPT_CD#
	</update>

	<delete id="NCOM0104Eformdelete" parameterClass="paramMap">
		DELETE
		FROM
		COM020TL
		WHERE COM020_DPT_CD = #COM020_DPT_CD#
	</delete>

	<select id="NCOM0104Edeptselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT com020_dpt_cd AS COM020_DPT_CD
		,com020_nm_kor AS COM020_NM_KOR
		,com020_nm_eng AS COM020_NM_ENG
		,com020_alias AS COM020_ALIAS
		,com020_div AS COM020_DIV
		,com020_up_cd ASCOM020_UP_CD
		,com020_campus AS COM020_CAMPUS
		FROM COM020TL
		WHERE 1=1
		AND ( COM020_DPT_CD LIKE #com020_dpt_cd# || '%'
		OR COM020_NM_KOR LIKE
		#com020_dpt_cd# || '%'
		)
		ORDER BY COM020_DPT_CD
	</select>

	<select id="NCOM0104Ecodeselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT code_div AS CODE_DIV
		, code ASCODE
		, nm_kor AS NM_KOR
		, nm_eng AS NM_ENG
		, use_yn AS USE_YN
		, relation AS RELATION
		, relation2 AS RELATION2
		,relation3 AS RELATION3
		, nm_kor2 AS	NM_KOR2
		, nm_eng2 AS NM_ENG2
		, remark AS	REMARK
		, CODE AS CD
		, NM_KOR AS CD_NM
		FROM
		COM030TL
		WHERE 1 = 1
		AND CODE <![CDATA[ <> ]]>
		'000000'
		AND CODE_DIV = #code_div#
		AND CODE LIKE
		#code# || '%'
	</select>






	<!-- NCOM0107E 조직관리(학사) 프로그램 시작 -->
	<select id="NCOM0107Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D1.COM020_DPT_CD AS "com020_dpt_cd"
		,D1.COM020_NM_KOR AS "com020_nm_kor"
		,D1.COM020_DIV AS "com020_div"
		,D1.COM020_UP_CD AS "com020_up_cd"
		,D1.COM020_CAMPUS AS "com020_campus"
		,D1.COM020_USE_YN AS "com020_use_yn"
		,D1.COM020_DAY_NIGHT AS
		"com020_day_night"
		,D1.COM020_SEC_MNI AS "com020_sec_mni"
		,D1.COM020_SCHL_DIV AS "com020_schl_div"
		,D1.COM020_DEG_BCH AS
		"com020_deg_bch"
		,D1.COM020_DEG_MAS AS "com020_deg_mas"
		,D1.COM020_DEG_DOC AS "com020_deg_doc"
		,D1.COM020_DPT_DIV AS
		"com020_dpt_div"
		,D1.COM020_DEG_SORT AS "com020_deg_sort"
		,D1.COM020_REG_DPT_DIV AS "com020_reg_dpt_div"
		,D1.COM020_HIGH_SEC AS
		"com020_high_sec"
		,D1.COM020_CLASS_TERM AS "com020_class_term"
		,D1.COM020_MAS_CLASS_TERM AS "com020_mas_class_term"
		,D1.COM020_DOC_CLASS_TERM AS "com020_doc_class_term"
		,D1.COM020_DEG_ABEEK AS "com020_deg_abeek"
		,D1.COM020_FOREIGN_YN AS
		"com020_foreign_yn"
		,D1.COM020_IPSI_USE_YN AS "com020_ipsi_use_yn"
		,D1.COM020_IPSI_SORT_NUM AS "com020_ipsi_sort_num"
		,D1.COM020_DISTRBT_YN AS "com020_distrbt_yn"
		,D1.COM020_IPSI_MAS_YN AS
		"com020_ipsi_mas_yn"
		,D1.COM020_IPSI_DOC_YN AS "com020_ipsi_doc_yn"
		,D1.COM020_ADPT_CD AS "com020_adpt_cd"
		,D1.COM020_IPSI_GYE AS
		"com020_ipsi_gye"
		,D1.COM020_IPSI_CONC_YN AS "com020_ipsi_conc_yn"
		,D1.COM020_REP_DEPT_CD AS "com020_rep_dept_cd"
		,D1.COM020_DEPT_GROUP_CD AS "com020_dept_group_cd"
		,D1.COM020_UNIV_SEC
		AS "com020_univ_sec"
		,D1.COM020_SEC_REG AS "com020_sec_reg"
		,F_NCOM_DEPT_NM(D1.COM020_UP_CD) AS "com020_up_nm"
		,F_NCOM_CODE_NM('COM007', D1.COM020_SEC_MNI) AS "com020_sec_mni_nm"
		,F_NCOM_DEPT_NM(D1.COM020_ADPT_CD) AS "com020_adpt_nm"
		,F_NCOM_DEPT_NM(D1.COM020_REP_DEPT_CD) AS "com020_rep_dept_nm"
		FROM
		COM020TL D1
		,COM030TL C1
		,COM030TL C2
		WHERE 1=1
		AND C1.CODE_DIV =
		'NCOM903'
		AND D1.COM020_DEPT_GROUP_CD = C1.CODE
		AND
		C2.CODE_DIV = 'NCOM104'
		AND C2.CODE = C1.RELATION
		AND D1.COM020_DIV LIKE #com020_div# || '%'
		AND
		NVL(D1.COM020_CAMPUS,'999') LIKE #com020_campus# || '%'
		AND
		NVL(D1.COM020_UP_CD,'9999') LIKE #com020_up_cd# || '%'
		AND
		NVL(D1.COM020_USE_YN,'N') LIKE #com020_use_yn# || '%'
		AND (
		D1.COM020_DPT_CD LIKE #com020_dpt_cd# || '%'
		OR D1.COM020_NM_KOR LIKE
		'%' || #com020_dpt_cd# || '%' )
		AND NVL(C2.CODE,'%') LIKE
		#dept_group_clsf# || '%'
		AND NVL(D1.COM020_DEPT_GROUP_CD,'%') LIKE
		#dept_group# || '%'
		AND D1.COM020_DIV LIKE #dept_div# || '%'
	</select>



	<update id="NCOM0107Eformupdate" parameterClass="paramMap">
		UPDATE COM020TL
		SET COM020_NM_KOR = #com020_nm_kor#
		,COM020_UP_CD = #com020_up_cd#
		,COM020_CAMPUS = #com020_campus#
		,COM020_USE_YN =
		NVL(#com020_use_yn#,'N')
		,COM020_DAY_NIGHT = #com020_day_night#
		,COM020_SEC_MNI = #com020_sec_mni#
		,COM020_SCHL_DIV = #com020_schl_div#
		,COM020_DEG_BCH = #com020_deg_bch#
		,COM020_DEG_MAS = #com020_deg_mas#
		,COM020_DEG_DOC = #com020_deg_doc#
		,COM020_DPT_DIV =
		NVL(#com020_dpt_div#,'N')
		,COM020_DEG_SORT = #com020_deg_sort#
		,COM020_REG_DPT_DIV = #com020_reg_dpt_div#
		,COM020_HIGH_SEC =
		#com020_high_sec#
		,COM020_CLASS_TERM = #com020_class_term#
		,COM020_MAS_CLASS_TERM = #com020_mas_class_term#
		,COM020_DOC_CLASS_TERM = #com020_doc_class_term#
		,COM020_DEG_ABEEK =
		#com020_deg_abeek#
		,COM020_FOREIGN_YN = NVL(#com020_foreign_yn#,'N')
		,COM020_IPSI_USE_YN = NVL(#com020_ipsi_use_yn#,'N')
		,COM020_IPSI_SORT_NUM = #com020_ipsi_sort_num#
		,COM020_DISTRBT_YN =
		#com020_distrbt_yn#
		,COM020_IPSI_MAS_YN = NVL(#com020_ipsi_mas_yn#,'N')
		,COM020_IPSI_DOC_YN = NVL(#com020_ipsi_doc_yn#,'N')
		,COM020_ADPT_CD =
		#com020_adpt_cd#
		,COM020_IPSI_GYE = #com020_ipsi_gye#
		,COM020_IPSI_CONC_YN = NVL(#com020_ipsi_conc_yn#,'N')
		,COM020_REP_DEPT_CD = #com020_rep_dept_cd#
		,COM020_DEPT_GROUP_CD =
		#com020_dept_group_cd#
		,COM020_UNIV_SEC = #com020_univ_sec#
		,COM020_SEC_REG = #com020_sec_reg#
		WHERE COM020_DPT_CD =
		#com020_dpt_cd#
	</update>


	<select id="NCOM0107Edeptselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT com020_dpt_cd AS "com020_dpt_cd"
		,com020_nm_kor AS
		"com020_nm_kor"
		,com020_nm_eng AS "com020_nm_eng"
		,com020_alias AS
		"com020_alias"
		,com020_div AS "com020_div"
		,com020_up_cd AS
		"com020_up_cd"
		,com020_campus AS "com020_campus"
		FROM COM020TL
		WHERE 1=1
		AND ( COM020_DPT_CD LIKE #com020_dpt_cd# || '%'
		OR COM020_NM_KOR LIKE
		#com020_dpt_cd# || '%'
		)
		ORDER BY COM020_DPT_CD
	</select>

	<select id="NCOM0107Ecodeselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT code_div AS "code_div"
		, code AS
		"code"
		, nm_kor AS "nm_kor"
		, nm_eng AS
		"nm_eng"
		, use_yn AS "use_yn"
		, relation AS
		"relation"
		, relation2 AS "relation2"
		,
		relation3 AS "relation3"
		, nm_kor2 AS
		"nm_kor2"
		, nm_eng2 AS "nm_eng2"
		, remark AS
		"remark"
		, code AS "cd"
		, nm_kor AS "cd_nm"
		FROM
		COM030TL
		WHERE 1 = 1
		AND CODE <![CDATA[ <> ]]>
		'000000'
		AND CODE_DIV = #code_div#
		AND ( CODE LIKE
		#code# || '%'
		OR
		NM_KOR LIKE #code# || '%'
		)
	</select>

	<!-- NCOM0108E 조직관리(행정/도미노) 프로그램 시작 -->
	<select id="NCOM0108Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D1.COM020_DPT_CD AS "com020_dpt_cd"
		,D1.COM020_NM_KOR AS "com020_nm_kor"
		,D1.COM020_DIV AS "com020_div"
		,D1.COM020_UP_CD AS "com020_up_cd"
		,D1.COM020_CAMPUS AS "com020_campus"
		,D1.COM020_USE_YN AS "com020_use_yn"
		,D1.COM020_REP_DEPT_CD AS
		"com020_rep_dept_cd"
		,D1.COM020_DEPT_GROUP_CD AS "com020_dept_group_cd"
		,D1.COM020_BUG_YN AS "com020_bug_yn"
		,D1.COM020_PRO_YN AS
		"com020_pro_yn"
		,D1.COM020_ACC_SORT AS "com020_acc_sort"
		,D1.COM020_RECEIVER AS "com020_receiver"
		,D1.COM020_REFER AS
		"com020_refer"
		,D1.COM020_ETC_DEPT_DIV AS "com020_etc_dept_div"
		,D1.COM020_CHARGE_ORG_YN AS "com020_charge_org_yn"
		,D1.COM020_DOMINO_DPT_CD AS "com020_domino_dpt_cd"
		,D1.COM020_DOMINO_NM_KOR AS "com020_domino_nm_kor"
		,D1.COM020_DOMINO_UP_CD AS "com020_domino_up_cd"
		,D2.COM020_DOMINO_NM_KOR AS "com020_domino_up_nm"
		,D1.COM020_DOMINO_ADD_CD AS "com020_domino_add_cd"
		,D1.COM020_DOMINO_ORG_SYM AS "com020_domino_org_sym"
		,D1.COM020_DOMINO_USE_YN AS "com020_domino_use_yn"
		,D1.COM020_DOMINO_SORT_NUM AS "com020_domino_sort_num"
		,D1.COM020_DOMINO_ORG_SYM1 AS "com020_domino_org_sym1"
		FROM COM020TL D1
		,COM020TL D2
		,COM030TL C1
		,COM030TL C2
		WHERE 1=1
		AND
		D1.COM020_DOMINO_UP_CD = D2.COM020_DOMINO_DPT_CD(+)
		AND
		C1.CODE_DIV = 'NCOM903'
		AND D1.COM020_DEPT_GROUP_CD =
		C1.CODE
		AND C2.CODE_DIV = 'NCOM104'
		AND C2.CODE =
		C1.RELATION
		AND D1.COM020_DIV LIKE #com020_div# || '%'
		AND
		NVL(D1.COM020_CAMPUS,'999') LIKE #com020_campus# || '%'
		AND
		NVL(D1.COM020_UP_CD,'9999') LIKE #com020_up_cd# || '%'
		AND
		NVL(D1.COM020_USE_YN,'N') LIKE #com020_use_yn# || '%'
		AND
		NVL(D1.COM020_DOMINO_USE_YN, 'N') LIKE #com020_domino_use_yn# || '%'
		AND ( D1.COM020_DPT_CD LIKE #com020_dpt_cd# || '%'
		OR D1.COM020_NM_KOR
		LIKE '%' || #com020_dpt_cd# || '%' )
		AND NVL(C2.CODE,'%') LIKE
		#dept_group_clsf# || '%'
		AND NVL(D1.COM020_DEPT_GROUP_CD,'%') LIKE
		#dept_group# || '%'
		AND D1.COM020_DIV LIKE #dept_div# || '%'
		ORDER BY
		D1.COM020_DPT_CD
	</select>



	<update id="NCOM0108Eformupdate" parameterClass="paramMap">
		UPDATE COM020TL
		SET COM020_NM_KOR = #com020_nm_kor#
		,COM020_UP_CD = #com020_up_cd#
		,COM020_CAMPUS = #com020_campus#
		,COM020_USE_YN =
		NVL(#com020_use_yn#,'N')
		,COM020_BUG_YN = NVL(#com020_bug_yn#,'N')
		,COM020_PRO_YN = NVL(#com020_pro_yn#,'N')
		,COM020_ACC_SORT =
		#com020_acc_sort#
		,COM020_RECEIVER = #com020_receiver#
		,COM020_REFER =
		#com020_refer#
		,COM020_ETC_DEPT_DIV = #com020_etc_dept_div#
		,COM020_CHARGE_ORG_YN = NVL(#com020_charge_org_yn#,'N')
		,COM020_DOMINO_DPT_CD = #com020_domino_dpt_cd#
		,COM020_DOMINO_NM_KOR =
		#com020_domino_nm_kor#
		,COM020_DOMINO_UP_CD = #com020_domino_up_cd#
		,COM020_DOMINO_ADD_CD = #com020_domino_add_cd#
		,COM020_DOMINO_ORG_SYM =
		#com020_domino_org_sym#
		,COM020_DOMINO_USE_YN =
		NVL(#com020_domino_use_yn#,'N')
		,COM020_DOMINO_SORT_NUM =
		#com020_domino_sort_num#
		,COM020_DOMINO_ORG_SYM1 =
		#com020_domino_org_sym1#
		WHERE COM020_DPT_CD = #com020_dpt_cd#
	</update>

<select id="NCOM0301EnationCdselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			  SELECT COM040_NATION_CD 
					,COM040_NM_KOR
					,COM040_NM_ENG
					,COM040_ALIAS 
					,COM040_EDU_CODE 
					,COM040_WAG_CODE 
					,COM040_ARS_CODE 
				FROM COM040TL
			ORDER BY COM040_NM_KOR
        ]]>
	</select>

		<select id="NCOM0301Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[       
			  SELECT D1.SCHOOL_CD 	
					,D1.KEDI_CD 
					,D1.SCHOOL_DIV	
					
					,D1.SCHOOL_NM	
					,D1.AREA_CD		
				
					,D1.ZIP1		
					,D1.ZIP2		
					,D1.ADD1
					,D1.TEL		
					,D1.FAX		
					,D1.MODI_ID	
					,TO_CHAR(D1.MODI_DT,'YYYYMMDD') AS MODI_DT	
					,D1.NATION_CD
				
					,D1.CNV_CD	
					,D1.SCHOOL_ORGNM		
					,D1.HOMEPAGE			
					,D1.LANG_CIRCLE		
					,D1.EMAIL			
					,D1.AGRMNT_YN		
					,D1.SCHOOL_NM_ENG	
					,D1.CANCEL_YN		
					,TO_CHAR(D1.CANCEL_DT,'YYYYMMDD') AS CANCEL_DT
					,D1.CANCEL_ID		
					,D1.BANK_CD			
					,D1.PBOOK_NO			
					,D1.OWNER			
					,D1.INTR_EXCHNG_YN	
					,D1.INTR_EXCHNG_CAMPS
				FROM COM050TL D1
			   WHERE 1=1
				 AND NVL(AREA_CD,'%')	LIKE #strAreaCd# || '%'
				 AND SCHOOL_DIV 	LIKE #strSchoolDiv# || '%'
				 AND NVL(NATION_CD,'%') 	LIKE #strNationCd# || '%'
				 AND SCHOOL_NM 	LIKE #strSchoolNm# || '%'
  					]]>
		<dynamic>
			<isEqual property="strCancelYn" compareValue="Y">
				AND CANCEL_YN IS NOT NULL
			</isEqual>
			<isEqual property="strCancelYn" compareValue="N">
				AND CANCEL_YN IS NULL
			</isEqual>

		</dynamic>
  					
				   <![CDATA[       
			ORDER BY NATION_CD
					,AREA_CD
					,SCHOOL_DIV
					,SCHOOL_NM
        ]]>
	</select>

	<insert id="NCOM0301EmainForminsert" parameterClass="paramMap">
        <![CDATA[       
			
	
  INSERT INTO COM050TL
			  (
			  	 SCHOOL_CD	
				,SCHOOL_DIV	
				,SCHOOL_NM	
				,AREA_CD		
				,ZIP1		
				,ZIP2		
				,ADD1			
				,TEL			
				,FAX			
				,MODI_ID		
				,MODI_DT		
				,NATION_CD	
				,CANCEL_YN	
				,CANCEL_DT	
				,CANCEL_ID	
				,BANK_CD		
				,PBOOK_NO	
				,OWNER		
			  )
			  VALUES
			  (
			  	 #SCHOOL_CD#		
				,#SCHOOL_DIV#	
				,#SCHOOL_NM#		
				,#AREA_CD#		
				,#ZIP1#			
				,#ZIP2#			
				,#ADD1#			
				,#TEL#			
				,#FAX#			
				,#CRT_ID#				
				,SYSDATE				
				,#NATION_CD#		
				,#CANCEL_YN#		
				,#CANCEL_DT#		
				,DECODE(#CANCEL_YN#,'Y',#CRT_ID#,'')		
				,#BANK_CD#		
				,#PBOOK_NO#		
				,#OWNER#				  
			  )
        ]]>
	</insert>

	<update id="NCOM0301EmainFormupdate" parameterClass="paramMap">
        <![CDATA[
        	  UPDATE COM050TL
        	   	 SET SCHOOL_DIV	= #SCHOOL_DIV# 	
					,SCHOOL_NM	= #SCHOOL_NM# 	
					,AREA_CD		= #AREA_CD# 		
					,ZIP1		= #ZIP1# 		
					,ZIP2		= #ZIP2# 		
					,ADD1			= #ADD1# 			
					,TEL			= #TEL# 			
					,FAX			= #FAX# 			
					,MODI_ID		= #UPD_ID# 				
					,MODI_DT		= SYSDATE 				
					,NATION_CD	= #NATION_CD# 	
					,CANCEL_YN	= #CANCEL_YN# 	
					,CANCEL_DT	= #CANCEL_DT#	
					,CANCEL_ID	= DECODE(#CANCEL_YN#,'Y',#UPD_ID#,'') 	
					,BANK_CD		= #BANK_CD# 		
					,PBOOK_NO	= #PBOOK_NO# 	
					,OWNER		= #OWNER# 		
			   WHERE SCHOOL_CD	= #SCHOOL_CD# 	
        ]]>
	</update>
	
	<delete id="NCOM0301EmainFormdelete" parameterClass="paramMap">
        <![CDATA[
        	  DELETE
        	    FROM COM050TL
			   WHERE SCHOOL_CD	= #SCHOOL_CD# 	
        ]]>
	</delete>
	<select id="NCOM9910Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			 SELECT D1.NCOM250_YEAR as "ncom250_year"
			      , D1.NCOM250_SUB_ID as "ncom250_sub_id"
			      , D1.NCOM250_JOB_SCHED_CD as "ncom250_job_sched_cd"
			      , D1.NCOM250_ST_DT as "ncom250_st_dt"
			      , D1.NCOM250_END_DT as "ncom250_end_dt"
			      , D1.NCOM250_ST_TIME as "ncom250_st_time"
			      , D1.NCOM250_END_TIME as "ncom250_end_time"
			      , D1.NCOM250_REMARK as "ncom250_remark"
				FROM NCOM250TL D1
           		   , COM030TL D2
			 WHERE D1.NCOM250_JOB_SCHED_CD = D2.CODE
         	   AND D2.CODE_DIV = 'NCOM122'
         	   AND D2.USE_YN = 'Y'
			   AND D1.NCOM250_YEAR = #year#
			   AND D1.NCOM250_SUB_ID = #sub_id#  ]]>
		<dynamic>
			<isNotNull property="job_sched_nm">
				AND D2.NM_KOR LIKE '%'||#job_sched_nm#||'%'
			</isNotNull>
		</dynamic>
			     <![CDATA[
			 ORDER BY D1.NCOM250_ST_DT DESC
			  ]]>

	</select>
	<insert id="NCOM9910Emaininsert" parameterClass="paramMap">
		<![CDATA[
			INSERT INTO NCOM250TL(
				   NCOM250_YEAR			
				 , NCOM250_SUB_ID 			
				 , NCOM250_JOB_SCHED_CD 		
				 , NCOM250_ST_DT 		
				 , NCOM250_END_DT 		
				 , NCOM250_ST_TIME 		
				 , NCOM250_END_TIME 			
				 , NCOM250_REMARK 	
				 , CRT_DTTM 			
				 , CRT_ID 			
				 , CRT_PGM_ID 			
				 , CRT_IP 			
					)
			VALUES(
				   #ncom250_year#			
				 , #ncom250_sub_id# 			
				 , #ncom250_job_sched_cd# 			
				 , #ncom250_st_dt# 			
				 , #ncom250_end_dt# 			
				 , #ncom250_st_time# 			
				 , #ncom250_end_time# 			
				 , #ncom250_remark# 			
				 , SYSDATE 			
				 , #crt_id# 			
				 , #crt_pgm_id# 			
				 , #crt_ip# 			
					)
        ]]>
	</insert>
	<update id="NCOM9910Emainupdate" parameterClass="paramMap">
		<![CDATA[
			UPDATE NCOM250TL SET
			       UPD_DTTM = SYSDATE  ]]>
		<dynamic>
			<isNotNull property="ncom250_st_dt">
				,NCOM250_ST_DT = #ncom250_st_dt#
			</isNotNull>
			<isNotNull property="ncom250_end_dt">
				, NCOM250_END_DT = #ncom250_end_dt#
			</isNotNull>
			<isNotNull property="ncom250_st_time">
				, NCOM250_ST_TIME = #ncom250_st_time#
			</isNotNull>
			<isNotNull property="ncom250_end_time">
				, NCOM250_END_TIME = #ncom250_end_time#
			</isNotNull>
			<isNotNull property="ncom250_remark">
				, NCOM250_REMARK = #ncom250_remark#
			</isNotNull>
			<isNotNull property="upd_id">
				, UPD_ID = #upd_id#
			</isNotNull>
			<isNotNull property="upd_pgm_id">
				, UPD_PGM_ID = #upd_pgm_id#
			</isNotNull>
			<isNotNull property="upd_ip">
				, UPD_IP = #upd_ip#
			</isNotNull>

		</dynamic>
		<![CDATA[		
			 WHERE 1 = 1
			   AND NCOM250_YEAR = #ncom250_year#
			   AND NCOM250_SUB_ID = #ncom250_sub_id#
			   AND NCOM250_JOB_SCHED_CD = #ncom250_job_sched_cd#
        ]]>
	</update>

	<delete id="NCOM9910Emaindelete" parameterClass="paramMap">
		<![CDATA[
			DELETE NCOM250TL
			 WHERE 1 = 1
			   AND NCOM250_YEAR = #ncom250_year#
			   AND NCOM250_SUB_ID = #ncom250_sub_id#
			   AND NCOM250_JOB_SCHED_CD = #ncom250_job_sched_cd#
        ]]>
	</delete>

<select id="NCOM9902Ptitleselect" parameterClass="paramMap" resultClass="resultMap">
			SELECT NM_KOR || ' 목록' AS "grid_title"
			  FROM COM030TL
			 WHERE 1 = 1
			   AND CODE 		= '000000'
			   AND CODE_DIV 	= #codeDiv#
    </select>
    
    <select id="NCOM9902Pmainselect" parameterClass="paramMap" resultClass="resultMap">
             
			SELECT CODE_DIV		AS "code_div"
			     , CODE			AS "code"
			     , NM_KOR		AS "nm_kor"
			     , NM_ENG		AS "nm_eng"
			     , USE_YN		AS "use_yn"
			     , RELATION		AS "relation"
			     , RELATION2		AS "relation2"
			     , RELATION3		AS "relation3"
			     , NM_KOR2		AS "nm_kor2"
			     , NM_ENG2		AS "nm_eng2"
			     , REMARK		AS "remark"
				FROM COM030TL
			WHERE 1 = 1
			  AND CODE <![CDATA[ <> ]]> '000000'
			  AND CODE_DIV = #code_div#
			  AND ( UPPER(CODE) LIKE '%' || UPPER(#code#) || '%' 
			  		OR NM_KOR LIKE '%' || #code# || '%' 
			  		OR UPPER(NM_ENG) LIKE '%' || UPPER(#code#) || '%' ) 
    </select>


	<select id="NCOM0235Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
        	SELECT D2.COM020_DPT_CD      AS "com020_dpt_cd"    
				   ,D2.COM020_NM_KOR     AS "com020_nm_kor"    
             	   ,D2.COM020_NM_ENG     AS "com020_nm_eng"    
			  FROM COM020TL D1,COM020TL D2 ,COM030TL 	C1,COM030TL 	C2
			 WHERE 1=1
			   AND C1.CODE_DIV 		= 'NCOM903'	
			   AND D1.COM020_DEPT_GROUP_CD 	= C1.CODE
			   AND C2.CODE_DIV 		= 'NCOM104'	
			   AND C2.CODE			= C1.RELATION
			   AND D1.COM020_REP_DEPT_CD = D2.COM020_DPT_CD
			   AND D1.COM020_REP_DEPT_CD IS NOT NULL			   
			   AND D2.COM020_DIV 						LIKE #com020_div# || '%'
		       AND NVL(D2.COM020_CAMPUS,'999') 			LIKE #com020_campus# || '%'
		       AND NVL(D2.COM020_UP_CD,'9999')			LIKE #com020_up_cd# || '%'
		       AND NVL(D2.COM020_USE_YN,'N')				LIKE #com020_use_yn# || '%'
			   AND D2.COM020_NM_KOR LIKE #rep_dept_nm#||'%'
		 	   AND C2.CODE 			LIKE #dept_group_clsf# 	|| '%'  
			   AND D2.COM020_DEPT_GROUP_CD 	LIKE #dept_group# 		|| '%'  
			   AND D2.COM020_DIV 			LIKE #dept_div# 		|| '%' 
		  GROUP BY D2.COM020_DPT_CD,D2.COM020_NM_KOR,D2.COM020_NM_ENG
		  ORDER BY D2.COM020_NM_KOR
			]]>
	</select>

	<select id="NCOM0235Esubselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
        	SELECT COM020_DPT_CD	 as	"com020_dpt_cd"								
				   ,COM020_NM_KOR	as		"com020_nm_kor"							
              	   ,COM020_NM_ENG	as		"com020_nm_eng"						
              	   ,COM020_DIV			as		"COM020_DIV"						
				   ,COM020_UP_CD		as		"com020_up_cd"						
				   ,F_NCOM_DEPT_NM(COM020_UP_CD) 	AS "com020_up_nm" 	
              	   ,COM020_REP_DEPT_CD as  "com020_rep_dept_cd"            					
              	   ,COM020_USE_YN as  "com020_use_yn"
              	   ,COM020_CAMPUS as "com020_campus"
              	   ,DECODE(COM020_SCHL_DIV,'U','대학(안암)','C','전문대학','M','의과대학','S','서창') AS "com020_schl_div"
			  FROM COM020TL
			 WHERE 1=1
			   AND COM020_REP_DEPT_CD = #rep_dept_cd#
			]]>
	</select>

	<update id="NCOM0235Esubdelete" parameterClass="paramMap">
		<![CDATA[
        		UPDATE COM020TL
        		   SET COM020_REP_DEPT_CD = ''
        		 WHERE COM020_DPT_CD = #com020_dpt_cd#
			]]>
	</update>

	<update id="NCOM0235Esubinsert" parameterClass="paramMap">
		<![CDATA[
        		UPDATE COM020TL
        		   SET COM020_REP_DEPT_CD = #com020_rep_dept_cd#
        		 WHERE COM020_DPT_CD = #com020_dpt_cd#
			]]>
	</update>

	<select id="NCOM0212EupDptDivselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D2.COM020_DPT_CD AS "cd"
		,D2.COM020_NM_KOR AS "cd_nm"
		FROM COM020TL D2
		,COM020TL D1
		WHERE 1 = 1
		AND D1.COM020_UP_CD = D2.COM020_DPT_CD
		AND D1.COM020_DIV = '110'
		AND D1.COM020_USE_YN = 'Y'
		GROUP BY D2.COM020_DPT_CD
		,D2.COM020_NM_KOR
		ORDER BY D2.COM020_DPT_CD
		,D2.COM020_NM_KOR
	</select>

	<select id="NCOM0212EdptDivselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT COM020_DPT_CD AS "cd"
		,COM020_NM_KOR AS "cd_nm"
		,COM020_UP_CD AS "up_cd"
		FROM COM020TL
		WHERE 1 = 1
		AND COM020_USE_YN = 'Y'
		AND COM020_UP_CD IS NOT NULL
		AND COM020_UP_CD IN (
		SELECT D2.COM020_DPT_CD
		FROM COM020TL D2
		,COM020TL D1
		WHERE 1 = 1
		AND D1.COM020_UP_CD = D2.COM020_DPT_CD
		AND D1.COM020_DIV = '110'
		AND D1.COM020_USE_YN = 'Y'
		GROUP BY D2.COM020_DPT_CD
		)
		ORDER BY COM020_NM_KOR
	</select>

	<select id="NCOM0212Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D1.com020_up_cd AS "com020_up_cd"
		,D1.com020_dpt_cd AS "com020_dpt_cd"
		,D1.com020_nm_kor AS "com020_nm_kor"
		,D1.com020_div AS "com020_div"
		,( SELECT COUNT(*) FROM COM160TL WHERE COM160_DPT_CD = D1.COM020_DPT_CD
		) AS "dpt_cnt"
		FROM COM020TL D1 ,COM030TL C1,COM030TL C2, COM160TL D2
		WHERE 1 = 1
		AND C1.CODE_DIV = 'NCOM903'
		AND D1.COM020_DEPT_GROUP_CD = C1.CODE
		AND C2.CODE_DIV = 'NCOM104'
		AND C2.CODE = C1.RELATION
		and D1.COM020_DPT_CD=D2.COM160_DPT_CD
		AND D1.COM020_DIV LIKE #com020_div# || '%'
		AND NVL(D1.COM020_CAMPUS,'999') LIKE #com020_campus# || '%'
		AND NVL(D1.COM020_UP_CD,'9999') LIKE #com020_up_cd# || '%'
		AND NVL(D1.COM020_USE_YN,'N') LIKE #com020_use_yn# || '%'
		AND (D1.COM020_DPT_CD LIKE #com020_dpt_cd# || '%'
		OR D1.COM020_NM_KOR LIKE '%' || #com020_dpt_cd# || '%'
		)
		AND C2.CODE LIKE #dept_group_clsf# || '%'
		AND D1.COM020_DEPT_GROUP_CD LIKE #dept_group# || '%'
		AND D1.COM020_DIV LIKE #dept_div# || '%'
		GROUP BY
		D1.COM020_UP_CD,D1.COM020_UP_CD,D1.COM020_DPT_CD,D1.COM020_NM_KOR,D1.COM020_DIV
	</select>

	<select id="NCOM0212Esubselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT com160_dpt_cd AS "com160_dpt_cd"
		,F_NCOM_DEPT_NM(COM160_DPT_CD) AS "com160_dpt_nm"
		,com160_col_grad AS "com160_col_grad"
		,F_NCOM_DEPT_NM(COM160_COL_GRAD) AS "com160_col_grad_nm"
		,com160_dept_cd AS "com160_dept_cd"
		,F_NCOM_DEPT_NM(COM160_DEPT_CD) AS "com160_dept_nm"
		FROM COM160TL
		WHERE 1=1
		AND COM160_DPT_CD = #com160_dpt_cd#
		ORDER BY COM160_DPT_CD
		,COM160_COL_GRAD
		,COM160_DEPT_CD
	</select>

	<delete id="NCOM0212Esubdelete" parameterClass="paramMap">
		DELETE
		FROM COM160TL
		WHERE COM160_DPT_CD = #com160_dpt_cd#
		AND COM160_COL_GRAD = #com160_col_grad#
		AND COM160_DEPT_CD = #com160_dept_cd#
	</delete>

	<insert id="NCOM0212Esubinsert" parameterClass="paramMap">
		INSERT INTO COM160TL
		(
		COM160_DPT_CD
		,COM160_COL_GRAD
		,COM160_DEPT_CD
		,CRT_DTTM
		,CRT_ID
		,CRT_PGM_ID
		,CRT_IP
		)
		VALUES
		(
		#com160_dpt_cd#
		,#com160_col_grad#
		,#com160_dept_cd#
		,SYSDATE
		,#crt_id#
		,#crt_pgm_id#
		,#crt_ip#
		)
	</insert>

	<select id="NCOM0212E.dept.select" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT D2.com020_dept_group_cd AS "com020_dept_group_cd"
		,C2.code AS "code"
		,D2.com020_div AS "com020_div"
		,C2.NM_KOR AS "dept_group_clsf"
		,C1.RELATION2 AS "dept_group_alias2"
		,C3.NM_KOR AS "dept_div_nm"
		,D2.com020_dpt_cd AS "com020_dpt_cd"
		,D2.com020_nm_kor AS "com020_nm_kor"
		,D2.com020_campus AS "com020_campus"
		,C4.NM_KOR AS "campus_nm"
		,D2.com020_use_yn AS "com020_use_yn"
		,D2.com020_up_cd AS "com020_up_cd"
		,D3.COM020_NM_KOR AS "up_nm"
		,D2.com020_nm_eng AS "com020_nm_eng"
		,D2.com020_domino_dpt_cd AS "com020_domino_dpt_cd"
		,D2.com020_domino_use_yn AS "com020_domino_use_yn"
		,D2.com020_schl_div AS "com020_schl_div"
		FROM COM020TL D2
		,COM020TL D3
		,COM030TL C1
		,COM030TL C2
		,COM030TL C3
		,COM030TL C4
		WHERE 1=1
		AND D2.COM020_UP_CD = D3.COM020_DPT_CD(+)

		AND C1.CODE_DIV = 'NCOM903'
		AND D2.COM020_DEPT_GROUP_CD = C1.CODE
		AND C2.CODE_DIV = 'NCOM104'
		AND C2.CODE = C1.RELATION
		AND C3.CODE_DIV = 'COM003'
		AND D2.COM020_DIV = C3.CODE
		AND C4.CODE_DIV = 'COM005'
		AND D2.COM020_CAMPUS = C4.CODE

		AND ( UPPER(D2.COM020_DPT_CD) LIKE '%' || #com020_dpt_cd# || '%'
		OR UPPER(D2.COM020_NM_KOR) LIKE '%' || #com020_dpt_cd# || '%' )
		ORDER BY D2.COM020_NM_KOR
	</select>
	
	<select id="NCOM0228Qmainuserdeptcdselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			SELECT USER_NO as "user_no"
				   ,USER_NM as "user_nm"
              	   ,USER_DEPT_NM as "user_dept_nm"
              	   ,UP_DEPT_NM as "up_dept_nm"
              	   ,AUTHGRP_CNT as "authgrp_cnt"
              	   ,DTL_JOB_CNT        as  "dtl_job_cnt"
			 FROM(
			 		SELECT D1.NCOM906_USER_NO   AS USER_NO                                      
	                   	   ,D1.NCOM906_USER_NM  AS USER_NM                                         
			               ,D2.COM020_NM_KOR  AS USER_DEPT_NM                                    
			               ,D3.COM020_NM_KOR  AS UP_DEPT_NM                                  
                           ,(SELECT COUNT(1) FROM NCOM098TL S1 WHERE D1.NCOM906_USER_NO = S1.NCOM098_USER_NO)  AS AUTHGRP_CNT	                    
                           ,(SELECT COUNT(1) FROM NCOM705TL S1 WHERE D1.NCOM906_USER_NO = S1.NCOM705_USER_NO)  AS DTL_JOB_CNT 
	              	  FROM NCOM906VW D1	
                       	   ,COM020TL D2
                       	   ,COM020TL D3 
	              	 WHERE 1 = 1
                       AND D1.NCOM906_DEPT_CD = D2.COM020_DPT_CD(+)
                       AND D2.COM020_UP_CD = D3.COM020_DPT_CD
	               	   AND D1.NCOM906_USER_DIV       =#user_div#                    
	               	   AND D1.NCOM906_DEPT_CD   LIKE #user_dept_cd# || '%'          
	               	   AND (D1.NCOM906_USER_NO    LIKE#keyword#|| '%'            	 
	                		OR  D1.NCOM906_USER_NM    LIKE '%' || #keyword# || '%')          
	               	   AND D1.NCOM906_STS_CD      LIKE #state_div#|| '%'
	    			  GROUP BY D1.NCOM906_USER_NO , D1.NCOM906_USER_NM ,D2.COM020_NM_KOR,D3.COM020_NM_KOR
	    			  ORDER BY D1.NCOM906_USER_NO
	      			)
			 WHERE 1=1
        ]]>
        <dynamic>
        	<isEqual property="auth_div" compareValue="authed">
        	AND AUTHGRP_CNT > 0
        	</isEqual>
        </dynamic>
    </select>
    
    
    <select id="NCOM0206Emainselect"  parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
                 SELECT NCOM101_DEPT_CATE_CD  as "ncom101_dept_cate_cd"
                       ,NCOM101_DEPT_CATE_NM   as "ncom101_dept_cate_nm"
                       ,NCOM101_DESC            as "ncom101_desc"
                       ,NCOM101_ASGN_DIV  as "ncom101_asgn_div"
                       ,NCOM101_DATA_VIEW  as "ncom101_data_view"
                       ,NCOM101_DATA_VIEW_PARAM  as "ncom101_data_view_param"
                       ,NCOM101_DEPT_CATE_ALIAS  as "ncom101_dept_cate_alias"
                       ,NCOM101_JOB_DIV_CD  as "ncom101_job_div_cd"
                   FROM NCOM101TL
                  WHERE 1=1
                  	AND NVL(NCOM101_JOB_DIV_CD,'%') LIKE #job_div_cd#||'%'
                    AND (NCOM101_DEPT_CATE_CD LIKE #ncom101_dept_cate_nm# || '%'
                	 OR NCOM101_DEPT_CATE_NM LIKE '%' || #ncom101_dept_cate_nm# || '%')
                 ORDER BY NCOM101_DEPT_CATE_CD	 
		]]>
	</select>
	
	<select id="NCOM0206Esubselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
                 SELECT NCOM102_DEPT_CATE_CD   as "ncom102_dept_cate_cd"
                       ,NCOM102_DEPT_CATE_SEQ     as "ncom102_dept_cate_seq"
                       ,NCOM102_INCL_DIV         as "ncom102_incl_div"
                       ,NCOM102_CAMPUS_DIV       as "ncom102_campus_div"
                       ,NCOM102_DEPT_GRP         as "ncom102_dept_grp"
                       ,NCOM102_DEPT_DIV         as "ncom102_dept_div"
                       ,F_NCOM_CODE_NM('COM003', NCOM102_DEPT_DIV) AS "ncom102_dept_div_nm"
                       ,NCOM102_DEPT_AUTH_SCOPE   as "ncom102_dept_auth_scope"
                       ,NCOM102_ASGN_DEPT_CD      as "ncom102_asgn_dept_cd"
                       ,NCOM102_UP_DEPT_CD  as "ncom102_up_dept_cd"
                       ,F_NCOM_DEPT_NM(NCOM102_UP_DEPT_CD) AS "ncom102_up_dept_nm"
                       ,NCOM102_DEPT_USE_YN  as "ncom102_dept_use_yn"
                       ,NCOM102_COL_DIV_CD  as "ncom102_col_div_cd"
                       ,F_NCOM_DEPT_NM(NCOM102_ASGN_DEPT_CD) AS "ncom102_asgn_dept_nm"
                   FROM NCOM102TL
                  WHERE 1=1
                    AND NCOM102_DEPT_CATE_CD = #ncom102_dept_cate_cd#
               ORDER BY NCOM102_DEPT_CATE_CD
                       ,NCOM102_DEPT_CATE_SEQ
		]]>
	</select>
	
	<select id="NCOM0206Edeptselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
				  SELECT 
				         D3.NM_KOR AS  "com020_div_nm"        
				        ,'asdf' AS "com020_dpt_cd"                                                        
				        ,'qwer' "com020_nm_kor"                                                      
				        ,'asdf' "com020_up_cd"                                                         
				        ,D4.COM020_NM_KOR                   AS "com020_up_nm"           
				        ,'zxcv'as  "com020_use_yn"                                                          
				        ,'gthg' AS "com020_dept_group_cd"                                                       
				       , D2.NM_KOR AS "com020_campus_nm"
				FROM  COM030TL     D2    
				, COM030TL     D3   
				, COM020TL    D4   
			WHERE 1 = 1
			AND D2.CODE_DIV = 'COM005'  
			AND D3.CODE_DIV = 'COM003'
			AND ROWNUM<10
			
		]]>
		<dynamic>
			<isNotEmpty property="sort_order">
				ORDER BY #sort_order#
			</isNotEmpty>
			<isEmpty property="sort_order">
				ORDER BY COM020_DPT_CD
			</isEmpty>
		</dynamic>
	</select>
	<select id="NCOM0206Edept2select" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
				  SELECT D3.NM_KOR AS "com020_div_nm" , 
				       D1.COM020_DPT_CD  AS "com020_dpt_cd", 
				       D1.COM020_NM_KOR  AS "com020_nm_kor",
				       D1.COM020_UP_CD AS  "com020_up_cd", 
				       D4.COM020_NM_KOR AS "com020_up_nm" ,
				       D2.NM_KOR AS "com020_campus_nm" , 
				       D1.COM020_USE_YN  AS "com020_use_yn", 
				       D1.COM020_DEPT_GROUP_CD AS "com020_dept_group_cd" ,
				       D1.COM020_SCHL_DIV AS  "com020_schl_div"
				  FROM 
				       (SELECT S1.COM020_DIV , 
				              S1.COM020_DPT_CD , 
				              S1.COM020_NM_KOR , 
				              S1.COM020_CAMPUS , 
				              S1.COM020_USE_YN , 
				              S1.COM020_DEPT_GROUP_CD ,
				              S1.COM020_UP_CD ,
				              S1.COM020_SCHL_DIV
				         FROM COM020TL S1 
				        WHERE 1=1 
				              AND COM020_CAMPUS LIKE #campus# || '%'
				              AND COM020_DEPT_GROUP_CD LIKE #dept_grp_cd# || '%'
				              AND COM020_DIV LIKE #dept_div# || '%' 
				              AND COM020_DPT_CD LIKE #dept_cd# || '%'
				              AND COM020_UP_CD LIKE #up_dept_cd# || '%'
				              AND COM020_SCHL_DIV LIKE #col_div_cd# || '%'
				              AND COM020_USE_YN LIKE #dept_use_yn# || '%' 
				       ) D1 
				       , COM030TL D2 
				       , COM030TL D3 
				       , COM020TL D4
				 WHERE 1 = 1 
				       AND D2.CODE_DIV(+) = 'COM005' 
				       AND D2.CODE(+) = D1.COM020_CAMPUS 
				       AND D3.CODE_DIV(+) = 'COM003' 
				       AND D3.CODE(+) = D1.COM020_DIV 
				       AND D4.COM020_DPT_CD(+) = D1.COM020_UP_CD 
				ORDER BY D1.COM020_NM_KOR
		]]>
	</select>
	<select id="NCOM0207Emenuselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
				  SELECT NCOM094_SYS_ID		AS SYS_ID
					  	,NCOM094_SUB_ID		AS SUB_ID
						,NCOM094_MENU_ID	AS MENU_ID
						,NCOM094_MENU_NM	AS MENU_NM
					FROM NCOM094TL D1
				   WHERE 1=1
				ORDER BY NCOM094_SYS_ID
						,NCOM094_SUB_ID
						,NCOM094_PRT_STEP
		]]>
	</select>
	<select id="NCOM0207Emainselect"  parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
        	SELECT D1.NCOM095_MENU_PGM_ID
				  ,D1.NCOM095_SYS_ID  	
			      ,D1.NCOM095_SUB_ID	
			      ,D1.NCOM095_MENU_ID	
			      ,D2.NCOM094_MENU_NM	
			      ,D1.NCOM095_PGM_ID
			      ,D1.NCOM095_MENU_PGM_NM
			      ,D1.NCOM095_JOB_DIV
			    FROM NCOM095TL D1
			      	,NCOM094TL D2
			WHERE 1 = 1
			  AND D1.NCOM095_SYS_ID	= D2.NCOM094_SYS_ID	 
			  AND D1.NCOM095_SUB_ID  = D2.NCOM094_SUB_ID	
			  AND D1.NCOM095_MENU_ID = D2.NCOM094_MENU_ID
			  AND D1.NCOM095_JOB_DIV = #job_div#
			  AND D1.NCOM095_SYS_ID  LIKE #sys_id# || '%'	
			  AND D1.NCOM095_SUB_ID  LIKE #sub_id# || '%'	
			  AND D1.NCOM095_MENU_ID LIKE #menu_id# || '%'
			  AND (D1.NCOM095_MENU_PGM_NM LIKE #pgm_cd#||'%'
        					OR D1.NCOM095_PGM_ID LIKE #pgm_cd#||'%')
			ORDER BY D2.NCOM094_PRT_STEP, D1.NCOM095_MENU_PGM_ID
		]]>
	</select>
	
	
	<select id="NCOM0207Esubselect"  parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
			SELECT D1.NCOM095_MENU_PGM_ID
			      ,D1.NCOM095_JOB_DIV			
			      ,D2.NCOM100_DTL_JOB_CD AS NCOM100_DET_JOB_CD		
			      ,D2.NCOM100_DTL_JOB_NM AS NCOM100_DET_JOB_NM		
			      ,( 
			         SELECT NVL2(MAX(NCOM704_DTL_JOB_CD),'Y','N')
			           FROM NCOM704TL
			          WHERE 1=1
			            AND NCOM704_DTL_JOB_CD = D2.NCOM100_DTL_JOB_CD
			            AND NCOM704_MENU_PGM_ID = D1.NCOM095_MENU_PGM_ID
			      ) AS EXT_YN
			    FROM NCOM095TL D1
			      	,NCOM100TL D2
			 WHERE 1=1
			   AND D1.NCOM095_JOB_DIV 	= D2.NCOM100_JOB_DIV
			   AND D1.NCOM095_MENU_PGM_ID = #menu_pgm_id#
			   AND D1.NCOM095_JOB_DIV 	= #job_div#
			ORDER BY D1.NCOM095_MENU_PGM_ID
			    		,D2.NCOM100_DTL_JOB_CD
		]]>
	</select>
	
	
	<select id="NCOM0207EdetJobselect"  parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
				SELECT NCOM100_DTL_JOB_CD AS CD
					  ,NCOM100_DTL_JOB_NM AS CD_NM
				  FROM NCOM100TL
				 WHERE 1=1
				   AND NCOM100_JOB_DIV = #job_div#
			  ORDER BY NCOM100_DTL_JOB_CD
		]]>
	</select>
<!-- NCOM9908P : 주소검색팝업 프로그램 시작 -->	
	<select id="NCOM9908Pmainselect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			  SELECT NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || ' ' || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NCOM011_RAW_EMD_NM ELSE '' END
			 	     || ' ' || NCOM011_RN_NM || ' ' || BULD_NO
       			     || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
       				 	     WHEN NCOM011_RAW_EMD_NM IS NULL THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
               			     ELSE '(' || NCOM011_RAW_EMD_NM || NVL2(NCOM011_SIG_BULD_NM, ', ' || NCOM011_SIG_BULD_NM, '') || ')' 
           			  	END													AS ROAD_ADDR	
		  			,NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || NVL2(NCOM011_RAW_EMD_NM, ' ' || NCOM011_RAW_EMD_NM, '') || NVL2(NCOM011_RAW_RI_NM, ' ' || NCOM011_RAW_RI_NM, '')
			 		 || ' ' || LNBR_NO || ' ' || NCOM011_SIG_BULD_NM		AS LNBR_ADDR	
      				,NCOM011_ZIP_NO 														
					,SUBSTR(NCOM011_ZIP_NO,1,3)								AS ZIP_NO1		
      				,SUBSTR(NCOM011_ZIP_NO,4,3)								AS ZIP_NO2  	
					,NCOM011_BULD_NO														
				FROM 
					( SELECT NCOM011_SI_NM 										
					        ,NCOM011_SIG_NM 									
					        ,NCOM011_RAW_EMD_NM 								
					        ,SUBSTR(NCOM011_RAW_EMD_NM, -1) 	AS RAW_EM_NM 	
					        ,NCOM011_RAW_RI_NM									
					        ,NCOM011_RN_NM										
					        ,NCOM011_SIG_BULD_NM								
					        ,NCOM011_BULD_MNNM || DECODE(NCOM011_BULD_SLNO,'0', '', '-' || NCOM011_BULD_SLNO) AS BULD_NO	
					        ,NCOM011_LNBR_MNNM || DECODE(NCOM011_LNBR_SLNO,'0', '', '-' || NCOM011_LNBR_SLNO) AS LNBR_NO	
					        ,NCOM011_LNBR_MNNM
					        ,NCOM011_LNBR_SLNO
							,NCOM011_ZIP_NO        																
							,SUBSTR(NCOM011_ZIP_NO,1,3) 										AS ZIP_NO1		
					        ,SUBSTR(NCOM011_ZIP_NO,4,3) 										AS ZIP_NO2  	
							,NCOM011_BULD_NO       																
						FROM NCOM011TL
					   WHERE 1=1
					     AND NCOM011_SI_NM 			= #si_nm#
					   	 AND NCOM011_RAW_EMD_NM  	LIKE #srch_nm# 	|| '%'
						 AND NCOM011_LNBR_MNNM 		= #srch_no1#
						 AND NCOM011_LNBR_SLNO 		LIKE #srch_no2# || '%'
					)
			ORDER BY NCOM011_SI_NM			
        			,NCOM011_SIG_NM			
    				,NCOM011_RAW_EMD_NM		
        			,NCOM011_RAW_RI_NM		
    				,NCOM011_LNBR_MNNM		
    				,NCOM011_LNBR_SLNO		
        ]]>
	</select>
	
	<select id="NCOM9908Pmain2select" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			  SELECT NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || ' ' || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NCOM011_RAW_EMD_NM ELSE '' END
			 	     || ' ' || NCOM011_RN_NM || ' ' || BULD_NO
       			     || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
       				 	     WHEN NCOM011_RAW_EMD_NM IS NULL THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
               			     ELSE '(' || NCOM011_RAW_EMD_NM || NVL2(NCOM011_SIG_BULD_NM, ', ' || NCOM011_SIG_BULD_NM, '') || ')' 
           			  	END													AS ROAD_ADDR	
		  			,NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || NVL2(NCOM011_RAW_EMD_NM, ' ' || NCOM011_RAW_EMD_NM, '') || NVL2(NCOM011_RAW_RI_NM, ' ' || NCOM011_RAW_RI_NM, '')
			 		 || ' ' || LNBR_NO || ' ' || NCOM011_SIG_BULD_NM		AS LNBR_ADDR	
      				,NCOM011_ZIP_NO 														
					,SUBSTR(NCOM011_ZIP_NO,1,3)								AS ZIP_NO1		
      				,SUBSTR(NCOM011_ZIP_NO,4,3)								AS ZIP_NO2  	
					,NCOM011_BULD_NO														
				FROM 
					( SELECT NCOM011_SI_NM 										
					        ,NCOM011_SIG_NM 									
					        ,NCOM011_RAW_EMD_NM 								
					        ,SUBSTR(NCOM011_RAW_EMD_NM, -1) 	AS RAW_EM_NM 	
					        ,NCOM011_RAW_RI_NM									
					        ,NCOM011_RN_NM										
					        ,NCOM011_SIG_BULD_NM								
					        ,NCOM011_BULD_MNNM || DECODE(NCOM011_BULD_SLNO,'0', '', '-' || NCOM011_BULD_SLNO) AS BULD_NO	
					        ,NCOM011_LNBR_MNNM || DECODE(NCOM011_LNBR_SLNO,'0', '', '-' || NCOM011_LNBR_SLNO) AS LNBR_NO	
					        ,NCOM011_LNBR_MNNM
					        ,NCOM011_LNBR_SLNO
							,NCOM011_ZIP_NO        																
							,SUBSTR(NCOM011_ZIP_NO,1,3) 										AS ZIP_NO1		
					        ,SUBSTR(NCOM011_ZIP_NO,4,3) 										AS ZIP_NO2  	
							,NCOM011_BULD_NO       																
						FROM NCOM011TL
					   WHERE 1=1
					     AND NCOM011_SI_NM 			= #si_nm#
			   	 		 AND NCOM011_SIG_BULD_NM  	LIKE #srch_nm# 	|| '%' 
					)
			ORDER BY NCOM011_SI_NM			-- 시도명
        			,NCOM011_SIG_NM			-- 시군구명
    				,NCOM011_RAW_EMD_NM		-- 법정읍면동
        			,NCOM011_RAW_RI_NM		-- 법정리
    				,NCOM011_LNBR_MNNM		-- 지번본번
    				,NCOM011_LNBR_SLNO		-- 지번부번
        ]]>
	</select>
	
	<select id="NCOM9908Pmain3select" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[
			  SELECT NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || ' ' || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NCOM011_RAW_EMD_NM ELSE '' END
			 	     || ' ' || NCOM011_RN_NM || ' ' || BULD_NO
       			     || CASE WHEN RAW_EM_NM = '읍' OR RAW_EM_NM = '면' THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
       				 	     WHEN NCOM011_RAW_EMD_NM IS NULL THEN NVL2(NCOM011_SIG_BULD_NM, '(' || NCOM011_SIG_BULD_NM || ')', '')
               			     ELSE '(' || NCOM011_RAW_EMD_NM || NVL2(NCOM011_SIG_BULD_NM, ', ' || NCOM011_SIG_BULD_NM, '') || ')' 
           			  	END													AS ROAD_ADDR	
		  			,NCOM011_SI_NM || ' ' || NCOM011_SIG_NM || NVL2(NCOM011_RAW_EMD_NM, ' ' || NCOM011_RAW_EMD_NM, '') || NVL2(NCOM011_RAW_RI_NM, ' ' || NCOM011_RAW_RI_NM, '')
			 		 || ' ' || LNBR_NO || ' ' || NCOM011_SIG_BULD_NM		AS LNBR_ADDR	
      				,NCOM011_ZIP_NO 														
					,SUBSTR(NCOM011_ZIP_NO,1,3)								AS ZIP_NO1		
      				,SUBSTR(NCOM011_ZIP_NO,4,3)								AS ZIP_NO2  	
					,NCOM011_BULD_NO														
				FROM 
					( SELECT NCOM011_SI_NM 										
					        ,NCOM011_SIG_NM 									
					        ,NCOM011_RAW_EMD_NM 								
					        ,SUBSTR(NCOM011_RAW_EMD_NM, -1) 	AS RAW_EM_NM 	
					        ,NCOM011_RAW_RI_NM									
					        ,NCOM011_RN_NM										
					        ,NCOM011_SIG_BULD_NM								
					        ,NCOM011_BULD_MNNM || DECODE(NCOM011_BULD_SLNO,'0', '', '-' || NCOM011_BULD_SLNO) AS BULD_NO	
					        ,NCOM011_BULD_MNNM
					        ,NCOM011_BULD_SLNO
					        ,NCOM011_LNBR_MNNM || DECODE(NCOM011_LNBR_SLNO,'0', '', '-' || NCOM011_LNBR_SLNO) AS LNBR_NO	
					        ,NCOM011_LNBR_MNNM
					        ,NCOM011_LNBR_SLNO
							,NCOM011_ZIP_NO        																
							,SUBSTR(NCOM011_ZIP_NO,1,3) 										AS ZIP_NO1		
					        ,SUBSTR(NCOM011_ZIP_NO,4,3) 										AS ZIP_NO2  	
							,NCOM011_BULD_NO       																
						FROM NCOM011TL
					   WHERE 1=1
					     AND NCOM011_SI_NM 		= #si_nm#					
			   	 		 AND NCOM011_RN_NM  	= REPLACE(#srch_nm#,' ','')	
			   	 		 AND NCOM011_BULD_MNNM 	LIKE #srch_no1# || '%'		
					)
			ORDER BY NCOM011_SI_NM		
					,NCOM011_SIG_NM		
					,NCOM011_RAW_EMD_NM	
					,NCOM011_RAW_RI_NM	
					,NCOM011_RN_NM		     
					,NCOM011_BULD_MNNM	
					,NCOM011_BULD_SLNO	
        ]]>
	</select>
<!-- NCOM9908P : 주소검색팝업 프로그램 끝 -->	
<!-- NCOM9701E(발송문 마스터 관리) 시작 -->
	<select id="NCOM9701EsubIdselect" parameterClass="paramMap"
		resultClass="resultMap">
    	<![CDATA[
			  SELECT NCOM092_SUB_ID AS SUB_ID 	
			  		,NCOM092_SUB_NM AS SUB_NM	
				FROM NCOM092TL D1
			   WHERE 1 = 1
				 AND ( NCOM092_SYS_ID = 'NCMN' OR NCOM092_SYS_ID = 'NGEN' OR NCOM092_SYS_ID = 'NRMG' )
			ORDER BY NCOM092_SYS_ID
					,NCOM092_PRT_STEP
    	]]>
    </select>
    
    <select id="NCOM9701Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
    	<![CDATA[
			  SELECT NCOM610_SEND_DOC_CD		
					,NCOM610_SEND_DOC_TITLE		
					,NCOM610_SEND_DOC_CONTENT	
					,NCOM610_SEND_ORG_NM		
					,NCOM610_SEND_ORG_EMAIL		
					,NCOM610_AUTO_SEND_YN		
					,NCOM610_USE_YN				
					,NCOM610_REMARK				
					,NCOM610_SEND_CATE_CD	
					,NCOM610_SUB_ID	
				FROM NCOM610TL
			   WHERE 1=1
			     AND (NCOM610_SEND_DOC_TITLE LIKE '%' || #strSendDocTitle# || '%'
			     	  OR NCOM610_SEND_DOC_CD LIKE '%' || #strSendDocTitle# || '%'		
			     		)
		 	ORDER BY NCOM610_SEND_DOC_CD
    	]]>
    </select>


	<select id="NCOM9701Eparamselect" parameterClass="paramMap"
		resultClass="resultMap">
		<![CDATA[
		  SELECT NCOM611_SEND_DOC_CD
				 ,NCOM611_PARAM_DIV
            	 ,NCOM611_PARAM_CD
            	 ,NCOM611_PARAM_NM
            	 ,NCOM611_REMARK
            	 ,NCOM611_USE_YN
            	 ,NCOM611_PRT_STEP
		    FROM NCOM611TL
		   WHERE 1=1
			 AND NCOM611_SEND_DOC_CD = #strSendDocCd#
        ORDER BY NCOM611_PARAM_DIV
        		,NCOM611_PRT_STEP
        ]]>
	</select>
	
	<insert id="NCOM9701Emaininsert" parameterClass="paramMap">
		<![CDATA[
			INSERT INTO NCOM610TL
			(
				 NCOM610_SEND_DOC_CD		
				,NCOM610_SEND_DOC_TITLE		
				,NCOM610_SEND_ORG_NM		
				,NCOM610_SEND_ORG_EMAIL		
				,NCOM610_AUTO_SEND_YN		
				,NCOM610_USE_YN				
				,NCOM610_SUB_ID
				,NCOM610_SEND_CATE_CD	
				,CRT_DTTM					
				,CRT_ID						
				,CRT_PGM_ID					
				,CRT_IP					
			)
			VALUES
			(
				 #NCOM610_SEND_DOC_CD#				
				,#NCOM610_SEND_DOC_TITLE#		
				,#NCOM610_SEND_ORG_NM#				
				,#NCOM610_SEND_ORG_EMAIL#			
				,NVL(#NCOM610_AUTO_SEND_YN#,'N')	
				,NVL(#NCOM610_USE_YN#,'N')		
				,#NCOM610_SUB_ID#
				,#NCOM610_SEND_CATE_CD#
				,SYSDATE 						
				,#CRT_ID# 						
				,#CRT_PGM_ID# 						
				,#CRT_IP# 							
			)
        ]]>
	</insert>
	
	<update id="NCOM9701Emainupdate" parameterClass="paramMap">
		<![CDATA[
		  UPDATE NCOM610TL
			 SET NCOM610_SEND_DOC_TITLE 	= #NCOM610_SEND_DOC_TITLE#			
				,NCOM610_SEND_ORG_NM 		= #NCOM610_SEND_ORG_NM#				
				,NCOM610_SEND_ORG_EMAIL 	= #NCOM610_SEND_ORG_EMAIL#			
				,NCOM610_AUTO_SEND_YN 		= NVL(#NCOM610_AUTO_SEND_YN#,'N')	
				,NCOM610_USE_YN 			= NVL(#NCOM610_USE_YN#,'N')		
				,NCOM610_SUB_ID				= #NCOM610_SUB_ID#
				,NCOM610_SEND_CATE_CD	    = #NCOM610_SEND_CATE_CD#
				,UPD_DTTM 					= SYSDATE
				,UPD_ID 					= #UPD_ID# 
			    ,UPD_PGM_ID 				= #UPD_PGM_ID# 
			    ,UPD_IP 					= #UPD_IP# 
		   WHERE 1=1
		     AND NCOM610_SEND_DOC_CD 		= #NCOM610_SEND_DOC_CD#				
        ]]>
	</update>
	
	<delete id="NCOM9701Emaindelete" parameterClass="paramMap">
		<![CDATA[
		  DELETE
		    FROM NCOM610TL
		   WHERE 1=1
		     AND NCOM610_SEND_DOC_CD 		= #NCOM610_SEND_DOC_CD#		
        ]]>
	</delete>
	
	<insert id="NCOM9701Eparaminsert" parameterClass="paramMap">
		<![CDATA[
			INSERT INTO NCOM611TL
			(
				 NCOM611_SEND_DOC_CD	
				,NCOM611_PARAM_DIV		
				,NCOM611_PARAM_CD			
				,NCOM611_PARAM_NM			
				,NCOM611_REMARK				
				,NCOM611_USE_YN				
				,NCOM611_PRT_STEP			
				,CRT_DTTM					
				,CRT_ID						
				,CRT_PGM_ID					
				,CRT_IP						
			)
			VALUES
			(
				 #NCOM611_SEND_DOC_CD#		
				,#NCOM611_PARAM_DIV#				
				,#NCOM611_PARAM_CD#					
				,#NCOM611_PARAM_NM#					
				,#NCOM611_REMARK#					
				,NVL(#NCOM611_USE_YN#,'N')			
				,#NCOM611_PRT_STEP#
				,SYSDATE 						
				,#CRT_ID# 						
				,#CRT_PGM_ID# 					
				,#CRT_IP# 						
			)
        ]]>
	</insert>
	
	<update id="NCOM9701Eparamupdate" parameterClass="paramMap">
		<![CDATA[
		  	UPDATE NCOM611TL
			 SET NCOM611_PARAM_NM 			= #NCOM611_PARAM_NM#	
				,NCOM611_REMARK 			= #NCOM611_REMARK#			
				,NCOM611_USE_YN				= NVL(#NCOM611_USE_YN#,'N')	
				,NCOM611_PRT_STEP			= #NCOM611_PRT_STEP#
				,UPD_DTTM 					= SYSDATE
				,UPD_ID 					= #UPD_ID# 
			    ,UPD_PGM_ID 				= #UPD_PGM_ID# 
			    ,UPD_IP 					= #UPD_IP# 
		   WHERE 1=1
		     AND NCOM611_SEND_DOC_CD 		= #NCOM611_SEND_DOC_CD#				
		     AND NCOM611_PARAM_DIV			= #NCOM611_PARAM_DIV#
		     AND NCOM611_PARAM_CD			= #NCOM611_PARAM_CD#	
        ]]>
	</update>
	
	<delete id="NCOM9701Eparamdelete" parameterClass="paramMap">
		<![CDATA[
		  	DELETE
		    FROM NCOM611TL
		   WHERE 1=1
		     AND NCOM611_SEND_DOC_CD 		= #NCOM611_SEND_DOC_CD#
		      AND NCOM611_PARAM_DIV			= #NCOM611_PARAM_DIV#
		     AND NCOM611_PARAM_CD			= #NCOM611_PARAM_CD#
        ]]>
	</delete>
	
	
	
	
	

	<select id="CMN0909PmainSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[
			SELECT CMN_DEPT_CD.DEPT_CD,
			       CMN_DEPT_CD.MMA_CD,
			       CMN_DEPT_CD.DEPT_NM_ENG,
			       CMN_DEPT_CD.DEPT_DIV,
			       CMN_DEPT_CD.DEPT_LEVEL,
			       CMN_DEPT_CD.DEPT_NM,
			       CMN_DEPT_CD.ALIAS,
			       CMN_DEPT_CD.ATTEST,
			       CMN_DEPT_CD.UP_CD,
			       CMN_DEPT_CD.GROUP_DIV,
			       CMN_DEPT_CD.EDU_GROUP_DIV,
			       CMN_DEPT_CD.COLLEGE_GROUP_DIV,
			       CMN_DEPT_CD.DEG_CD,
			       CMN_DEPT_CD.SUA_GROUP_DIV,
			       CMN_DEPT_CD.PRT_ORD,
			       CMN_DEPT_CD.CRE_DT,
			       CMN_DEPT_CD.MGT_CD,
			       CMN_DEPT_CD.OLD_DEPT,
			       CMN_DEPT_CD.USE_TP,
			       CMN_DEPT_CD.LOAN_CD,
			       CMN_DEPT_CD.MIL_CD,
			       CMN_DEPT_CD.ORG_CD,
			       CMN_DEPT_CD.ABO_DT,
			       CMN_DEPT_CD.PHONE,
			       CMN_DEPT_CD.FAX,
			       CMN_DEPT_CD.USE_YN,
			       CMN_DEPT_CD.CAMPUS_DIV,
			       CMN_DEPT_CD.BGT_DEPT_YN,
			       CMN_DEPT_CD.UPD_PGM_ID,
			       CMN_DEPT_CD.UPD_USER_ID,
			       CMN_DEPT_CD.UPD_DT,
			       CMN_DEPT_CD.RBG_DEPT_YN,
			       CMN_DEPT_CD.COST_DEPT_YN,
			       CMN_DEPT_CD.SLIP_DIV,
			       CMN_DEPT_CD.DEFAULT_LAB,
			       CMN_DEPT_CD.RND_DEPT_ALIAS,
			       CMN_DEPT_CD.BEF_DEPT_CD,
			       CMN_DEPT_CD.PRSD_DEPT_CD,
			       CMN_DEPT_CD.SCH_SYST,
			       CMN_DEPT_CD.GRAD_SCH_SEXP_CD,
			       CMN_DEPT_CD.FCLT_SEXP_CD
			  FROM CMN_DEPT_CD
			 WHERE 1=1
			   AND (CMN_DEPT_CD.DEPT_CD LIKE #dept_cd# ||'%' OR CMN_DEPT_CD.DEPT_NM LIKE #dept_cd# ||'%')
			   AND CMN_DEPT_CD.DEPT_NM LIKE #dept_nm# ||'%'
			   AND USE_YN = 'Y' 
		]]>
	</select>


	<select id="CMN0001PmainSelect" parameterClass="paramMap" resultClass="resultMap">
		<![CDATA[	
			SELECT USR_ID
			     , NAME
			     , DEPT_CD 
			     , DEPT_NM 
			     , GRADE 
			  FROM TEMP_USER
			 WHERE 1=1
		]]>    
		<isNotEmpty property="strName">
				AND NAME LIKE #strName# ||'%'
		</isNotEmpty>			 
	</select>	
	<!-- 공통코드 메인 조회 -->
	<select id="MENEPAF015Emainselect" parameterClass="paramMap"
		resultClass="resultMap">
	<![CDATA[
       SELECT TSK_CAT_CD
            , FUNC_CAT_CD
            , CD_DVSN
            , CD
            , CD_NM
            , USE_YN
            , PRD_USE_YN
            , STR_DH
            , END_DH
            , OTPT_SEQ
            , USR_DFN_1
            , USR_DFN_2
            , USR_DFN_3
            , USR_DFN_4
            , USR_DFN_5
            , OLD_TYPE_CD
            , OLD_CD
         FROM TBDCMACM013C
        WHERE 1=1
          AND CD ='000000000'
        ]]> 
		 <isNotEmpty property="strTskCd">
         AND TSK_CAT_CD = #strTskCd#
         </isNotEmpty>	
         <isNotEmpty property="strFuncCd">
         AND FUNC_CAT_CD = #strFuncCd#
         </isNotEmpty>	
         <isNotEmpty property="strCdDivNm">
		 AND CD_NM LIKE #strCdDivNm# ||'%'
         </isNotEmpty>			 	
         <isNotEmpty property="strUseYn">
		 AND USE_YN = #strUseYn#
         </isNotEmpty>		

	</select>
	<!--공통코드 sub 조회 -->
	<select id="MENEPAF015Esubselect" parameterClass="paramMap"
		resultClass="resultMap">
	<![CDATA[
       SELECT TSK_CAT_CD
            , FUNC_CAT_CD
            , CD_DVSN
            , CD
            , CD_NM
            , USE_YN
            , PRD_USE_YN
            , STR_DH
            , END_DH
            , OTPT_SEQ
            , USR_DFN_1
            , USR_DFN_2
            , USR_DFN_3
            , USR_DFN_4
            , USR_DFN_5
            , OLD_TYPE_CD
            , OLD_CD
         FROM TBDCMACM013C
        WHERE 1=1
          AND CD <>'000000000'
		  AND CD_DVSN = #strCdDvsn#

	         ]]> 

	</select>
	
		<select id="MENEPAF015EsubCntselect" parameterClass="paramMap"
		resultClass="resultMap">
		SELECT COUNT(*) AS cnt
		FROM TBDCMACM013C
		WHERE 1=1
		AND CD <![CDATA[ <> ]]>
		'000000000'
		AND CD_DVSN = #CD_DVSN#
	</select>
	<!-- 공통코드 delete  -->
		<delete id="MENEPAF015Emaindelete" parameterClass="paramMap">
		DELETE TBDCMACM013C
		WHERE 1 = 1
		AND CD_DVSN = #CD_DVSN#
		AND CD = #CD#
	</delete>
	<!-- 공통코드 insert  -->
	<insert id="MENEPAF015Emaininsert" parameterClass="paramMap">
		INSERT INTO
		TBDCMACM013C
		(
		CD_DVSN
		, CD
		, TSK_CAT_CD
		, FUNC_CAT_CD
		, CD_NM
		, USE_YN
		, PRD_USE_YN
		, STR_DH
		, END_DH
		, OTPT_SEQ
		, USR_DFN_1
		, USR_DFN_2
		, USR_DFN_3
		, USR_DFN_4
		, USR_DFN_5
		, OLD_TYPE_CD
		, OLD_CD
		, FRT_USR_ID
		, FNL_USR_ID
		, FNL_DEAL_DPT_CD
		, FNL_MNU_ID
		, FRT_REGI_DH
		, FNL_REGI_DH
		)
		VALUES
		(
		#CD_DVSN#
		, #CD#
		, #TSK_CAT_CD#
		, #FUNC_CAT_CD#
		, #CD_NM#
		, #USE_YN#
		, #PRD_USE_YN#
		, #STR_DH#
		, #END_DH#
		, #OTPT_SEQ#
		, #USR_DFN_1#
		, #USR_DFN_2#
		, #USR_DFN_3#
		, #USR_DFN_4#
		, #USR_DFN_5#
		, #OLD_TYPE_CD#
		, #OLD_CD#
		, #FRT_USR_ID#
		, #FNL_USR_ID#
		, #FNL_DEAL_DPT_CD#
		, #FNL_MNU_ID#
		, #FRT_REGI_DH#
		, #FNL_REGI_DH#
		)
	</insert>
	<!-- 공통코드 업데이트  -->
	<update id="MENEPAF015Emainupdate" parameterClass="paramMap">
		UPDATE TBDCMACM013C
		SET FNL_REGI_DH = SYSDATE

		<isNotNull prepend="," property="CD_DVSN">
			CD_DVSN = #CD_DVSN#
		</isNotNull>
		<isNotNull prepend="," property="CD">
			CD = #CD#
		</isNotNull>
		<isNotNull prepend="," property="CD_NM">
			CD_NM = #CD_NM#
		</isNotNull>
		<isNotNull prepend="," property="USE_YN">
			USE_YN = NVL(#USE_YN#,'N')
		</isNotNull>
		<isNotNull prepend="," property="PRD_USE_YN">
			PRD_USE_YN = NVL(#PRD_USE_YN#,'N')
		</isNotNull>
		<isNotNull prepend="," property="STR_DH">
			STR_DH = #STR_DH#
		</isNotNull>
		<isNotNull prepend="," property="END_DH">
			END_DH = #END_DH#
		</isNotNull>
		<isNotNull prepend="," property="OTPT_SEQ">
			OTPT_SEQ = #OTPT_SEQ#
		</isNotNull>
		<isNotNull prepend="," property="USR_DFN_1">
			USR_DFN_1 = #USR_DFN_1#
		</isNotNull>
		<isNotNull prepend="," property="USR_DFN_2">
			USR_DFN_2 = #USR_DFN_2#
		</isNotNull>
		<isNotNull prepend="," property="USR_DFN_3">
			USR_DFN_3 = #USR_DFN_3#
		</isNotNull>
		<isNotNull prepend="," property="USR_DFN_4">
			USR_DFN_4 = #USR_DFN_4#
		</isNotNull>
		<isNotNull prepend="," property="USR_DFN_5">
			USR_DFN_5 = #USR_DFN_5#
		</isNotNull>
		<isNotNull prepend="," property="OLD_TYPE_CD">
			OLD_TYPE_CD = #OLD_TYPE_CD#
		</isNotNull>
		<isNotNull prepend="," property="OLD_CD">
			OLD_CD = #OLD_CD#
		</isNotNull>
		<isNotNull prepend="," property="FRT_USR_ID">
			FRT_USR_ID = #FRT_USR_ID#
		</isNotNull>
		<isNotNull prepend="," property="FNL_USR_ID">
			FNL_USR_ID = #FNL_USR_ID#
		</isNotNull>
		<isNotNull prepend="," property="FNL_DEAL_DPT_CD">
			FNL_DEAL_DPT_CD = #FNL_DEAL_DPT_CD#
		</isNotNull>
		<isNotNull prepend="," property="FNL_MNU_ID">
			FNL_MNU_ID = #FNL_MNU_ID#
		</isNotNull>
		<isNotNull prepend="," property="FRT_REGI_DH">
			FRT_REGI_DH = #FRT_REGI_DH#
		</isNotNull>
		<isNotNull prepend="," property="FNL_REGI_DH">
			FNL_REGI_DH = #FNL_REGI_DH#
		</isNotNull>

		WHERE 1 = 1
		AND CD_DVSN = #CD_DVSN#
		AND CD = #CD#
	</update>
	
	<!-- 부서조회(상위부서 포함) -->
	<select id="TBDCMACM002Msubselect" parameterClass="paramMap"
		resultClass="resultMap">
	<![CDATA[
       SELECT *
	   FROM TBDCMACM002M
	         ]]> 

	</select>
	
	
	
	
	
	
</sqlMap> 
