<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="temp/temp/example">
<!-- 부서조회(상위부서 포함) -->
	<select id="EXAMPLEselect" parameterClass="paramMap"
		resultClass="resultMap">
	<![CDATA[
       SELECT CODE_DIV
				 , REPLACE(SUBSTR(CODE_DIV, 1, LENGTH(CODE_DIV)-3 ),' ','') AS SUB_ID
				 , CODE
				 , NM_KOR
				 , NM_ENG
				 , USE_YN
				 , RELATION
				 , RELATION2
				 , RELATION3
				 , RELATION4
				 , RELATION5
				 , RELATION6
				 , RELATION7
				 , RELATION8
				 , RELATION9
				 , RELATION10
				 , NM_KOR2
				 , NM_ENG2
				 , REMARK
			  FROM COM030TL
		     WHERE 1=1
			   AND CODE = '000000'
			   AND ( (NM_KOR LIKE '%' || UPPER(#strCodeNm#) || '%') OR (CODE_DIV LIKE '%' ||UPPER(#strCodeNm#) || '%' ))
			    ]]>
	</select>
	
	
	<insert id="EXAMPLEinsert" parameterClass="paramMap">
		INSERT INTO COM030TL
		    (
			  CODE_DIV
			, CODE
			, NM_KOR
			, NM_ENG
			, USE_YN
			, RELATION
			, RELATION2
			, RELATION3
			, RELATION4
			, RELATION5
			, RELATION6
			, RELATION7
			, RELATION8
			, RELATION9
			, RELATION10
			, NM_KOR2
			, NM_ENG2
			, REMARK
			, PRT_ORD
			, OLD_CODE
			, OLD_NM_KOR
			, CRT_DTTM
			, CRT_ID
			, CRT_PGM_ID
			, CRT_IP
			)
			VALUES
			(
			  #CODE_DIV#
			, #CODE#
			, #NM_KOR#
			, #NM_ENG#
			, DECODE(#USE_YN#,'Y', 'Y', 'N')
			, #RELATION#
			, #RELATION2#
			, #RELATION3#
			, #RELATION4#
			, #RELATION5#
			, #RELATION6#
			, #RELATION7#
			, #RELATION8#
			, #RELATION9#
			, #RELATION10#
			, #NM_KOR2#
			, #NM_ENG2#
			, #REMARK#
			, #PRT_ORD#
			, #OLD_CODE#
			, #OLD_NM_KOR#
			, SYSDATE
			, #CRT_ID#
			, #CRT_PGM_ID#
			, #CRT_IP#
			)
	</insert>

	<update id="EXAMPLEupdate" parameterClass="paramMap">
		UPDATE COM030TL
		   SET UPD_DTTM = SYSDATE
		<isNotNull prepend="," property="NM_KOR">
			NM_KOR = #NM_KOR#
		</isNotNull>
		<isNotNull prepend="," property="NM_ENG">
			NM_ENG = #NM_ENG#
		</isNotNull>
		<isNotNull prepend="," property="USE_YN">
			USE_YN = NVL(#USE_YN#,'N')
		</isNotNull>
		<isNotNull prepend="," property="RELATION">
			RELATION = #RELATION#
		</isNotNull>
		<isNotNull prepend="," property="RELATION2">
			RELATION2 = #RELATION2#
		</isNotNull>
		<isNotNull prepend="," property="RELATION3">
			RELATION3 = #RELATION3#
		</isNotNull>
		<isNotNull prepend="," property="RELATION4">
			RELATION4 = #RELATION4#
		</isNotNull>
		<isNotNull prepend="," property="RELATION5">
			RELATION5 = #RELATION5#
		</isNotNull>
		<isNotNull prepend="," property="RELATION6">
			RELATION6 = #RELATION6#
		</isNotNull>
		<isNotNull prepend="," property="RELATION7">
			RELATION7 = #RELATION7#
		</isNotNull>
		<isNotNull prepend="," property="RELATION8">
			RELATION8 = #RELATION8#
		</isNotNull>
		<isNotNull prepend="," property="RELATION9">
			RELATION9 = #RELATION9#
		</isNotNull>
		<isNotNull prepend="," property="RELATION10">
			RELATION10 = #RELATION10#
		</isNotNull>
		<isNotNull prepend="," property="NM_KOR2">
			NM_KOR2 = #NM_KOR2#
		</isNotNull>
		<isNotNull prepend="," property="NM_ENG2">
			NM_ENG2 = #NM_ENG2#
		</isNotNull>
		<isNotNull prepend="," property="REMARK">
			REMARK = #REMARK#
		</isNotNull>
		<isNotNull prepend="," property="PRT_ORD">
			PRT_ORD = #PRT_ORD#
		</isNotNull>
		<isNotNull prepend="," property="OLD_CODE">
			OLD_CODE = #OLD_CODE#
		</isNotNull>
		<isNotNull prepend="," property="OLD_NM_KOR">
			OLD_NM_KOR = #OLD_NM_KOR#
		</isNotNull>
		<isNotNull prepend="," property="UPD_ID">
			UPD_ID = #UPD_ID#
		</isNotNull>
		<isNotNull prepend="," property="UPD_PGM_ID">
			UPD_PGM_ID = #UPD_PGM_ID#
		</isNotNull>
		<isNotNull prepend="," property="UPD_IP">
			UPD_IP = #UPD_IP#
		</isNotNull>

		WHERE 1 = 1
		AND CODE_DIV = #CODE_DIV#
		AND CODE =
		#CODE#
	</update>

	<delete id="EXAMPLEdelete" parameterClass="paramMap">
		DELETE COM030TL
		WHERE 1 = 1
		AND CODE_DIV = #CODE_DIV#
		AND CODE = #CODE#
	</delete>
	
	

</sqlMap> 
