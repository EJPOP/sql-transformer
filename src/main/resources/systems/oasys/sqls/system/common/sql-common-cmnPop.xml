<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="common/cmnPop">

	<select id="COMcmncodelistpopSelect" parameterClass="paramMap"
		resultClass="resultMap">
        <![CDATA[        
			SELECT CM013.CD_DVSN,
		           CM013.CD,
		           CM013.TSK_CAT_CD,
		           CM013.FUNC_CAT_CD,
		           CM013.CD_NM,
		           CM013.USE_YN,
		           CM013.PRD_USE_YN,
		           CM013.STR_DH,
		           CM013.END_DH,
		           CM013.OTPT_SEQ,
		           CM013.USR_DFN_1,
		           CM013.USR_DFN_2,
		           CM013.USR_DFN_3,
		           CM013.USR_DFN_4,
		           CM013.USR_DFN_5,
		           CM013.OLD_TYPE_CD,
		           CM013.OLD_CD,
		           CM013.FRT_USR_ID,
		           CM013.FNL_USR_ID,
		           CM013.FNL_DEAL_DPT_CD,
		           CM013.FNL_MNU_ID,
		           CM013.FRT_REGI_DH,
		           CM013.FNL_REGI_DH,
				   DVSN.CD AS UP_CODE, 
		           DVSN.CD_NM AS UP_CODE_NM,
		           CM013.USR_DFN_6,
		           CM013.USR_DFN_7,
		           CM013.USR_DFN_8,
		           CM013.USR_DFN_9,
		           CM013.USR_DFN_10
			FROM	 TBDCMACM013C CM013
		        	,(SELECT CD_DVSN, CD, CD_NM FROM TBDCMACM013C WHERE CD = '000000000') DVSN
			WHERE 	1=1
			AND     CM013.CD <> '000000000'
			AND 	CM013.CD_DVSN = DVSN.CD_DVSN
        ]]>
        
        <dynamic>
			<isNotEmpty property="reqCodeNm" >
				AND 	CM013.CD_NM LIKE #reqCodeNm# ||'%'
			</isNotEmpty>
			<isNotEmpty property="reqCodeDiv" >
				AND 	CM013.CD_DVSN = #reqCodeDiv#
			</isNotEmpty>
			<isNotEmpty property="reqWorkDiv" >
				AND 	CM013.CD_DVSN = #reqWorkDiv#
			</isNotEmpty>
			<isNotEmpty property="reqUseDiv" >
				AND 	CM013.CD_DVSN = #reqUseDiv#
			</isNotEmpty>
		</dynamic>
  					
				   <![CDATA[       
			ORDER BY CM013.CD_DVSN,
		           CM013.CD
        ]]>
	</select>


</sqlMap> 
