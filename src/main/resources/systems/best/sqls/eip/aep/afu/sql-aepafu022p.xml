<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.go.bai.eip.aep.afu.dao.AEPAFU022PMapper">

    <select id="selectCommonCode" parameterType="paramMap" resultType="egovMap">
    /*kr.go.bai.eip.aep.afu.dao.AEPAFU022PMapper.selectCommonCode*/
    SELECT ORG_CAT_CD

    , (SELECT Z.USR_DFN_TXT_1
                FROM	TBDCMACM013C Z
                WHERE	Z.CMM_CD_DVSN_CD ='1000125'
                AND		Z.CD = ORG_CAT_CD) AS FNA_CLS_CD
    , (SELECT Z.USR_DFN_TXT_2
                FROM	TBDCMACM013C Z
                WHERE	Z.CMM_CD_DVSN_CD ='1000125'
                AND		Z.CD = ORG_CAT_CD) AS FNA_CLS_CD1
                
    FROM TBDCMACM015M
    
    WHERE 1=1
    
    AND ORG_CD = #{audRpstOrgCd};
        
    </select>

	<select id="selectOrgList" parameterType="paramMap" resultType="egovMap">
    /*kr.go.bai.eip.aep.afu.dao.AEPAFU022PMapper.selectOrgList*/
    
	SELECT DISTINCT D1.ORG_CD				AS ORG_CD           /*기관코드*/
    		, F_ORG_INFO(D1.ORG_CD,'1')		AS ORG_NM           /*기관명*/   
	 FROM TBBADDED002M D0
			, TBBADDED008L D1
	WHERE D1.BZT_SNO = D0.BZT_SNO
		AND D1.BZT_YR = D0.BZT_YR
		AND D0.REL_AUD_YR = #{audYr}
		AND D0.REL_AUD_NO = #{audNo}
               
		UNION
               
	SELECT ORG_CD AS ORG_CD /*기관코드*/
		   , ORG_NM AS ORG_NM /*기관명*/
	 FROM TBBADDED038L
    WHERE 1=1
	   AND AUD_YR = #{audYr}
	   AND AUD_NO = #{audNo}
    </select>
    
</mapper>