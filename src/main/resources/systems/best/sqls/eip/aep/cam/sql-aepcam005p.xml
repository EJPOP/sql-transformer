<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.go.bai.eip.aep.cam.dao.AEPCAM005PMapper">
    
    <select id="selectMainDetail" parameterType="paramMap" resultType="egovMap">
    /*kr.go.bai.eip.aep.cam.dao.AEPCAM005PMapper.selectMainDetail*/
        SELECT AUD_YR,
               F_CODE_NM('1000739', AUD_KND_CD) AS AUD_KND_NM,
               AUD_KND_CD,
               AUD_GRN_NO,
               AUD_NO,
               AUD_SBJ_NM,
               AUD_YR AS AUD_YR2,
               F_CODE_NM('1000739', AUD_KND_CD) AS AUD_KND_NM2,
               AUD_GRN_NO AS AUD_GRN_NO2
          FROM TBBADDED001M
         WHERE AUD_YR = #{audYr}
           AND AUD_NO = #{audNo}
    </select>
    
    <select id="selectMainList" parameterType="paramMap" resultType="egovMap">
    /*kr.go.bai.eip.aep.cam.dao.AEPCAM005PMapper.selectMainList*/
        <include refid="include.pageSelct" />
            <![CDATA[
            SELECT F_MNG_KND_AUDYRNO(AUD_YR, AUD_NO, AUD_KND_CD, '-')||'-'||AFF_CD AS AUD_KND_GRN_AFF_NO,
                   TITLE_NM,
                   F_CODE_NM('1000774', REFER_DVSN_CD) AS REFER_DVSN_NM,
                   AFF_CD
              FROM TBBADDED145M
             WHERE AUD_YR = #{audYr}
               ANd AUD_NO = #{audNo}
            ]]>
               <if test="affCd != null and affCd != ''">
               AND AFF_CD = #{affCd}
               </if>
               <if test="titleNm != null and titleNm != ''">
               AND TITLE_NM LIKE '%'||#{titleNm}||'%'
               </if>
        <include refid="include.pageOrder" />
    </select>
    
    
</mapper> 