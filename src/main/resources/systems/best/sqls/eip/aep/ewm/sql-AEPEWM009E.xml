<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.go.bai.eip.aep.ewm.dao.AEPEWM009EMapper">
	

	<!--집행전말 회보 접수 담당자 조회   BADFRE010ESelectEnfmWhlsChgr-->
	<select id="selectEnfmWhlsChgrList" parameterType="paramMap" resultType="egovMap" >
	/* kr.go.bai.eip.aep.ewm.dao.AEPEWM009EMapper.selectEnfmWhlsChgrList */
       <![CDATA[
			SELECT DPT_NM,
			       DPT_CD,
			       F_CODE_NM('1000173', F_USR_INFO(ENFM_WHLS_CHGR_CNB, '3')) AS ENFM_WHLS_CHGR_RANK,
			       F_USR_INFO(ENFM_WHLS_CHGR_CNB, '2') AS ENFM_WHLS_CHGR_NM,
			       ENFM_WHLS_CHGR_CNB,
			       F_DPT_INFO(F_USR_INFO(ENFM_WHLS_CHGR_CNB, '5'), '1') AS CURR_BELONG_DPT_NM,
			       F_USR_INFO(ENFM_WHLS_CHGR_CNB, '5') AS CURR_BELONG_DPT_CD
			  FROM TBDCMACM002M
			 WHERE DPT_CD LIKE '0%'
			   AND USE_YN = 'Y'
			   AND ORZT_DVSN_CD = '30'
		  ]]>
	</select>
	
	
	<!--집행전말 회보 접수 담당자 저장  BADFRE010ESaveEnfmWhlsChgr -->
	<update id="updateEnfmWhlsChgr" parameterType="paramMap">
	/* kr.go.bai.eip.aep.ewm.dao.AEPEWM009EMapper.updateEnfmWhlsChgr */
		<![CDATA[ 	
        	UPDATE TBDCMACM002M SET ENFM_WHLS_CHGR_CNB = #{enfmWhlsChgrCnb}
			 WHERE DPT_CD LIKE '0%'
			   AND USE_YN = 'Y'
			   AND ORZT_DVSN_CD = '30'
			   AND DPT_CD = #{dptCd}			  
		]]>			    					        
	</update>
</mapper> 
