<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC " -//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper">

	<resultMap type="java.util.HashMap" id="cvptTxt">
		<result property="homeReqId" column="HOME_REQ_ID" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvYy" column="E_RECV_YY" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNo" column="E_RECV_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvCd" column="E_RECV_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNm" column="E_RECV_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvDt" column="E_RECV_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqNm" column="REQ_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqTel" column="REQ_TEL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqEml" column="REQ_EML" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqHp" column="REQ_HP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqZip" column="REQ_ZIP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqAddr1" column="REQ_ADDR1" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqAddr2" column="REQ_ADDR2" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqOrg" column="REQ_ORG" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqBsnNo" column="REQ_BSN_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resNm" column="RES_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resTel" column="RES_TEL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resZip" column="RES_ZIP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resAddr1" column="RES_ADDR1" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resAddr2" column="RES_ADDR2" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboCd" column="JEBO_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboNm" column="JEBO_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboTtl" column="JEBO_TTL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="innerYn" column="INNER_YN" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="innerOrgNm" column="INNER_ORG_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboCn" column="JEBO_CN" jdbcType="CLOB"
			javaType="java.lang.String" />
	</resultMap>

	<select id="DCP711711OINSPCP010Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP010Select
		*/
		<![CDATA[
				SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       			   TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
		           
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
   ]]>
	</select>

	<insert id="DCP711711OSEND811Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSEND811Insert
		*/
		<![CDATA[
			INSERT INTO EH_INF_SP_CP_811(
						IF_SEQ,                         /*인터페이스 순서*/					/*ifSeq*/
						IF_TYPE,                        /*연계타입*/							/*SND*/
						DVSN_CD,                     /*구분코드*/								/*D*/
						HMP_APL_NO,                /*홈페이지신청번호*/					/*hmpAplno*/
						STTM_DVSN_CD,             /*신고구분코드*/ 						/*reqDvsnCd*/
						ACP_YR,                       /*접수년도*/								/*acpYr*/
						STTM_ACP_NO,				/*신고접수번호*/						/*cvptAcpNo*/
						STTM_KND_CD,				/*신고종류코드*/						/*cvptKndCd*/
						STTM_KND_DTL_CD,		/*신고종류상세코드*/					/*cvptKndDtlCd*/
						NAM,							/*성명*/									/*cvptrNm*/
						EIN,							/*주민번호*/								/*ein*/
						JB_NM,						/*직업명*/								/*jbNm*/
						AD,							/*주소*/									/*ad*/
						TNB,							/*전화번호*/								/*tnb*/
						EML_AD,						/*이메일주소*/							/*emlId*/
						TIT_NM,						/*제목명*/								/*titNm*/
						STTM_EXCU_TXT,			/*신고이유내용*/						/*cvptSbt*/
						STTM_TXT_DH,				/*신고내용일시*/						/*sttmTxtDh*/
						STTM_PLC_NM,				/*신고장소명*/							/*sttmPlcNm*/
						STTM_TXT,					/*신고내용*/								/*cvptTxt*/
						RTRN_WAY_TXT,				/*반환방법*/								/*rtrnWayTxt*/
						RMK_TXT,						/*비고내용*/								/*rmkTxt*/
						OTR_ORG_NM,				/*타기관명*/								/*otrOrgNm*/
						INSPC_AGR_YN,				/*조사동의여부*/						/*inspcAgrYn*/
						OTR_INSPC_AGR_YN,		/*타기관조사동의여부*/					/*otrInspcAgrYn*/
						ACP_DH,						/*접수일시*/								/*acpDh*/
						HNDL_STA_CD,				/*처리상태코드*/						/*cvptHndlStaCd*/
						HNDL_DH,					/*처리일시*/								/*hndlDh*/
						ANS_TXT,						/*답변내용*/								/*ansTxt*/
						FRT_REGN_IP,				/*최초등록자IP*/							/*frtRegnIp*/
						FRT_REGI_DH,				/*최초등록일시*/						/*frtRegiDh*/
						IF_SIID						/*연계처리키*/							/*ifSiid*/
					)			
				VALUES	(		
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptKndCd}
						,#{cvptKndDtlCd}
						,#{cvptrNm}
						,#{ein}
						,#{jbNm}
						,#{ad}
						,#{tnb}
						,#{emlId}
						,#{titNm}
						,#{cvptSbt}
						,#{sttmTxtDh}
						,#{sttmPlcNm}
						,#{cvptTxt}
						,#{rtrnWayTxt}
						,#{rmkTxt}
						,#{otrOrgNm}
						,UPPER(#{inspcAgrYn})
						,UPPER(#{otrInspcAgrYn})
						,#{acpDh}
						,#{cvptHndlStaCd}
						,#{hndlDh}
						,#{ansTxt}
						,#{frtRegnIp}
						,#{frtRegiDh}
						,#{ifSiid}
						)
		]]>
	</insert>


	<insert id="DCP711711OSEND812Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSEND812Insert
		*/
		<![CDATA[
			INSERT INTO	 EH_INF_SP_CP_812
						(	
                        IF_SEQ,					/* 인터페이스순서*/					/*ifSeq*/
                        IF_TYPE,					/*연계타입*/							/*SND*/
                        DVSN_CD,				/*구분코드*/							/*dvsn*/
                        HMP_APL_NO,			/*홈페이지신청번호*/				/*hmpAplNo*/
                        STTM_DVSN_CD, 		/*신고구분코드*/					/*reqDvsnCd*/
                        ACP_YR, 					/*접수년도*/		    			    /*acpYr*/
                        STTM_ACP_NO, 			/*신고접수번호*/					/*cvptAcpNo*/
                        SRNO, 					/*일련번호*/		        			/*srno*/
                        RES_NAM, 				/*피신고자성명*/					/*resName*/
                        RES_TNB, 				/*피신고자전화번호*/				/*resTnb*/
                        RES_JB_NM, 				/*피신고자직업명*/			        /*resJbNm*/
                        RES_AD, 					/*피신고자주소*/					/*resAd*/
                        CRP_NM, 					/*법인명*/						/*crpNm*/
                        IF_SIID					/*연계처리키*/					/*ifSiid*/
						)
			VALUES	(	
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
                        ,#{reqDvsnCd}
                        ,#{acpYr}
                        ,#{cvptAcpNo}
						,'1'
						,#{resNm}
						,#{resTnb}
						,#{resJbNm}
						,#{resAd}
                        ,#{crpNm}
                        ,#{ifSiid}
					)
		]]>
	</insert>


	<select id="DCP711711OINSPCP011Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP011Select
		*/
			<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           D4.FNL_HNDL_DH, 
		           D4.ANS_TXT, 
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
	]]>
	</select>

	<insert id="DCP711711OSEND011Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSEND011Insert
		*/
		<![CDATA[
			INSERT INTO EH_INF_SP_CP_811(
						IF_SEQ,                         /*인터페이스 순서*/					/*ifSeq*/
						IF_TYPE,                        /*연계타입*/							/*SND*/
						DVSN_CD,                     /*구분코드*/								/*D*/
						HMP_APL_NO,                /*홈페이지신청번호*/					/*hmpAplno*/
						STTM_DVSN_CD,             /*신고구분코드*/ 						/*reqDvsnCd*/
						ACP_YR,                       /*접수년도*/								/*acpYr*/
						STTM_ACP_NO,				/*신고접수번호*/						/*cvptAcpNo*/
						STTM_KND_CD,				/*신고종류코드*/						/*cvptKndCd*/
						STTM_KND_DTL_CD,		/*신고종류상세코드*/					/*cvptKndDtlCd*/
						NAM,							/*성명*/									/*cvptrNm*/
						EIN,							/*주민번호*/								/*ein*/
						JB_NM,						/*직업명*/								/*jbNm*/
						AD,							/*주소*/									/*ad*/
						TNB,							/*전화번호*/								/*tnb*/
						EML_AD,						/*이메일주소*/							/*emlId*/
						TIT_NM,						/*제목명*/								/*titNm*/
						STTM_EXCU_TXT,			/*신고이유내용*/						/*cvptSbt*/
						STTM_TXT_DH,				/*신고내용일시*/						/*sttmTxtDh*/
						STTM_PLC_NM,				/*신고장소명*/							/*sttmPlcNm*/
						STTM_TXT,					/*신고내용*/								/*cvptTxt*/
						RTRN_WAY_TXT,				/*반환방법*/								/*rtrnWayTxt*/
						RMK_TXT,						/*비고내용*/								/*rmkTxt*/
						OTR_ORG_NM,				/*타기관명*/								/*otrOrgNm*/
						INSPC_AGR_YN,				/*조사동의여부*/						/*inspcAgrYn*/
						OTR_INSPC_AGR_YN,		/*타기관조사동의여부*/					/*otrInspcAgrYn*/
						ACP_DH,						/*접수일시*/								/*acpDh*/
						HNDL_STA_CD,				/*처리상태코드*/						/*cvptHndlStaCd*/
						HNDL_DH,					/*처리일시*/								/*hndlDh*/
						ANS_TXT,						/*답변내용*/								/*ansTxt*/
						FRT_REGN_IP,				/*최초등록자IP*/							/*frtRegnIp*/
						FRT_REGI_DH,				/*최초등록일시*/						/*frtRegiDh*/
						IF_SIID						/*연계처리키*/							/*ifSiid*/
					)			
				VALUES	(		
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptKndCd}
						,#{cvptKndDtlCd}
						,#{cvptrNm}
						,#{ein}
						,#{jbNm}
						,#{ad}
						,#{tnb}
						,#{emlId}
						,#{titNm}
						,#{cvptSbt}
						,#{sttmTxtDh}
						,#{sttmPlcNm}
						,#{cvptTxt}
						,#{rtrnWayTxt}
						,#{rmkTxt}
						,#{otrOrgNm}
						,UPPER(#{inspcAgrYn})
						,UPPER(#{otrInspcAgrYn})
						,#{acpDh}
						,#{cvptHndlStaCd}
						,#{hndlDh}
						,#{ansTxt}
						,#{frtRegnIp}
						,#{frtRegiDh}
						,#{ifSiid}
						)
		]]>
	</insert>

	<select id="DCP711711OINSPCP011SucSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP011SucSelect
		*/
			<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           D4.FNL_HNDL_DH, 
		           D4.ANS_TXT, 
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				  AND D1.REQ_DVSN_CD = #{sucReqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{sucCvptAcpNo}
				  AND D1.ACP_YR      = #{sucAcpYr}
	]]>
	</select>

	<resultMap type="java.util.HashMap" id="cspdcp711Map2">
		<result property="homeReqId" column="HOME_REQ_ID" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvYy" column="E_RECV_YY" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNo" column="E_RECV_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvCd" column="E_RECV_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNm" column="E_RECV_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eCmplDt" column="E_CMPL_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eAnsCn" column="E_ANS_CN" jdbcType="CLOB"
			javaType="java.lang.String" />
		<result property="homeOpenDt" column="HOME_OPEN_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
	</resultMap>

	<select id="DCP711711OINSPCP012Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP012Select
		*/
	<![CDATA[
	SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			      TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      =  #{acpYr}
	]]>
	</select>


	<insert id="DCP711711OSEND012Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSEND012Insert
		*/
		<![CDATA[
			INSERT INTO EH_INF_SP_CP_811(
						IF_SEQ,                         /*인터페이스 순서*/					/*ifSeq*/
						IF_TYPE,                        /*연계타입*/							/*SND*/
						DVSN_CD,                     /*구분코드*/								/*D*/
						HMP_APL_NO,                /*홈페이지신청번호*/					/*hmpAplno*/
						STTM_DVSN_CD,             /*신고구분코드*/ 						/*reqDvsnCd*/
						ACP_YR,                       /*접수년도*/								/*acpYr*/
						STTM_ACP_NO,				/*신고접수번호*/						/*cvptAcpNo*/
						STTM_KND_CD,				/*신고종류코드*/						/*cvptKndCd*/
						STTM_KND_DTL_CD,		/*신고종류상세코드*/					/*cvptKndDtlCd*/
						NAM,							/*성명*/									/*cvptrNm*/
						EIN,							/*주민번호*/								/*ein*/
						JB_NM,						/*직업명*/								/*jbNm*/
						AD,							/*주소*/									/*ad*/
						TNB,							/*전화번호*/								/*tnb*/
						EML_AD,						/*이메일주소*/							/*emlId*/
						TIT_NM,						/*제목명*/								/*titNm*/
						STTM_EXCU_TXT,			/*신고이유내용*/						/*cvptSbt*/
						STTM_TXT_DH,				/*신고내용일시*/						/*sttmTxtDh*/
						STTM_PLC_NM,				/*신고장소명*/							/*sttmPlcNm*/
						STTM_TXT,					/*신고내용*/								/*cvptTxt*/
						RTRN_WAY_TXT,				/*반환방법*/								/*rtrnWayTxt*/
						RMK_TXT,						/*비고내용*/								/*rmkTxt*/
						OTR_ORG_NM,				/*타기관명*/								/*otrOrgNm*/
						INSPC_AGR_YN,				/*조사동의여부*/						/*inspcAgrYn*/
						OTR_INSPC_AGR_YN,		/*타기관조사동의여부*/					/*otrInspcAgrYn*/
						ACP_DH,						/*접수일시*/								/*acpDh*/
						HNDL_STA_CD,				/*처리상태코드*/						/*cvptHndlStaCd*/
						HNDL_DH,					/*처리일시*/								/*hndlDh*/
						ANS_TXT,						/*답변내용*/								/*ansTxt*/
						FRT_REGN_IP,				/*최초등록자IP*/							/*frtRegnIp*/
						FRT_REGI_DH,				/*최초등록일시*/						/*frtRegiDh*/
						IF_SIID						/*연계처리키*/							/*ifSiid*/
					)			
				VALUES	(		
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptKndCd}
						,#{cvptKndDtlCd}
						,#{cvptrNm}
						,#{ein}
						,#{jbNm}
						,#{ad}
						,#{tnb}
						,#{emlId}
						,#{titNm}
						,#{cvptSbt}
						,#{sttmTxtDh}
						,#{sttmPlcNm}
						,#{cvptTxt}
						,#{rtrnWayTxt}
						,#{rmkTxt}
						,#{otrOrgNm}
						,UPPER(#{inspcAgrYn})
						,UPPER(#{otrInspcAgrYn})
						,#{acpDh}
						,#{cvptHndlStaCd}
						,#{hndlDh}
						,#{ansTxt}
						,#{frtRegnIp}
						,#{frtRegiDh}
						,#{ifSiid}
						)
		]]>
	</insert>

	<select id="DCP711711OINSPCP012SucSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP012SucSelect
		*/
	<![CDATA[
	SELECT D1.HMP_APL_NO AS HOME_REQ_ID
	      ,D1.ACP_YR AS E_RECV_YY
	      ,D1.RM_CVPT_ACP_NO AS E_RECV_NO
	      ,'60' AS E_RECV_CD
	      ,F_CODE_NM('1000934', '60') AS E_RECV_NM
	      ,TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS E_CMPL_DT
	      ,D2.ANS_TXT AS E_ANS_CN
	      ,TO_CHAR(D2.FRT_REGI_DH, 'YYYYMMDD') AS HOME_OPEN_DT
	  FROM TBDCPDCP101M D1
	      ,TBDCPDCP401H D2
	 WHERE 1=1
	   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD
	   AND D1.ACP_YR      = D2.ACP_YR
	   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO
	   AND (D1.REQ_DVSN_CD,D1.ACP_YR,D1.CVPT_ACP_NO) IN (	SELECT	SUC_REQ_DVSN_CD, SUC_ACP_YR, SUC_CVPT_ACP_NO
	   														FROM	TBDCPDCP105L S1
															WHERE	S1.REQ_DVSN_CD = #{reqDvsnCd}
															AND		S1.ACP_YR = #{acpYr}
															AND		S1.CVPT_ACP_NO = #{cvptAcpNo})
	   AND D2.DGE         = #{dge}
	]]>
	</select>

	<select id="DCP711711OINSPCP012_2Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP012_2Select
		*/
	<![CDATA[
				SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           D4.FNL_HNDL_DH, 
		           D4.ANS_TXT, 
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
	]]>
	</select>

	<select id="DCP711711OINSPCP012_2SucSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP012_2SucSelect
		*/
	<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND (D1.REQ_DVSN_CD, D1.ACP_YR, D1.CVPT_ACP_NO) IN (SELECT 	Z.SUC_REQ_DVSN_CD,Z.SUC_ACP_YR,Z.SUC_CVPT_ACP_NO
																FROM	TBDCPDCP105L Z
																WHERE	Z.REQ_DVSN_CD = #{reqDvsnCd}
																AND		Z.ACP_YR = #{acpYr}
																AND		Z.CVPT_ACP_NO = #{cvptAcpNo}
															   )
	]]>
	</select>

	<resultMap type="java.util.HashMap" id="cvptTxt2">
		<result property="homeReqId" column="HOME_REQ_ID" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqNm" column="REQ_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboCd" column="JEBO_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboNm" column="JEBO_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqTel" column="REQ_TEL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqEml" column="REQ_EML" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqHp" column="REQ_HP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqZip" column="REQ_ZIP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqAddr1" column="REQ_ADDR1" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqAddr2" column="REQ_ADDR2" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqOrg" column="REQ_ORG" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="reqBsnNo" column="REQ_BSN_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resNm" column="RES_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resTel" column="RES_TEL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resZip" column="RES_ZIP" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resAddr1" column="RES_ADDR1" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resAddr2" column="RES_ADDR2" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboModDt" column="JEBO_MOD_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvYy" column="E_RECV_YY" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNo" column="E_RECV_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="resOrg" column="RES_ORG" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboTtl" column="JEBO_TTL" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="innerYn" column="INNER_YN" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="innerOrgNm" column="INNER_ORG_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jeboCn" column="JEBO_CN" jdbcType="CLOB"
			javaType="java.lang.String" />

	</resultMap>

	<select id="DCP711711OINSPCP013Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP013Select
		*/
		<![CDATA[
				SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
			      TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
	]]>
	</select>

	<insert id="DCP711711OSEND013Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSEND013Insert
		*/
		<![CDATA[
			INSERT INTO EH_INF_SP_CP_811(
						IF_SEQ,                         /*인터페이스 순서*/					/*ifSeq*/
						IF_TYPE,                        /*연계타입*/							/*SND*/
						DVSN_CD,                     /*구분코드*/								/*D*/
						HMP_APL_NO,                /*홈페이지신청번호*/					/*hmpAplNo*/
						STTM_DVSN_CD,             /*신고구분코드*/ 						/*reqDvsnCd*/
						ACP_YR,                       /*접수년도*/								/*acpYr*/
						STTM_ACP_NO,				/*신고접수번호*/						/*cvptAcpNo*/
						STTM_KND_CD,				/*신고종류코드*/						/*cvptKndCd*/
						STTM_KND_DTL_CD,		/*신고종류상세코드*/					/*cvptKndDtlCd*/
						NAM,							/*성명*/									/*cvptrNm*/
						EIN,							/*주민번호*/								/*ein*/
						JB_NM,						/*직업명*/								/*jbNm*/
						AD,							/*주소*/									/*ad*/
						TNB,							/*전화번호*/								/*tnb*/
						EML_AD,						/*이메일주소*/							/*emlId*/
						TIT_NM,						/*제목명*/								/*titNm*/
						STTM_EXCU_TXT,			/*신고이유내용*/						/*cvptSbt*/
						STTM_TXT_DH,				/*신고내용일시*/						/*sttmTxtDh*/
						STTM_PLC_NM,				/*신고장소명*/							/*sttmPlcNm*/
						STTM_TXT,					/*신고내용*/								/*cvptTxt*/
						RTRN_WAY_TXT,				/*반환방법*/								/*rtrnWayTxt*/
						RMK_TXT,						/*비고내용*/								/*rmkTxt*/
						OTR_ORG_NM,				/*타기관명*/								/*otrOrgNm*/
						INSPC_AGR_YN,				/*조사동의여부*/						/*inspcAgrYn*/
						OTR_INSPC_AGR_YN,		/*타기관조사동의여부*/					/*otrInspcAgrYn*/
						ACP_DH,						/*접수일시*/								/*acpDh*/
						HNDL_STA_CD,				/*처리상태코드*/						/*cvptHndlStaCd*/
						HNDL_DH,					/*처리일시*/								/*hndlDh*/
						ANS_TXT,						/*답변내용*/								/*ansTxt*/
						FRT_REGN_IP,				/*최초등록자IP*/							/*frtRegnIp*/
						FRT_REGI_DH,				/*최초등록일시*/						/*frtRegiDh*/
						IF_SIID						/*연계처리키*/							/*ifSiid*/
					)			
				VALUES	(		
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptKndCd}
						,#{cvptKndDtlCd}
						,#{cvptrNm}
						,#{ein}
						,#{jbNm}
						,#{ad}
						,#{tnb}
						,#{emlId}
						,#{titNm}
						,#{cvptSbt}
						,#{sttmTxtDh}
						,#{sttmPlcNm}
						,#{cvptTxt}
						,#{rtrnWayTxt}
						,#{rmkTxt}
						,#{otrOrgNm}
						,UPPER(#{inspcAgrYn})
						,UPPER(#{otrInspcAgrYn})
						,#{acpDh}
						,#{cvptHndlStaCd}
						,#{hndlDh}
						,#{ansTxt}
						,#{frtRegnIp}
						,#{frtRegiDh}
						,#{ifSiid}
						)
		]]>
	</insert>

	<select id="DCP711711OINSPCP013SucSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP013SucSelect
		*/
		<![CDATA[
		SELECT /*DCP711711OINSPCP013SucSelect*/ D1.HMP_APL_NO AS HOME_REQ_ID
		      ,DECODE(D1.REQR_KND_CD,'1',D1.CVPTR_NM,'2',D1.RPST_PEN_NM,'3',D1.RPST_PEN_NM,'4',D1.CVPTR_NM) AS REQ_NM
		      ,D1.CVPT_KND_CD  AS JEBO_CD
			  ,F_CODE_NM('1000940', D1.CVPT_KND_CD) AS JEBO_NM
		      ,D1.TNB AS REQ_TEL
		      ,DECODE(D1.EML_ID,NULL,'',D1.EML_ID||'@'||D1.EML_DMI_NM ) AS REQ_EML
		      ,D1.HPN AS REQ_HP
		      ,D1.ZCD AS REQ_ZIP
		      ,D1.AD AS REQ_ADDR1
		      ,D1.DTL_AD AS REQ_ADDR2
		      ,D1.CPNM_NM AS REQ_ORG
		      ,D1.BZN AS REQ_BSN_NO
		      ,D2.CLM_NM AS RES_NM
		      ,D2.TNB AS RES_TEL
		      ,D2.ZCD AS RES_ZIP
		      ,D2.AD AS RES_ADDR1
		      ,D2.DTL_AD RES_ADDR2
		      ,TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS JEBO_MOD_DT
		      ,D1.ACP_YR AS E_RECV_YY
			   ,D1.RM_CVPT_ACP_NO AS E_RECV_NO
			   ,D2.WRK_PLAC_NM AS RES_ORG
			  ,D1.TIT_NM AS JEBO_TTL
			  ,NVL(D1.INNER_YN,'N') AS INNER_YN
			  ,D1.INNER_ORG_NM
			  ,D3.CVPT_TXT AS JEBO_CN
		  FROM TBDCPDCP101M D1
		      ,TBDCPDCP103M D2
		      ,TBDCPDCP102M D3
		 WHERE 1=1
		   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
		   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
		   AND D1.ACP_YR      = D2.ACP_YR(+)
		   AND D1.REQ_DVSN_CD = #{sucReqDvsnCd}
		   AND D1.CVPT_ACP_NO = #{sucCvptAcpNo}
		   AND D1.ACP_YR      = #{sucAcpYr}
		   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD(+)
		   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO(+)
		   AND D1.ACP_YR      = D3.ACP_YR(+)
	]]>
	</select>

	<!-- 합건된 얘들 해야함. -->
	<select id="DCP711711OINSPCP013Suc_2Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP013Suc_2Select
		*/
		<![CDATA[
		SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
			       TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
	]]>
	</select>

	<select id="DCP711711OINSPCP008HmpAplNoCheck" parameterType="paramMap"
		resultType="java.lang.String">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008HmpAplNoCheck
		*/
	<![CDATA[
	SELECT CASE WHEN COUNT(1) = 0 THEN 'Y' ELSE 'N' END AS HMP_APL_NO_YN
	  FROM TBDCPDCP101M
	 WHERE 1=1
	   AND HMP_APL_NO = #{hmpAplNo}
		]]>
	</select>

	<select id="DCP711711OINSPCP008CvptAcpNo" parameterType="paramMap"
		resultType="java.lang.String">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008CvptAcpNo
		*/
	<![CDATA[
				SELECT LPAD(TO_CHAR(NVL(MAX(TO_NUMBER(CVPT_ACP_NO)),0)+1),5,0) AS CVPT_ACP_NO
				  FROM TBDCPDCP101M
				 WHERE 1=1
			       AND REQ_DVSN_CD = '6'
			       AND ACP_YR = SUBSTR(#{acpDh}, 1,4)
		]]>
	</select>

	<insert id="DCP711711OINSPCP008Insert101M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008Insert101M
		*/
	<![CDATA[
		 INSERT INTO TBDCPDCP101M
	         (
	          ACP_YR
	         ,REQ_DVSN_CD
	         ,CVPT_ACP_NO
	         ,CVPTR_NM
	         ,TNB
	         ,EML_ID
	         ,EML_DMI_NM
	         ,HPN
	         ,ZCD
	         ,AD
	         ,DTL_AD
	         ,CPNM_NM
	         ,BZN
	         ,CVPT_KND_CD
	         ,DOC_ID
	         ,TIT_NM
	         ,CVPT_HNDL_STA_CD
	         ,ACP_RUT_CD
	         ,REQR_KND_CD
	         ,RSLT_NTF_WAY_CD
	         ,HMP_APL_NO
	         ,FRT_USR_ID
			 ,FNL_USR_ID
			 ,FNL_DEAL_DPT_CD
			 ,FNL_MNU_ID
			 ,FRT_REGI_DH
			 ,FNL_MDF_DH
	         )
	         VALUES
	         (
	         SUBSTR(#{acpDh}, 1,4)
	        ,'1'
	        ,#{cvptAcpNo}
	        ,#{cvptrNm}
	        ,REPLACE(REPLACE(#{tnb},'---',''),'--','')
	        ,DECODE(#{emlId},NULL,'',SUBSTR(#{emlId}, 0, INSTR(#{emlId}, '@') -1))
	        ,DECODE(#{emlId},NULL,'',SUBSTR(#{emlId}, INSTR(#{emlId}, '@') + 1, length(#{emlId})))
	        ,REPLACE(REPLACE(#{hpn},'---',''),'010--','')
	        ,REPLACE(#{zcd},'-','')
	        ,#{ad}
	        ,#{dtlAd}
	        ,#{cpnmNm}
	        ,#{bzn}
	        ,#{cvptKndCd}
	        ,#{docId}
	        ,#{titNm}
	        ,'10'
	        ,'7'
	        ,'1'
	        ,'003'
	        ,#{hmpAplNo}
	        ,'HOMPAGE'
			,'HOMPAGE'
			,'0000'
			,'HOMPAGE'
			,SYSDATE
			,SYSDATE
	         )
	 ]]>
	</insert>


	<insert id="DCP711711OINSPCP008Insert103M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008Insert103M
		*/
	<![CDATA[
	INSERT INTO TBDCPDCP103M
            (
             REQ_DVSN_CD
            ,ACP_YR
            ,CVPT_ACP_NO
            ,CLM_NM
            ,TNB
            ,ZCD
            ,AD
            ,DTL_AD
            ,WRK_PLAC_NM
            ,FRT_USR_ID
			,FNL_USR_ID
			,FNL_DEAL_DPT_CD
			,FNL_MNU_ID
			,FRT_REGI_DH
			,FNL_MDF_DH
            )
            VALUES
            (
             '1'
            ,SUBSTR(#{acpDh}, 1,4)
            ,#{cvptAcpNo}
            ,#{clmNm}
            ,REPLACE(REPLACE(#{clmTnb},'---',''),'--','')
            ,REPLACE(#{clmZcd},'-','')
            ,#{clmAd}
            ,#{clmDtlAd}
            ,#{wrkPlacNm}
            ,'HOMEPAGE'
			,'HOMEPAGE'
			,'0000'
			,'HOMEPAGE'
			,SYSDATE
			,SYSDATE
            )
	]]>
	</insert>

	<insert id="DCP711711OINSPCP008Insert102M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008Insert102M
		*/
	<![CDATA[
	INSERT INTO TBDCPDCP102M
		   (
		    REQ_DVSN_CD
		   ,ACP_YR
		   ,CVPT_ACP_NO
		   ,CVPT_TXT
		   ,FRT_USR_ID
		   ,FNL_USR_ID
		   ,FNL_DEAL_DPT_CD
		   ,FNL_MNU_ID
		   ,FRT_REGI_DH
		   ,FNL_MDF_DH
		   )
		   VALUES
		   (
		   '1'
		   ,SUBSTR(#{acpDh}, 1,4)
		   ,#{cvptAcpNo}
		   ,#{cvptTxt}
		   ,'HOMEPAGE'
		   ,'HOMEPAGE'
		   ,'0000'
		   ,'HOMEPAGE'
		   ,SYSDATE
		   ,SYSDATE
		   )
	]]>
	</insert>

	<insert id="DCP711711OINSPCP008Insert202H" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP008Insert202H
		*/
	<![CDATA[
	INSERT INTO TBDCPDCP202H
    (
     REQ_DVSN_CD
    ,ACP_YR
    ,CVPT_ACP_NO
    ,CVPT_DTB_HST_SRNO
    ,CVPT_HNDL_STA_CD
    ,FRT_USR_ID
    ,FNL_USR_ID
    ,FNL_DEAL_DPT_CD
    ,FNL_MNU_ID
    ,FRT_REGI_DH
    ,FNL_MDF_DH
    )VALUES
    (
     '1'
    ,SUBSTR(#{acpDh}, 1,4)
    ,#{cvptAcpNo}
    ,1
    ,'10'
    ,'HOMEPAGE'
    ,'HOMEPAGE'
    ,'0000'
    ,'HOMEPAGE'
    ,SYSDATE
    ,SYSDATE
    )
    ]]>
	</insert>


	<update id="DCP711711OINSPCP009Update101M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP009Update101M
		*/
	<![CDATA[
			UPDATE TBDCPDCP101M
			   SET CVPTR_NM     = #{cvptrNm}
			      ,TNB         = REPLACE(REPLACE(#{tnb},'---',''),'--','')
			      ,EML_ID      = DECODE(#{emlId},NULL,'',SUBSTR(#{emlId}, 0, INSTR(#{emlId}, '@') -1))
			      ,EML_DMI_NM  = DECODE(#{emlId},NULL,'',SUBSTR(#{emlId}, INSTR(#{emlId}, '@') + 1, length(#{emlId})))
			      ,HPN         = REPLACE(REPLACE(#{hpn},'---',''),'010--','')
			      ,ZCD         = REPLACE(#{zcd},'-','')
			      ,AD          = #{ad}
			      ,DTL_AD      = #{dtlAd}
			      ,CPNM_NM     = #{cpnmNm}
			      ,BZN         = #{bzn}
			      ,TIT_NM      = #{titNm}
			      ,FNL_MNU_ID      = 'HOMEPAGE'
			      ,FNL_MDF_DH      = SYSDATE
			WHERE 1=1
			  AND HMP_APL_NO = #{hmpAplNo}

	]]>
	</update>

	<update id="DCP711711OINSPCP009Update102M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP009Update102M
		*/
	<![CDATA[
		 UPDATE TBDCPDCP102M D1
		    SET CVPT_TXT = #{cvptTxt}
		       ,D1.FNL_MNU_ID      = 'HOMEPAGE'
		       ,D1.FNL_MDF_DH      = SYSDATE
		  WHERE (D1.REQ_DVSN_CD, D1.ACP_YR, D1.CVPT_ACP_NO)  IN (	SELECT  S1.REQ_DVSN_CD, S1.ACP_YR, S1.CVPT_ACP_NO
		                  											FROM 	TBDCPDCP101M S1
		                 											WHERE	S1.HMP_APL_NO = #{hmpAplNo}
		               											)
	]]>
	</update>

	<update id="DCP711711OINSPCP009Update103M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP009Update103M
		*/
	<![CDATA[
		 UPDATE TBDCPDCP103M D1
		    SET D1.CLM_NM          = #{clmNm}
		       ,D1.TNB             = REPLACE(REPLACE(#{clmTnb},'---',''),'--','')
		       ,D1.ZCD             = REPLACE(#{clmZcd},'-','')
		       ,D1.AD              = #{clmAd}
		       ,D1.DTL_AD          = #{clmDtlAd}
		       ,D1.WRK_PLAC_NM     = #{wrkPlacNm}
		       ,D1.FNL_MNU_ID      = 'HOMEPAGE'
		       ,D1.FNL_MDF_DH      = SYSDATE
		  WHERE (D1.REQ_DVSN_CD, D1.ACP_YR, D1.CVPT_ACP_NO)  IN (	SELECT  S1.REQ_DVSN_CD, S1.ACP_YR, S1.CVPT_ACP_NO
		                  											FROM 	TBDCPDCP101M S1
		                 											WHERE	S1.HMP_APL_NO = #{hmpAplNo}
		               											)
	]]>
	</update>

	<!-- 감사청구 홈페이지 통보 -->
	<select id="CSPDCP711EARSend001Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711EARSend001Select
		*/
		<![CDATA[
			SELECT	A.REQ_DVSN_CD
					,A.ACP_YR
					,A.CVPT_ACP_NO
					,DECODE(A.REQ_DVSN_CD,'2','국민감사청구','3','공익감사청구') AS REQ_DVSN_NM
					,A.TIT_NM
					,DECODE(A.REQR_KND_CD,'1',A.CVPTR_NM,'2',A.RPST_PEN_NM,'3',A.RPST_PEN_NM,'4',A.CVPTR_NM) AS CVPTR_NM
					,B.REQR_DVSN_CD
					,F_CODE_NM('1000080',B.REQR_DVSN_CD) AS REQR_DVSN_NM
					,DECODE(A.REQ_DVSN_CD,'2',A.ACP_YR||'-국민-'||A.CVPT_ACP_NO,'3',A.ACP_YR||'-공익-'||A.CVPT_ACP_NO) AS REQ_ACP_NO
					,DECODE(A.REQR_KND_CD,'1','',A.CVPTR_NM) AS CPNM_NM
					,A.TNB
					,A.HPN
					,DECODE(A.EML_ID,'','',A.EML_ID||'@'||A.EML_DMI_NM) AS EML_ID
					,TO_CHAR(A.ACP_DH,'YYYY.MM.DD') AS ACP_DT
					,DECODE(#{rsltCd},'08',TO_CHAR(A.CVPT_WDW_DH,'YYYY.MM.DD'),TO_CHAR(TO_DATE(B.AUD_RSLT_RPL_DT),'YYYY.MM.DD')) AS AUD_RSLT_RPL_DT
					,#{homeStaCd} AS CVPT_HNDL_STA_CD
					,#{homeStaNm} AS CVPT_HNDL_STA_NM
					,#{dvsnCd} AS DVSN_CD
			FROM	TBDCPDCP101M A, TBCSPEAR001M B
			WHERE	A.REQ_DVSN_CD = B.REQ_DVSN_CD
			AND		A.ACP_YR = B.ACP_YR
			AND		A.CVPT_ACP_NO = B.CVPT_ACP_NO
			AND		A.REQ_DVSN_CD = #{reqDvsnCd}
			AND		A.ACP_YR = #{acpYr}
			AND		A.CVPT_ACP_NO = #{cvptAcpNo}
		]]>
	</select>

	<insert id="DCP711711OSENDEar001Insert" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSENDEar001Insert
		*/
		<![CDATA[
			INSERT INTO	EH_INF_SP_AR_001
					(	IF_SEQ
						,IF_TYPE
						,REQ_DVSN_CD
						,ACP_YR
						,CVPT_ACP_NO
						,REQ_DVSN_NM
						,TIT_NM
						,CVPTR_NM
						,REQR_DVSN_CD
						,REQR_DVSN_NM
						,REQ_ACP_NO
						,CPNM_NM
						,TNB
						,HPN
						,EML_ID
						,ACP_DH
						,AUD_RSLT_RPL_DT
						,CVPT_HNDL_STA_CD
						,CVPT_HNDL_STA_NM
						,FRT_USR_ID
					)
			VALUES	(	#{ifSeq}
						,'SND'
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{reqDvsnNm}
						,#{titNm}
						,#{cvptrNm}
						,#{reqrDvsnCd}
						,#{reqrDvsnNm}
						,#{reqAcpNo}
						,#{cpnmNm}
						,#{tnb}
						,#{hpn}
						,#{emlId}
						,#{acpDh}
						,#{audRsltRplDt}
						,#{cvptHndlStaCd}
						,#{cvptHndlStaNm}
						,#{frtUsrId}
					)
		]]>
	</insert>

	<select id="CSPDCP711EARSend002Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711EARSend002Select
		*/
		<![CDATA[
			SELECT	A.REQ_DVSN_CD
					,A.ACP_YR
					,A.CVPT_ACP_NO
					,TO_CHAR(SYSDATE,'YYYY.MM.DD') AS HNDL_DT
					,NVL(B.HNDL_DPT_CD, #{fnlDealDptCd}) AS HNDL_DPT_CD
					,NVL(F_DPT_INFO(B.HNDL_DPT_CD,'1'),F_DPT_INFO(#{fnlDealDptCd},'1')) AS HNDL_DPT_NM
					,NVL(B.HNDL_CHGR_ID,F_USR_INFO(#{sCnb},'1')) AS HNDL_CHGR_ID
					,NVL(F_USR_INFO_BY_ID(B.HNDL_CHGR_ID,'2'),F_USR_INFO(#{sCnb},'2')) AS HNDL_CHGR_NM
					,#{homeStaCd} AS CVPT_HNDL_STA_CD
					,#{homeStaNm} AS CVPT_HNDL_STA_NM
					,'' AS AUD_RSLT_CD
					,'' AS AUD_RSLT_NM
					,#{dvsnCd} AS DVSN_CD
			FROM	TBDCPDCP101M A, TBCSPEAR001M B
			WHERE	A.REQ_DVSN_CD = B.REQ_DVSN_CD
			AND		A.ACP_YR = B.ACP_YR
			AND		A.CVPT_ACP_NO = B.CVPT_ACP_NO
			AND		A.REQ_DVSN_CD = #{reqDvsnCd}
			AND		A.ACP_YR = #{acpYr}
			AND		A.CVPT_ACP_NO = #{cvptAcpNo}
		]]>
	</select>

	<insert id="DCP711711OSENDEar002Insert" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OSENDEar002Insert
		*/
		<![CDATA[
			INSERT INTO	EH_INF_SP_AR_002
					(	IF_SEQ
						,IF_TYPE
						,REQ_DVSN_CD
						,ACP_YR
						,CVPT_ACP_NO
						,CVPT_HNDL_STA_CD
						,CVPT_HNDL_STA_NM
						,HNDL_DT
						,HNDL_DPT_CD
						,HNDL_DPT_NM
						,HNDL_CHGR_ID
						,HNDL_CHGR_NM
						,AUD_RSLT_CD
						,AUD_RSLT_NM
						,FRT_USR_ID
					)
			VALUES	(	#{ifSeq}
						,'SND'
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptHndlStaCd}
						,#{cvptHndlStaNm}
						,#{hndlDt}
						,#{hndlDptCd}
						,#{hndlDptNm}
						,#{hndlChgrId}
						,#{hndlChgrNm}
						,#{audRsltCd}
						,#{audRsltNm}
						,#{frtUsrId}
					)

		]]>
	</insert>

	<select id="CSPDCP711EARSend002_2Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711EARSend002_2Select
		*/
		<![CDATA[
			SELECT	A.REQ_DVSN_CD
					,A.ACP_YR
					,A.CVPT_ACP_NO
					,TO_CHAR(SYSDATE,'YYYY.MM.DD') AS HNDL_DT
					,B.HNDL_DPT_CD
					,F_DPT_INFO(B.HNDL_DPT_CD,'1') AS HNDL_DPT_NM
					,B.HNDL_CHGR_ID
					,F_USR_INFO_BY_ID(B.HNDL_CHGR_ID,'2') AS HNDL_CHGR_NM
					,#{homeStaCd} AS CVPT_HNDL_STA_CD
					,#{homeStaNm} AS CVPT_HNDL_STA_NM
					,#{rsltCd} AS AUD_RSLT_CD
					,F_CODE_NM('1000380' , #{rsltCd}) AS AUD_RSLT_NM
					,#{dvsnCd} AS DVSN_CD
			FROM	TBDCPDCP101M A, TBCSPEAR001M B
			WHERE	A.REQ_DVSN_CD = B.REQ_DVSN_CD
			AND		A.ACP_YR = B.ACP_YR
			AND		A.CVPT_ACP_NO = B.CVPT_ACP_NO
			AND		A.REQ_DVSN_CD = #{reqDvsnCd}
			AND		A.ACP_YR = #{acpYr}
			AND		A.CVPT_ACP_NO = #{cvptAcpNo}
		]]>
	</select>

	<insert id="CSPDCP711E305Insert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711E305Insert */
		<![CDATA[
			INSERT INTO	TBDCPDCP305H
					(	REQ_DVSN_CD
						,ACP_YR
						,CVPT_ACP_NO
						,HMP_TRNM_HST_SRNO
						,TRNM_DH
						,TRNM_CMPT_YN
						,IF_ID
						,TRNM_TXT
						,ANS_TXT
						,FRT_USR_ID
      					,FNL_USR_ID
      					,FNL_DEAL_DPT_CD
      					,FNL_MNU_ID
      					,FRT_REGI_DH
      					,FNL_MDF_DH
      				)
      		VALUES	(	#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,(	SELECT	NVL(MAX(HMP_TRNM_HST_SRNO),0)+1
							FROM	TBDCPDCP305H
							WHERE	REQ_DVSN_CD = #{reqDvsnCd}
							AND		ACP_YR = #{acpYr}
							AND		CVPT_ACP_NO = #{cvptAcpNo}
						)
						,SYSDATE
						,'Y'
						,#{ifId}
						,#{trnmTxt}
						,#{ansTxt}
       					,#{frtUsrId}
       					,#{fnlUsrId}
       					,#{fnlDealDptCd}
       					,#{fnlMnuId}
       					,SYSDATE
       					,SYSDATE
       				)
		]]>
	</insert>

	<insert id="CSPDCP711E305SucInsert" parameterType="paramMap">
		/* kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711E305SucInsert
		*/
		<![CDATA[
			INSERT INTO	TBDCPDCP305H /*CSPDCP711E305SucInsert*/
					(	REQ_DVSN_CD
						,ACP_YR
						,CVPT_ACP_NO
						,HMP_TRNM_HST_SRNO
						,TRNM_DH
						,TRNM_CMPT_YN
						,IF_ID
						,TRNM_TXT
						,ANS_TXT
						,FRT_USR_ID
      					,FNL_USR_ID
      					,FNL_DEAL_DPT_CD
      					,FNL_MNU_ID
      					,FRT_REGI_DH
      					,FNL_MDF_DH
      				)
      		VALUES	(	#{sucReqDvsnCd}
						,#{sucAcpYr}
						,#{sucCvptAcpNo}
						,(	SELECT	NVL(MAX(HMP_TRNM_HST_SRNO),0)+1
							FROM	TBDCPDCP305H
							WHERE	REQ_DVSN_CD = #{sucReqDvsnCd}
							AND		ACP_YR = #{sucAcpYr}
							AND		CVPT_ACP_NO = #{sucCvptAcpNo}
						)
						,SYSDATE
						,'Y'
						,#{ifId}
						,#{trnmTxt}
						,#{ansTxt}
       					,#{frtUsrId}
       					,#{fnlUsrId}
       					,#{fnlDealDptCd}
       					,#{fnlMnuId}
       					,SYSDATE
       					,SYSDATE
       				)
		]]>
	</insert>

	<insert id="CSPDCP711E305Suc_2Insert" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711E305Suc_2Insert
		*/
		<![CDATA[
			INSERT INTO	/*CSPDCP711E305Suc_2Insert*/
						TBDCPDCP305H
					(	REQ_DVSN_CD
						,ACP_YR
						,CVPT_ACP_NO
						,HMP_TRNM_HST_SRNO
						,TRNM_DH
						,TRNM_CMPT_YN
						,IF_ID
						,TRNM_TXT
						,ANS_TXT
						,FRT_USR_ID
      					,FNL_USR_ID
      					,FNL_DEAL_DPT_CD
      					,FNL_MNU_ID
      					,FRT_REGI_DH
      					,FNL_MDF_DH
      				)
	      		SELECT	A.REQ_DVSN_CD
	      				,A.ACP_YR
	      				,A.CVPT_ACP_NO
	      				,(	SELECT	NVL(MAX(HMP_TRNM_HST_SRNO),0)+1
							FROM	TBDCPDCP305H Z
							WHERE	Z.REQ_DVSN_CD = A.REQ_DVSN_CD
							AND		Z.ACP_YR = A.ACP_YR
							AND		Z.CVPT_ACP_NO = A.CVPT_ACP_NO
						)
						,SYSDATE
						,'Y'
						,#{ifId}
						,#{trnmTxt}
						,#{ansTxt}
       					,#{frtUsrId}
       					,#{fnlUsrId}
       					,#{fnlDealDptCd}
       					,#{fnlMnuId}
       					,SYSDATE
       					,SYSDATE
	      		FROM	TBDCPDCP101M A
	      		WHERE	(A.REQ_DVSN_CD, A.ACP_YR,A.CVPT_ACP_NO ) IN (	SELECT 	SUC_REQ_DVSN_CD,SUC_ACP_YR,SUC_CVPT_ACP_NO
																		FROM	TBDCPDCP105L
																		WHERE	REQ_DVSN_CD = #{reqDvsnCd}
																		AND		ACP_YR = #{acpYr}
																		AND		CVPT_ACP_NO = #{cvptAcpNo}
																	  )
		]]>
	</insert>

	<resultMap type="java.util.HashMap" id="CSPDCP419PINSPCP012Select">
		<result property="homeReqId" column="HOME_REQ_ID" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvYy" column="E_RECV_YY" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNo" column="E_RECV_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvCd" column="E_RECV_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eRecvNm" column="E_RECV_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eCmplDt" column="E_CMPL_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="eAnsCn" column="E_ANS_CN" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="homeOpenDt" column="HOME_OPEN_DT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
	</resultMap>
	<!-- 중간통보 홈페이지 전송 -->
	<select id="CSPDCP419PINSPCP012Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP419PINSPCP012Select
		*/
		<![CDATA[
			SELECT D1.HMP_APL_NO AS HOME_REQ_ID
			      ,D1.ACP_YR AS E_RECV_YY
			      ,D1.RM_CVPT_ACP_NO AS E_RECV_NO
			      ,D1.CVPT_HNDL_STA_CD AS E_RECV_CD
			      ,D3.USR_DFN_TXT_4 AS E_RECV_NM
			      ,TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS E_CMPL_DT
			      ,D2.ANS_TXT AS E_ANS_CN
			      ,TO_CHAR(D2.FRT_REGI_DH, 'YYYYMMDD') AS HOME_OPEN_DT
			  FROM TBDCPDCP101M D1
			      ,TBDCPDCP305H D2
			      ,TBDCMACM013C D3
			 WHERE 1=1
			   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD
			   AND D1.ACP_YR      = D2.ACP_YR
			   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO
			   AND D3.CMM_CD_DVSN_CD = '1000934'
			   AND D3.CD <> '0000000'
			   AND D1.CVPT_HNDL_STA_CD = D3.CD
			   AND D1.REQ_DVSN_CD = #{reqDvsnCd}
			   AND D1.ACP_YR      = #{acpYr}
			   AND D1.CVPT_ACP_NO = #{cvptAcpNo}
			   AND D2.HMP_TRNM_HST_SRNO =#{hmpTrnmHstSrno}
		]]>
	</select>

	<update id="CSPDCP419PSendUpdate" parameterType="paramMap">
		<![CDATA[
			UPDATE 	/*CSPDCP419PSendUpdate*/ TBDCPDCP305H
			SET 	TRNM_DH = SYSDATE
					,TRNM_CMPT_YN = 'Y'
					,IF_ID = #{ifId}
					,TRNM_TXT = #{trnmTxt}
					,ANS_TXT = #{ansTxt}
					,FNL_MDF_DH = SYSDATE
					,FNL_USR_ID = #{fnlUsrId}
					,FNL_DEAL_DPT_CD = #{fnlDealDptCd}
					,FNL_MNU_ID = #{fnlMnuId}
			WHERE	1=1
			AND		REQ_DVSN_CD = #{reqDvsnCd}
			AND		ACP_YR = #{acpYr}
			AND		CVPT_ACP_NO = #{cvptAcpNo}
			AND		HMP_TRNM_HST_SRNO =#{hmpTrnmHstSrno}
		]]>
	</update>

	<select id="CSPDCP516EINSPCP012Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP516EINSPCP012Select
		*/
		<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			      TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      =  #{acpYr}
		]]>
	</select>

	<select id="CSPDCP711INSPCP014CheckSelect" parameterType="paramMap"
		resultType="String">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP711INSPCP014CheckSelect
		*/
		<![CDATA[
			SELECT	CVPT_HNDL_STA_CD
			FROM	TBDCPDCP101M
			WHERE	1=1
		]]>
		<if test='hmpAplNo != null and hmpAplNo != ""'>
			AND HMP_APL_NO = #{hmpAplNo}
		</if>
		<if test='hmpAplNo == null or hmpAplNo == ""'>
			AND REQ_DVSN_CD ='6'
			AND ACP_YR = #{acpYr}
			AND
			RM_CVPT_ACP_NO = #{rmCvptAcpNo}
		</if>
	</select>

	<update id="DCP711711OINSPCP014Update101M" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP014Update101M
		*/
		<![CDATA[
			UPDATE	TBDCPDCP101M
			SET		CVPT_HNDL_STA_CD = #{cvptHndlStaCd}
					,CVPT_WDW_DH = SYSDATE
					,CVPT_WDW_RSN = #{ipAd}
					,WDW_RQS_YN = 'Y'
			WHERE	HMP_APL_NO = #{hmpAplNo}
		]]>
	</update>

	<update id="DCP711711OINSPCP014Update101MEmptyHome"
		parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP014Update101MEmptyHome
		*/
		<![CDATA[
			UPDATE	TBDCPDCP101M
			SET		CVPT_HNDL_STA_CD = #{cvptHndlStaCd}
					,CVPT_WDW_DH = SYSDATE
					,CVPT_WDW_RSN = #{ipAd}
					,WDW_RQS_YN = 'Y'
			WHERE	REQ_DVSN_CD = '6'
			AND		RM_CVPT_ACP_NO = #{rmCvptAcpNo}
			AND		ACP_YR = #{acpYr}
		]]>
	</update>

	<insert id="DCP711711OINSPCP014Insert202H" parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP014Insert202H
		*/
	<![CDATA[
	INSERT INTO TBDCPDCP202H
    (
     REQ_DVSN_CD
    ,ACP_YR
    ,CVPT_ACP_NO
    ,CVPT_DTB_HST_SRNO
    ,CVPT_HNDL_STA_CD
    ,FRT_USR_ID
    ,FNL_USR_ID
    ,FNL_DEAL_DPT_CD
    ,FNL_MNU_ID
    ,FRT_REGI_DH
    ,FNL_MDF_DH
    )
     SELECT	REQ_DVSN_CD, ACP_YR, CVPT_ACP_NO,
     		(	SELECT NVL(MAX(CVPT_DTB_HST_SRNO),0)+1
	     		FROM 	TBDCPDCP202H S1
	     		WHERE 	A.REQ_DVSN_CD =S1.REQ_DVSN_CD
	     		AND		A.ACP_YR = S1.ACP_YR
	     		AND		A.CVPT_ACP_NO = S1.CVPT_ACP_NO
     		)
     		,#{cvptHndlStaCd}
     		,'HOMEPAGE'
		    ,'HOMEPAGE'
		    ,'0000'
		    ,'HOMEPAGE'
		    ,SYSDATE
		    ,SYSDATE
     FROM	TBDCPDCP101M A
     WHERE	HMP_APL_NO = #{hmpAplNo}
    ]]>
	</insert>

	<insert id="DCP711711OINSPCP014Insert202HEmptyHome"
		parameterType="paramMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.DCP711711OINSPCP014Insert202HEmptyHome
		*/
	<![CDATA[
	INSERT INTO TBDCPDCP202H
    (
     REQ_DVSN_CD
    ,ACP_YR
    ,CVPT_ACP_NO
    ,CVPT_DTB_HST_SRNO
    ,CVPT_HNDL_STA_CD
    ,FRT_USR_ID
    ,FNL_USR_ID
    ,FNL_DEAL_DPT_CD
    ,FNL_MNU_ID
    ,FRT_REGI_DH
    ,FNL_MDF_DH
    )
     SELECT	REQ_DVSN_CD, ACP_YR, CVPT_ACP_NO,
     		(	SELECT NVL(MAX(CVPT_DTB_HST_SRNO),0)+1
	     		FROM 	TBDCPDCP202H S1
	     		WHERE 	A.REQ_DVSN_CD =S1.REQ_DVSN_CD
	     		AND		A.ACP_YR = S1.ACP_YR
	     		AND		A.CVPT_ACP_NO = S1.CVPT_ACP_NO
     		)
     		,#{cvptHndlStaCd}
     		,'HOMEPAGE'
		    ,'HOMEPAGE'
		    ,'0000'
		    ,'HOMEPAGE'
		    ,SYSDATE
		    ,SYSDATE
     FROM	TBDCPDCP101M A
     WHERE	REQ_DVSN_CD = '6'
     AND	ACP_YR = #{acpYr}
     AND	RM_CVPT_ACP_NO = #{rmCvptAcpNo}
    ]]>
	</insert>

	<select id="CSPDCP420EINSPCP012Select" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP420EINSPCP012Select
		*/
		<![CDATA[
			SELECT T1.REQ_DVSN_CD ,
       T1.ACP_YR ,
       T1.RM_CVPT_ACP_NO AS CVPT_ACP_NO,
       T1.HMP_APL_NO ,
       T1.CVPTR_NM ,
       DGUARD.DECRYPT('TB_ENC', 'EIN', T1.EIN) AS EIN,
       T1.JB_NM ,
       T1.AD ,
       T1.TNB ,
       T1.EML_ID ,
       T1.TIT_NM ,
       T2.CVPT_SBT ,
       T2.CVPT_TXT ,
       T2.INSPC_AGR_YN ,
       T2.OTR_INSPC_AGR_YN ,
       T2.OTR_ORG_NM ,
       TO_CHAR(T1.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH ,
       CASE WHEN T1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN T1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN T1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN T1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
       TO_CHAR(T1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
       T2.RTRN_WAY_TXT,
       T2.RMK_TXT,
       T1.CVPT_KND_CD,
       T1.CVPT_KND_DTL_CD,
       T3.CLM_NM AS RES_NM,
       T3.TNB AS RES_TNB,
       T3.WRK_PLAC_NM AS RES_JB_NM,
       (T3.AD || T3.DTL_AD) AS RES_AD,
       ('999') AS SRNO
  FROM TBDCPDCP101M T1,
       TBDCPDCP102M T2,
       TBDCPDCP103M T3
 WHERE T1.REQ_DVSN_CD =  #{reqDvsnCd}
   AND T1.ACP_YR =#{acpYr}
   AND T1.CVPT_ACP_NO = #{cvptAcpNo}
   AND T1.REQ_DVSN_CD = T2.REQ_DVSN_CD
   AND T1.ACP_YR = T2.ACP_YR
   AND T1.CVPT_ACP_NO = T2.CVPT_ACP_NO
   AND T3.REQ_DVSN_CD = T2.REQ_DVSN_CD
   AND T3.ACP_YR = T2.ACP_YR
   AND T3.CVPT_ACP_NO = T2.CVPT_ACP_NO
 UNION ALL
SELECT T1.REQ_DVSN_CD ,
       T1.ACP_YR ,
       T1.RM_CVPT_ACP_NO AS CVPT_ACP_NO,
       T1.HMP_APL_NO ,
       T1.CVPTR_NM ,
       DGUARD.DECRYPT('TB_ENC', 'EIN', T1.EIN) AS EIN,
       T1.JB_NM ,
       T1.AD ,
       T1.TNB ,
       T1.EML_ID ,
       T1.TIT_NM ,
       T2.CVPT_SBT ,
       T2.CVPT_TXT ,
       T2.INSPC_AGR_YN ,
       T2.OTR_INSPC_AGR_YN ,
       T2.OTR_ORG_NM ,
       TO_CHAR(T1.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH ,
       CASE WHEN T1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN T1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN T1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN T1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
       TO_CHAR(T1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
       T2.RTRN_WAY_TXT,
       T2.RMK_TXT,
       T1.CVPT_KND_CD,
       T1.CVPT_KND_DTL_CD,
       T3.CLM_NM AS RES_NM,
       T3.TNB AS RES_TNB,
       T3.WRK_PLAC_NM AS RES_JB_NM,
       (T3.AD || T3.DTL_AD) AS RES_AD,
       ('999') AS SRNO
  FROM TBDCPDCP101M T1,
       TBDCPDCP102M T2,
       TBDCPDCP103M T3
 WHERE (T1.REQ_DVSN_CD,
               T1.ACP_YR,
               T1.CVPT_ACP_NO) IN (SELECT S1.SUC_REQ_DVSN_CD ,
               S1.SUC_ACP_YR,
               S1.SUC_CVPT_ACP_NO
          FROM TBDCPDCP105L S1
         WHERE S1.REQ_DVSN_CD = #{reqDvsnCd}
           AND S1.ACP_YR = #{acpYr}
           AND S1.CVPT_ACP_NO = #{cvptAcpNo}
           AND T1.REQ_DVSN_CD = T2.REQ_DVSN_CD
           AND T1.ACP_YR = T2.ACP_YR
           AND T1.CVPT_ACP_NO = T2.CVPT_ACP_NO
           AND T3.REQ_DVSN_CD = T2.REQ_DVSN_CD
		   AND T3.ACP_YR = T2.ACP_YR
		   AND T3.CVPT_ACP_NO = T2.CVPT_ACP_NO)
		]]>
	</select>
	
	<select id="CSPDCP420EINSPCP012CancelSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP420EINSPCP012Select
		*/
		<![CDATA[
			SELECT T1.REQ_DVSN_CD ,
       T1.ACP_YR ,
       T1.RM_CVPT_ACP_NO AS CVPT_ACP_NO,
       T1.HMP_APL_NO ,
       T1.CVPTR_NM ,
       DGUARD.DECRYPT('TB_ENC', 'EIN', T1.EIN) AS EIN,
       T1.JB_NM ,
       T1.AD ,
       T1.TNB ,
       T1.EML_ID ,
       T1.TIT_NM ,
       T2.CVPT_SBT ,
       T2.CVPT_TXT ,
       T2.INSPC_AGR_YN ,
       T2.OTR_INSPC_AGR_YN ,
       T2.OTR_ORG_NM ,
       TO_CHAR(T1.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH ,
       CASE WHEN T1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN T1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN T1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN T1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
       TO_CHAR(T1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
       T2.RTRN_WAY_TXT,
       T2.RMK_TXT,
       T1.CVPT_KND_CD,
       T1.CVPT_KND_DTL_CD,
       T3.CLM_NM AS RES_NM,
       T3.TNB AS RES_TNB,
       T3.WRK_PLAC_NM AS RES_JB_NM,
       (T3.AD || T3.DTL_AD) AS RES_AD,
       ('999') AS SRNO
	  FROM TBDCPDCP101M T1,
	       TBDCPDCP102M T2,
	       TBDCPDCP103M T3
	 WHERE T1.REQ_DVSN_CD =  #{reqDvsnCd}
	   AND T1.ACP_YR =#{acpYr}
	   AND T1.CVPT_ACP_NO = #{cvptAcpNo}
	   AND T1.REQ_DVSN_CD = T2.REQ_DVSN_CD
	   AND T1.ACP_YR = T2.ACP_YR
	   AND T1.CVPT_ACP_NO = T2.CVPT_ACP_NO
	   AND T3.REQ_DVSN_CD = T2.REQ_DVSN_CD
	   AND T3.ACP_YR = T2.ACP_YR
	   AND T3.CVPT_ACP_NO = T2.CVPT_ACP_NO
		]]>
	</select>

	<select id="CSPDCP420EINSPCP012SelectAll" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP420EINSPCP012SelectAll
		*/
		<![CDATA[
			SELECT T1.REQ_DVSN_CD ,
       T1.ACP_YR ,
       T1.CVPT_ACP_NO ,
       T1.HMP_APL_NO ,
       LTRIM(T1.RM_CVPT_ACP_NO, '0') AS CORR_ACP_NO,
       T1.CVPTR_NM ,
       DGUARD.DECRYPT('TB_ENC', 'EIN', T1.EIN) AS EIN,
       T1.JB_NM ,
       T1.AD ,
       T1.TNB ,
       T1.EML_ID ,
       T1.TIT_NM ,
       T2.CVPT_SBT ,
       T2.CVPT_TXT ,
       T2.INSPC_AGR_YN ,
       T2.OTR_INSPC_AGR_YN ,
       T2.OTR_ORG_NM ,
       TO_CHAR(T1.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH ,
       CASE WHEN T1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN T1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN T1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN T1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
       TO_CHAR(T1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
       T2.RTRN_WAY_TXT,
       T2.RMK_TXT,
       T1.CVPT_KND_CD,
       T1.CVPT_KND_DTL_CD,
       T3.CLM_NM AS RES_NM,
       T3.TNB AS RES_TNB,
       T3.WRK_PLAC_NM AS RES_JB_NM,
       (T3.AD || T3.DTL_AD) AS RES_AD,
       ('999') AS SRNO
  FROM TBDCPDCP101M T1,
       TBDCPDCP102M T2,
       TBDCPDCP103M T3
 WHERE T1.REQ_DVSN_CD =  #{sucReqDvsnCd}
   AND T1.ACP_YR =#{sucAcpYr}
   AND T1.CVPT_ACP_NO = #{sucCvptAcpNo}
   AND T1.REQ_DVSN_CD = T2.REQ_DVSN_CD
   AND T1.ACP_YR = T2.ACP_YR
   AND T1.CVPT_ACP_NO = T2.CVPT_ACP_NO
   AND T3.REQ_DVSN_CD = T2.REQ_DVSN_CD
   AND T3.ACP_YR = T2.ACP_YR
   AND T3.CVPT_ACP_NO = T2.CVPT_ACP_NO
 UNION ALL
SELECT T1.REQ_DVSN_CD ,
       T1.ACP_YR ,
       T1.CVPT_ACP_NO ,
       T1.HMP_APL_NO ,
       LTRIM(T1.RM_CVPT_ACP_NO, '0') AS CORR_ACP_NO,
       T1.CVPTR_NM ,
       DGUARD.DECRYPT('TB_ENC', 'EIN', T1.EIN) AS EIN,
       T1.JB_NM ,
       T1.AD ,
       T1.TNB ,
       T1.EML_ID ,
       T1.TIT_NM ,
       T2.CVPT_SBT ,
       T2.CVPT_TXT ,
       T2.INSPC_AGR_YN ,
       T2.OTR_INSPC_AGR_YN ,
       T2.OTR_ORG_NM ,
       TO_CHAR(T1.ACP_DH, 'YYYYMMDDHH24MISS') AS ACP_DH ,
       CASE WHEN T1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN T1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN T1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN T1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN T1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN T1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN T1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
       TO_CHAR(T1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
       T2.RTRN_WAY_TXT,
       T2.RMK_TXT,
       T1.CVPT_KND_CD,
       T1.CVPT_KND_DTL_CD,
       T3.CLM_NM AS RES_NM,
       T3.TNB AS RES_TNB,
       T3.WRK_PLAC_NM AS RES_JB_NM,
       (T3.AD || T3.DTL_AD) AS RES_AD,
       ('999') AS SRNO
  FROM TBDCPDCP101M T1,
       TBDCPDCP102M T2,
       TBDCPDCP103M T3
 WHERE (T1.REQ_DVSN_CD,
               T1.ACP_YR,
               T1.CVPT_ACP_NO) IN (SELECT S1.SUC_REQ_DVSN_CD ,
               S1.SUC_ACP_YR,
               S1.SUC_CVPT_ACP_NO
          FROM TBDCPDCP105L S1
         WHERE S1.REQ_DVSN_CD = #{sucReqDvsnCd}
           AND S1.ACP_YR = #{sucAcpYr}
           AND S1.CVPT_ACP_NO = #{sucCvptAcpNo}
           AND T1.REQ_DVSN_CD = T2.REQ_DVSN_CD
           AND T1.ACP_YR = T2.ACP_YR
           AND T1.CVPT_ACP_NO = T2.CVPT_ACP_NO)
		]]>
	</select>

	<resultMap type="java.util.HashMap" id="sendINSPCP811Select">
		<result property="sttmDvsnCd" column="STTM_DVSN_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="acpYr" column="ACP_YR" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmAcpNo" column="STTM_ACP_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="dvsnCd" column="DVSN_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="hmpAplNo" column="HMP_APL_NO" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmKndCd" column="STTM_KND_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmKndDtlCd" column="STTM_KND_DTL_CD"
			jdbcType="VARCHAR" javaType="java.lang.String" />
		<result property="nam" column="NAM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="ein" column="EIN" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="jbNm" column="JB_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="ad" column="AD" jdbcType="VARCHAR" javaType="java.lang.String" />
		<result property="tnb" column="TNB" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="emlAd" column="EML_AD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="titNm" column="TIT_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmExcuTxt" column="STTM_EXCU_TXT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmTxtDh" column="STTM_TXT_DH" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmPlcNm" column="STTM_PLC_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="sttmTxt" column="STTM_TXT" jdbcType="CLOB"
			javaType="java.lang.String" />
		<result property="rtrnWayTxt" column="RTRN_WAY_TXT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="rmkTxt" column="RMK_TXT" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="otrOrgNm" column="OTR_ORG_NM" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="inspcAgrYn" column="INSPC_AGR_YN" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="otrInspcAgrYn" column="OTR_INSPC_AGR_YN"
			jdbcType="VARCHAR" javaType="java.lang.String" />
		<result property="acpDh" column="ACP_DH" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="hndlStaCd" column="HNDL_STA_CD" jdbcType="VARCHAR"
			javaType="java.lang.String" />
		<result property="ansTxt" column="ANS_TXT" jdbcType="CLOB"
			javaType="java.lang.String" />
		<result property="frtRegiDh" column="FRT_REGI_DH" jdbcType="VARCHAR"
			javaType="java.lang.String" />
	</resultMap>

	<select id="sendINSPCP811Select" parameterType="paramMap"
		resultType="egovMap">
		<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           D1.RM_CVPT_ACP_NO AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			      TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      =  #{acpYr}
		]]>
	</select>

	<insert id="sendINSPCP811Insert" parameterType="paramMap">
		<![CDATA[
			INSERT INTO EH_INF_SP_CP_811(
						IF_SEQ,                         /*인터페이스 순서*/					/*ifSeq*/
						IF_TYPE,                        /*연계타입*/							/*SND*/
						DVSN_CD,                     /*구분코드*/								/*D*/
						HMP_APL_NO,                /*홈페이지신청번호*/					/*hmpAplNo*/
						STTM_DVSN_CD,             /*신고구분코드*/ 						/*reqDvsnCd*/
						ACP_YR,                       /*접수년도*/								/*acpYr*/
						STTM_ACP_NO,				/*신고접수번호*/						/*cvptAcpNo*/
						STTM_KND_CD,				/*신고종류코드*/						/*cvptKndCd*/
						STTM_KND_DTL_CD,		/*신고종류상세코드*/					/*cvptKndDtlCd*/
						NAM,							/*성명*/									/*cvptrNm*/
						EIN,							/*주민번호*/								/*ein*/
						JB_NM,						/*직업명*/								/*jbNm*/
						AD,							/*주소*/									/*ad*/
						TNB,							/*전화번호*/								/*tnb*/
						EML_AD,						/*이메일주소*/							/*emlId*/
						TIT_NM,						/*제목명*/								/*titNm*/
						STTM_EXCU_TXT,			/*신고이유내용*/						/*cvptSbt*/
						STTM_TXT_DH,				/*신고내용일시*/						/*sttmTxtDh*/
						STTM_PLC_NM,				/*신고장소명*/							/*sttmPlcNm*/
						STTM_TXT,					/*신고내용*/								/*cvptTxt*/
						RTRN_WAY_TXT,				/*반환방법*/								/*rtrnWayTxt*/
						RMK_TXT,						/*비고내용*/								/*rmkTxt*/
						OTR_ORG_NM,				/*타기관명*/								/*otrOrgNm*/
						INSPC_AGR_YN,				/*조사동의여부*/						/*inspcAgrYn*/
						OTR_INSPC_AGR_YN,		/*타기관조사동의여부*/					/*otrInspcAgrYn*/
						ACP_DH,						/*접수일시*/								/*acpDh*/
						HNDL_STA_CD,				/*처리상태코드*/						/*cvptHndlStaCd*/
						HNDL_DH,					/*처리일시*/								/*hndlDh*/
						ANS_TXT,						/*답변내용*/								/*ansTxt*/
						FRT_REGN_IP,				/*최초등록자IP*/							/*frtRegnIp*/
						FRT_REGI_DH,				/*최초등록일시*/						/*frtRegiDh*/
						IF_SIID						/*연계처리키*/							/*ifSiid*/
					)			
				VALUES	(		
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
						,#{reqDvsnCd}
						,#{acpYr}
						,#{cvptAcpNo}
						,#{cvptKndCd}
						,#{cvptKndDtlCd}
						,#{cvptrNm}
						,#{ein}
						,#{jbNm}
						,#{ad}
						,#{tnb}
						,#{emlId}
						,#{titNm}
						,#{cvptSbt}
						,#{sttmTxtDh}
						,#{sttmPlcNm}
						,#{cvptTxt}
						,#{rtrnWayTxt}
						,#{rmkTxt}
						,#{otrOrgNm}
						,UPPER(#{inspcAgrYn})
						,UPPER(#{otrInspcAgrYn})
						,#{acpDh}
						,#{cvptHndlStaCd}
						,#{hndlDh}
						,#{ansTxt}
						,#{frtRegnIp}
						,#{frtRegiDh}
						,#{ifSiid}
						)
		]]>
	</insert>

	<select id="sendINSPCP812Select" parameterType="paramMap"
		resultType="egovMap">
		<![CDATA[
			SELECT 
		           D1.HMP_APL_NO,
		           D1.REQ_DVSN_CD,
		           D1.ACP_YR,
		           LTRIM(D1.RM_CVPT_ACP_NO, '0') AS CVPT_ACP_NO,
		           D1.CVPT_KND_CD,
		           D1.CVPT_KND_DTL_CD,
		           D1.CVPTR_NM,
		           DGUARD.DECRYPT('TB_ENC', 'EIN', D1.EIN) AS EIN,
		           D1.JB_NM,
		           (D1.AD || D1.DTL_AD) AS AD,
		           D1.TNB,
		           DECODE(D1.EML_ID, NULL, '', D1.EML_ID||'@'||D1.EML_DMI_NM )AS EML_ID,
		           D1.TIT_NM,
		           D2.CVPT_SBT,
		           D2.CVPT_TXT,
		           D2.RTRN_WAY_TXT,
		           D2.RMK_TXT,
		           D2.OTR_ORG_NM,
		           UPPER(D2.INSPC_AGR_YN) AS INSPC_AGR_YN,
		           UPPER(D2.OTR_INSPC_AGR_YN) AS OTR_INSPC_AGR_YN,
		           TO_CHAR(D1.ACP_DH,'YYYYMMDDHH24MISS') AS ACP_DH,
		           CASE WHEN D1.CVPT_HNDL_STA_CD = '10' THEN '1'
                   WHEN D1.CVPT_HNDL_STA_CD = '20' THEN '2'
                   WHEN D1.CVPT_HNDL_STA_CD = '21' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '30' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '31' THEN '3'
                   WHEN D1.CVPT_HNDL_STA_CD = '40' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '41' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '50' THEN '5'
                   WHEN D1.CVPT_HNDL_STA_CD = '60' THEN '9'
                   WHEN D1.CVPT_HNDL_STA_CD = '70' THEN '10'
                   WHEN D1.CVPT_HNDL_STA_CD = '71' THEN '10'
                   ELSE '' END AS CVPT_HNDL_STA_CD,
		           TO_CHAR(D1.FRT_REGI_DH,'YYYYMMDDHH24MISS') AS FRT_REGI_DH,
		           D4.ANS_TXT, 
		           D1.FRT_REGI_DH,
				   D3.CLM_NM AS RES_NM,
		           D3.TNB AS RES_TNB,
		           D3.WRK_PLAC_NM AS RES_JB_NM,
		           (D3.AD || D3.DTL_AD) AS RES_AD,
		           D5.SRNO,
			      TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS HNDL_DH,
       TO_CHAR(D1.FRT_REGI_DH, 'YYYYMMDDHH24MISS') AS STTM_TXT_DH
				  FROM TBDCPDCP101M D1 ,
				       TBDCPDCP102M D2 ,
				       TBDCPDCP103M D3 ,
                       TBDCPDCP201M D4 , 
                       TBDCPDCP205L D5
				 WHERE 1=1
				   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD(+)
				   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO(+)
				   AND D1.ACP_YR = D2.ACP_YR(+)
				   AND D1.REQ_DVSN_CD = D3.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D3.CVPT_ACP_NO
				   AND D1.ACP_YR = D3.ACP_YR
                   AND D1.REQ_DVSN_CD = D4.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D4.CVPT_ACP_NO
				   AND D1.ACP_YR = D4.ACP_YR
				   AND D1.REQ_DVSN_CD = D5.REQ_DVSN_CD
				   AND D1.CVPT_ACP_NO = D5.CVPT_ACP_NO
				   AND D1.ACP_YR = D5.ACP_YR
				  AND D1.REQ_DVSN_CD = #{reqDvsnCd}
				  AND D1.CVPT_ACP_NO = #{cvptAcpNo}
				  AND D1.ACP_YR      = #{acpYr}
		]]>
	</select>

	<insert id="sendINSPCP812Insert" parameterType="paramMap">
		<![CDATA[
			INSERT INTO	 EH_INF_SP_CP_812(	
                        IF_SEQ,					/* 인터페이스순서*/					/*ifSeq*/
                        IF_TYPE,					/*연계타입*/							/*SND*/
                        DVSN_CD,				/*구분코드*/							/*dvsn*/
                        HMP_APL_NO,			/*홈페이지신청번호*/				/*hmpAplNo*/
                        STTM_DVSN_CD, 		/*신고구분코드*/					/*reqDvsnCd*/
                        ACP_YR, 					/*접수년도*/		    			    /*acpYr*/
                        STTM_ACP_NO, 			/*신고접수번호*/					/*cvptAcpNo*/
                        SRNO, 					/*일련번호*/		        			/*srno*/
                        RES_NAM, 				/*피신고자성명*/					/*resName*/
                        RES_TNB, 				/*피신고자전화번호*/				/*resTnb*/
                        RES_JB_NM, 				/*피신고자직업명*/			        /*resJbNm*/
                        RES_AD, 					/*피신고자주소*/					/*resAd*/
                        CRP_NM, 					/*법인명*/						/*crpNm*/
                        IF_SIID 					/*연계처리키*/					/*ifSiid*/

						)
			VALUES	(	
						#{ifSeq}
						,'SND'
						,#{dvsnCd}
						,#{hmpAplNo}
                        ,#{reqDvsnCd}
                        ,#{acpYr}
                        ,#{cvptAcpNo}
						,'1'
						,#{resNm}
						,#{resTnb}
						,#{resJbNm}
						,#{resAd}
                        ,#{crpNm}
                        ,#{ifSiid}
					)
		]]>
	</insert>

	<select id="CSPDCP516EINSPCP012SucSelect" parameterType="paramMap"
		resultType="egovMap">
		/*
		kr.go.bai.eip.dcp.dcp.dao.DCP711711OMapper.CSPDCP516EINSPCP012SucSelect
		*/
		<![CDATA[
			SELECT D1.HMP_APL_NO AS HOME_REQ_ID
			      ,D1.ACP_YR AS E_RECV_YY
			      ,D1.RM_CVPT_ACP_NO AS E_RECV_NO
			      ,D1.CVPT_HNDL_STA_CD AS E_RECV_CD
			      ,D3.USR_DFN_TXT_4 AS E_RECV_NM
			      ,TO_CHAR(D1.FNL_MDF_DH, 'YYYYMMDDHH24MISS') AS E_CMPL_DT
			      ,D2.ANS_TXT AS E_ANS_CN
			      ,TO_CHAR(D2.FRT_REGI_DH, 'YYYYMMDD') AS HOME_OPEN_DT
			  FROM TBDCPDCP101M D1
			      ,TBDCPDCP401H D2
			      ,TBDCMACM013C D3
			 WHERE 1=1
			   AND (D1.REQ_DVSN_CD, D1.ACP_YR, D1.CVPT_ACP_NO) IN (SELECT 	Z.SUC_REQ_DVSN_CD,Z.SUC_ACP_YR,Z.SUC_CVPT_ACP_NO
																FROM	TBDCPDCP105L Z
																WHERE	Z.REQ_DVSN_CD = #{reqDvsnCd}
																AND		Z.ACP_YR = #{acpYr}
																AND		Z.CVPT_ACP_NO = #{cvptAcpNo}
															   )
			   AND D1.REQ_DVSN_CD = D2.REQ_DVSN_CD
			   AND D1.ACP_YR      = D2.ACP_YR
			   AND D1.CVPT_ACP_NO = D2.CVPT_ACP_NO
			   AND D3.CMM_CD_DVSN_CD = '1000934'
			   AND D3.CD <> '0000000'
			   AND D1.CVPT_HNDL_STA_CD = D3.CD
			   AND D2.DGE = #{dge}
			   AND D1.ACP_RUT_CD <> '8'
		]]>
	</select>
</mapper>
