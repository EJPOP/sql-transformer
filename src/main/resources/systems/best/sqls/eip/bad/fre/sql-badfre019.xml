<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC " -//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 감사사무처리부관리(자동)  -->
<mapper namespace="kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper">

	<!-- 재심의심사청구 조회-->
	<select id="BADFRE019EMainselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EMainselect */
        <![CDATA[

SELECT TT.*
, F_ORG_INFO(TT.ORG_CD, '1') AS ORG_NM	/*기관명*/
, CASE WHEN TRIM(TT.DCS_DVSN_CD) IS NULL THEN ''
       ELSE F_CODE_NM ('1000046', TT.DCS_DVSN_CD) || '-' || TT.DCS_YR || '-' || TT.DCS_NO
  END AS DCS_SBJ_NO		/*결정(사항)번호*/
  , (CASE WHEN TT.MG_DPT_CD IS NULL THEN '' ELSE 'Y' END) AS MG_YN
    /*처분요구사항제목내용*/
    , (SELECT TIT_TXT FROM TBBADEAR001M WHERE 1 = 1
        AND AUD_YR = TT.AUD_YR
        AND AUD_NO = TT.AUD_NO
        AND DSP_RQ_SNO = TT.DSP_RQ_SNO
        AND ROWNUM = 1
      ) AS TIT_TXT

    , CASE WHEN TRIM(TT.AD) IS NULL OR TRIM(TT.AD) = '' OR TRIM(TT.AD) = ' ' THEN '(청구인 주소)'
      ELSE '('|| TRIM(TT.ZCD) ||') '|| TRIM(TT.AD) ||' '|| NVL(TRIM(TT.DTL_AD), ' ')
      END AS HWP_AD		/*한글문서 출력 주소*/

    , TT.ACP_YR || '-' || DECODE(TT.ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') || '-' || TT.ACP_SRNO || ' ' || TT.TIT_NM AS HWP_NO_TIT /* 한글문서 감사사무처리부번호, 제목 */

    , CASE
         WHEN TT.HNDL_CHGR_TNB_3 IS NULL OR TT.HNDL_CHGR_TNB_3 = '' OR TT.HNDL_CHGR_TNB_3 = ' ' THEN '(담당자 전화번호)'
         ELSE TT.HNDL_CHGR_TNB_1 || '-' || TT.HNDL_CHGR_TNB_2 || '-' || TT.HNDL_CHGR_TNB_3
       END AS HWP_TNB /* 한글문서 담당자 전화번호 */

    , F_USR_INFO_BY_ID(TT.FNL_USR_ID, '2') AS FNL_USR_NM		/*최종사용자명*/
    , COUNT(1) OVER() AS TOT_CNT
FROM (SELECT T.* ,
               ROW_NUMBER() OVER(
                 ORDER BY ACP_YR DESC, ACP_SRNO DESC ) AS NUM
          FROM (SELECT DT.* ,
                       COUNT(1) OVER() AS TOT_CNT
                  FROM (


		   SELECT A.ACP_YR		/*접수년도*/
				, A.ACP_DVSN_CD	/*접수구분코드*/
				, A.ACP_SRNO	/*접수일련번호*/
				, A.DPT_CD		/*부서코드*/
				, (SELECT DPT_NM FROM TBDCMACM002M WHERE DPT_CD = A.DPT_CD) AS DPT_NM /*부서이름*/
				, A.MG_ACP_YR	/*병합접수년도*/
				, A.MG_ACP_DVSN_CD	/*병합접수구분코드*/
				, A.MG_ACP_SRNO	/*병합접수년도*/
				, A.MG_DPT_CD   /*병합부서코드*/
				, CASE WHEN A.ACP_YR >= '2016'
				           THEN A.ACP_YR || '-' || DECODE(A.ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') || '-' || A.ACP_SRNO
				       ELSE A.ACP_YR || '-' || A.ACP_DVSN_CD || '-' || A.ACP_SRNO
				   END                                                             AS ACP_NO /*접수번호 - 번호체계 변경 2015.12.08 yyh*/
				, to_char(to_date(A.ACP_DT), 'YYYY-MM-DD') AS ACP_DT		/*접수일*/
				, A.REQ_DT		/*청구일*/
				, A.TIT_NM		/*제목명*/
				, A.RPT_DT		/*보고일자*/
				, to_char(to_date(A.HNDL_DDLN_DT), 'YYYY-MM-DD') AS HNDL_DDLN_DT	/*처리기한*/
				, CASE WHEN (C.ENF_DT IS NULL AND B.SBCN_DT IS  NULL)
		        			THEN  TO_DATE(SYSDATE) - TO_DATE(A.ACP_DT) || '일'
		        	   ELSE
		        	 		CASE WHEN  TRIM(B.SBCN_DT) IS NOT NULL
		        	 			 	THEN TO_DATE(B.SBCN_DT) - TO_DATE(A.ACP_DT)	 || '일'
		        	 			 ELSE
			        	 			 TO_DATE(C.ENF_DT) - TO_DATE(A.ACP_DT) || '일'
		        	 		END
		          END AS HNDL_DT /*처리기간*/
				, A.JDG_REQ_DVSN_CD	/*심사청구구분코드*/
				, F_CODE_NM('1000043', A.JDG_REQ_DVSN_CD) AS JDG_REQ_DVSN_NM /*심사청구구분*/
				, TO_CHAR(A.REL_AM,'999,999,999,999') AS REL_AM /*관련금액*/
				, TO_CHAR(A.DFNT_CNT) AS DFNT_CNT	/*관련자수*/
				, A.ORG_CD								/*기관코드*/
				, A.REQR_NM	/*청구인*/
				, A.AGT_NM	/*대리인명*/
				, A.PSN_CRP_DVSN_CD	/*개인법인구분코드*/
				, A.ISU_TXT	/*쟁점내용*/
				, A.HNDL_CHGR_NM	/*처리담당자*/
				, A.AUD_YR			/*감사년도*/
				, A.AUD_NO			/*감사번호*/
				, A.DSP_RQ_SNO		/*처분요구순번*/
				, A.FNL_USR_ID		/*최종사용자id*/
				, A.HNDL_STT_TXT	/*처리상황내용*/
				, A.OW_HNDL_RMK		/*사무처리비고*/
				, TO_CHAR(A.FNL_MDF_DH,'YYYY-MM-DD')AS FNL_MDF_DH		/*최종수정일자*/
				, A.BAI_DSP_DIV_CD	/*감사원처분과코드*/
				, A.BAI_DSP_YN		/*감사원처분여부*/
				, B.CMT_CHF_CMTR_NM	/*위원회주심위원*/
				, B.JDG_RVW_HNDL_DVSN_CD	/*심사심의처리구분*/
				, B.VT_KND_CD		/*의결종류코드*/
				, F_CODE_NM('1000045', B.VT_KND_CD) AS VT_KND_NM /*의결종류*/
				, B.DOC_ID	/*첨부파일*/
				, DECODE(NVL(B.DOC_ID,''),'','','파일보기') AS FILE_NAME  /*파일명*/
				, B.SBCN_NO			/*부의번호*/
				, B.SBCN_NO || '(' || B.SBCN_NBC || '회)' AS SBCN_NO_NM			/*부의번호*/
				, B.SBCN_NBC		/*부의횟수*/
				, to_char(to_date(B.SBCN_DT), 'YYYY-MM-DD') AS SBCN_DT		/*부의일*/
				, TO_DATE(TRIM(B.SBCN_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS SBCN_HNDL_DT /*부의처리기간*/
				, B.DCS_DT			/*결정일*/
				, B.DCS_SBJ			/*결정사항*/
				, B.DCS_NO
				, B.AMIT_AM /*용인금액*/
				, B.DCS_YR			/*결정년도*/
				, B.DCS_DVSN_CD		/*결정구분코드*/
				, DECODE(B.DCS_DVSN_CD,'1','감심','2','감재심','3','감재판','') AS DCS_DVSN_NM	/*결정구분*/
				, to_char(to_date(B.DVCHF_APV_DT), 'YYYY-MM-DD') AS DVCHF_APV_DT	/*과장결재일*/
				, TO_DATE(TRIM(B.DVCHF_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS DVCHF_HNDL_DT /*과장처리기간*/
				, to_char(to_date(B.DDG_APV_DT), 'YYYY-MM-DD') AS DDG_APV_DT		/*심의관결재일*/
				, TO_DATE(TRIM(B.DDG_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS DDG_HNDL_DT /*심의관처리기간*/
				, to_char(to_date(B.BRUCHF_APV_DT), 'YYYY-MM-DD') AS BRUCHF_APV_DT	/*국장결재일*/
				, TO_DATE(TRIM(B.BRUCHF_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS BRUCHF_HNDL_DT /*국장처리기간*/
				, to_char(to_date(B.OW_PSD_APV_DT), 'YYYY-MM-DD') AS OW_PSD_APV_DT	/*사무총장결재일*/
				, TO_DATE(TRIM(B.OW_PSD_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS OW_PSD_HNDL_DT /*사무총장처리기간*/
				, to_char(to_date(B.LEDG_APV_DT), 'YYYY-MM-DD') AS LEDG_APV_DT		/*원장결재일*/
				, TO_DATE(TRIM(B.LEDG_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS LEDG_HNDL_DT /*원장처리기간*/
				, to_char(to_date(B.CMTR_APV_DT), 'YYYY-MM-DD') AS CMTR_APV_DT		/*위원결재일*/
				, TO_DATE(TRIM(B.CMTR_APV_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS CMTR_HNDL_DT /*위원처리기간*/
				, B.RMK_SBJ				/*비고*/
				, to_char(to_date(C.ENF_DT), 'YYYY-MM-DD') AS ENF_DT			/*시행일*/
				, TO_DATE(TRIM(C.ENF_DT)) - TO_DATE(TRIM(A.ACP_DT)) || '일' AS ENF_HNDL_DT /*시행처리기간*/
				, to_char(to_date(C.ENFM_DT), 'YYYY-MM-DD') AS ENFM_DT			/*집행일*/
				, C.ENFM_TXT		/*집행내용*/
				, C.LWS_INST_DT		/*소송제기일*/
				, C.JUDG_DT			/*판결일*/
				, C.JUDG_TXT		/*판결내용*/
				, to_char(to_date(C.DF_DT), 'YYYY-MM-DD') AS DF_DT			/*보류일*/
				, to_char(to_date(C.RLS_DT), 'YYYY-MM-DD') AS RLS_DT			/*해제일*/
				, C.UN_HNDL_RSN		/*미처리사유*/
				, C.HNDL_PLN_TXT	/*처리계획내용*/
				, C.ODOC_NO			/*공문서번호*/
			    , A.ACP_NO_SMS_SEN_YN
			    , A.WRTANS_SEN_YN
			    , A.ZCD             /* 우편번호추가 - 2016.02.26 yyh */
                , A.AD
                , A.DTL_AD
                , A.HNDL_CHGR_TNB_1
                , A.HNDL_CHGR_TNB_2
                , A.HNDL_CHGR_TNB_3
                , A.CVPT_SEN_ACP_NO /* 민원발송접수번호 */

                ,NVL(C.LWS_YO,'N') AS LWS_YO /* 소송유무 - 2015.05.26 yyh */
                ,C.FRTRL_CT_NM               /* 1심법원명 - 2015.05.26 yyh */
                ,C.FRTRL_EVT_NO_TXT          /* 1심사건번호 - 2015.05.26 yyh */
                ,C.FNL_RSLT_TXT              /* 종국결과 - 2015.05.26 yyh */
		  FROM TBBADFRE012M A
		     , TBBADFRE012D B
		     , TBBADFRE013D C
		 WHERE 1=1
		   AND A.ACP_YR 		= B.ACP_YR(+)
		   AND A.ACP_DVSN_CD 	= B.ACP_DVSN_CD(+)
		   AND A.ACP_SRNO 		= B.ACP_SRNO(+)
		   AND A.ACP_YR 		= C.ACP_YR(+)
		   AND A.ACP_DVSN_CD 	= C.ACP_DVSN_CD(+)
		   AND A.ACP_SRNO 		= C.ACP_SRNO(+)
		   AND A.DPT_CD         IN (SELECT DPT_CD FROM TABLE(F_AUTH_DEPT(#{sCnb}, #{dptAuth}, '', #{upSpvBrdvCd})))
		]]>

		<!-- 완결여부 -->
		<if test='reqDvsn != null and reqDvsn != ""'>
		<if test='reqDvsn == "1"'>
				AND (A.JDG_REQ_DVSN_CD IS NOT NULL AND A.JDG_REQ_DVSN_CD NOT IN ('40', '41', '42', '43', '49') )
			</if>
		<if test='reqDvsn == "2"'>
				AND (A.JDG_REQ_DVSN_CD IS NOT NULL AND A.JDG_REQ_DVSN_CD IN ('40', '41', '42', '43', '49') )
			</if>
		</if>
		<!-- 접수연도 -->
		<if test='acpYr != null and acpYr != ""'>
			AND A.ACP_YR = #{acpYr}
		</if>
		<!-- 접수구분코드 -->
		<if test='acpDvsnCd != null and acpDvsnCd != ""'>
			AND A.ACP_DVSN_CD = #{acpDvsnCd}
		</if>
		<!-- 접수일련번호 -->
		<if test='acpSrno != null and acpSrno != ""'>
			AND A.ACP_SRNO = #{acpSrno}
		</if>
		<!-- 관련기관 -->
		<if test='rltnOrgCd != null and rltnOrgCd != ""'>
			AND A.ORG_CD	= #{rltnOrgCd}
		</if>
		<!-- 시행년도 -->
		<if test='enfDt != null and enfDt != ""'>
			AND SUBSTR(C.ENF_DT,0,4) = #{enfDt}
		</if>

		<!-- 접수일자 -->
		<if test='acpDt != null and acpDt != ""'>
			AND A.ACP_DT = #{acpDt}
		</if>
		<!-- 처리일자(처리기한일) -->
		<if test='hndlDdlnDt != null and hndlDdlnDt != ""'>
			AND A.HNDL_DDLN_DT =	#{hndlDdlnDt}
		</if>
		<!-- 관리국가 -->
		<if test='jdgDpt != null and jdgDpt != ""'>
			AND A.DPT_CD  = #{jdgDpt}
		</if>
		<!-- 완결여부 -->
		<if test='cpltYn != null and cpltYn != ""'>
		<if test='cpltYn == "1"'>
				AND (C.ENF_DT IS NULL AND B.SBCN_DT IS  NULL)
			</if>
		<if test='cpltYn == "2"'>
				AND (C.ENF_DT IS NOT NULL OR B.SBCN_DT IS NOT NULL)
			</if>
		</if>

		<!-- 의결종류 -->
		<if test='vtKndCd != null and vtKndCd != ""'>
		<if test='vtKndCd != "0"'>
				AND B.VT_KND_CD = #{vtKndCd}
			</if>
		<if test='vtKndCd == "0"'>
				AND B.VT_KND_CD IN ('1','2','3','4','5')
			</if>
		</if>

		<!-- 청구인 -->
		<if test='reqr != null and reqr != ""'>
			AND A.REQR_NM LIKE '%' || #{reqr} || '%'
		</if>
		<!-- 검색어 -->
		<if test='schTxt != null and schTxt != ""'>
			AND (A.HNDL_CHGR_NM LIKE '%' || #{schTxt} || '%' OR A.TIT_NM LIKE '%' || #{schTxt} || '%'
					OR A.ISU_TXT LIKE '%' || #{schTxt} || '%'  OR B.DCS_SBJ LIKE '%' || #{schTxt} || '%'
					OR C.JUDG_TXT LIKE '%' || #{schTxt} || '%'

					/* 추가 - 2015.05.26 yyh */
					OR C.FRTRL_CT_NM      LIKE '%' || #{schTxt} || '%'
					OR C.FRTRL_EVT_NO_TXT LIKE '%' || #{schTxt} || '%'
					OR C.FNL_RSLT_TXT     LIKE '%' || #{schTxt} || '%'
			    )
		</if>

		<!-- 처리과정 -->
		<if test='hndlCrs != null and hndlCrs != ""'>
		<if test='hndlCrs == "1"'>
				AND B.DVCHF_APV_DT 	IS NOT NULL
			</if>

		<if test='hndlCrs == "3"'>
				AND B.BRUCHF_APV_DT IS NOT NULL
			</if>

		<if test='hndlCrs == "4"'>
				AND B.OW_PSD_APV_DT IS NOT NULL
			</if>

		<if test='hndlCrs == "5"'>
				AND B.LEDG_APV_DT 	IS NOT NULL
			</if>

		<if test='hndlCrs == "6"'>
				AND B.CMTR_APV_DT 	IS NOT NULL
			</if>

		<if test='hndlCrs == "7"'>
				AND B.SBCN_DT 		IS NOT NULL
			</if>

		<if test='hndlCrs == "8"'>
				AND C.ENF_DT 		IS NOT NULL
			</if>
		</if>


        <![CDATA[
			) DT
			 ORDER BY ACP_YR DESC, ACP_SRNO DESC  ) T ) TT
			 WHERE NUM BETWEEN (((#{currPage}- 1) * #{pageSize}) + 1) AND (#{currPage} * #{pageSize})
        ]]>
	</select>


	<!--재심의심사청구 상세조회-->
	<select id="BADFRE019EDtlselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EDtlselect */
		<![CDATA[
                SELECT T1.ACP_YR			/*접수년도*/
                     , T1.ACP_DVSN_CD		/*접수구분코드*/
                     , T1.ACP_SRNO			/*접수일련번호*/
                     , T1.ORG_ACP_SRNO			/*접수일련번호*/
                     , to_char(to_date(T1.ACP_DT), 'YYYY-MM-DD') AS ACP_DT			/*접수일*/
                     , T1.REQ_DT			/*청구일*/
                     , T1.TIT_NM			/*제목명*/
                     , T1.DPT_CD			/*부서코드*/
                     , (SELECT DPT_NM FROM TBDCMACM002M WHERE DPT_CD = T1.DPT_CD) AS DPT_NM /*부서코드*/
                     , T1.RPT_DT			/*보고일*/
                     , to_char(to_date(T1.HNDL_DDLN_DT), 'YYYY-MM-DD') AS HNDL_DDLN_DT		/*처리기한일*/
                     , CASE WHEN (T3.ENF_DT IS NULL AND T2.SBCN_DT IS  NULL)
		        			THEN  TO_DATE(SYSDATE) - TO_DATE(T1.ACP_DT) || '일'
		        	   ELSE
		        	 		CASE WHEN  TRIM(T2.SBCN_DT) IS NOT NULL
		        	 			 	THEN TO_DATE(T2.SBCN_DT) - TO_DATE(T1.ACP_DT)	 || '일'
		        	 			 ELSE
			        	 			 TO_DATE(T3.ENF_DT) - TO_DATE(T1.ACP_DT) || '일'
		        	 		END
		          	   END AS ELP_DT /*경과일수*/
                     , T1.JDG_REQ_DVSN_CD	/*심사청구구분코드*/
					 , F_CODE_NM('1000043', T1.JDG_REQ_DVSN_CD) AS JDG_REQ_DVSN_NM
                     , T1.REL_AM			/*관련금액*/
                     , T1.DFNT_CNT			/*관계자수*/
                     , T1.ORG_CD 			/*기관코드*/
					 , F_ORG_INFO(T1.ORG_CD, '1') AS ORG_NM
                     , T1.REQR_NM			/*청구인명*/
                     , T1.AGT_NM 			/*대리인명*/
                     , T1.PSN_CRP_DVSN_CD	/*개인법인구분코드*/
                     , F_CODE_NM ('1000436', T1.PSN_CRP_DVSN_CD) AS PSN_CRP_DVSN /*개인법인구분*/
                     , T1.EIN			/*청구인주민등록번호*/
                     , T1.ISU_TXT			/*쟁점내용*/
                     , T1.HNDL_CHGR_NM		/*처리담당자*/
                     , T1.AUD_YR			/*감사년도*/
                     , T1.AUD_NO			/*감사번호*/
                     , (SELECT AUD_GRN_NO
                          FROM TBBADDED001M
                         WHERE AUD_YR = T1.AUD_YR
                           AND AUD_NO = T1.AUD_NO) AS AUD_GRN_NO
                     , T1.DSP_RQ_SNO		/*처분요구순번*/
                     , (SELECT DPT_NM FROM TBDCMACM002M WHERE DPT_CD = T1.BAI_DSP_DIV_CD) AS BAI_DSP_DIV_NM
                     , T1.BAI_DSP_YN		/*원처분여부*/
                     , (SELECT S1.ENF_DT
                          FROM TBBADEAR002D S1
                         WHERE S1.AUD_YR 		= T1.AUD_YR
                           AND S1.AUD_NO  		= T1.AUD_NO
                           AND S1.DSP_RQ_SNO 	= T1.DSP_RQ_SNO
                        ) AS DSP_RQ_ENF_DT
                     ,(SELECT F_CODE_NM('1000002', S1.DSP_RQ_KND_CD)
                         FROM TBBADEAR001M S1
                        WHERE S1.AUD_YR		= T1.AUD_YR
                          AND S1.AUD_NO  	= T1.AUD_NO
                          AND S1.DSP_RQ_SNO = T1.DSP_RQ_SNO
                       ) AS DSP_RQ_KND_NM	/*처분요구종류*/
                     ,(SELECT S1.TIT_TXT
                         FROM TBBADEAR001M S1
                        WHERE S1.AUD_YR 		= T1.AUD_YR
                          AND S1.AUD_NO  		= T1.AUD_NO
                          AND S1.DSP_RQ_SNO 	= T1.DSP_RQ_SNO
                        ) AS DSP_RQ_TIT_NM
                     , T1.ZCD				/*우편번호*/
                     , T1.AD				/*주소*/
                     , T1.DTL_AD			/*상세주소*/
                     , T1.HP_TNB_1			/*핸드폰번호1*/
                     , T1.HP_TNB_2			/*핸드폰번호2*/
                     , T1.HP_TNB_3			/*핸드폰번호3*/
                     , T1.TNB_1				/*전화번호1*/
                     , T1.TNB_2				/*전화번호2*/
                     , T1.TNB_3				/*전화번호3*/
                     , T1.HNDL_CHGR_TNB_1	/*처리담당자전화번호1*/
                     , T1.HNDL_CHGR_TNB_2	/*처리담당자전화번호2*/
                     , T1.HNDL_CHGR_TNB_3	/*처리담당자전화번호3*/
                     , T1.BAI_DSP_DIV_CD	/*원처분과코드*/
                     , (SELECT DPT_NM FROM TBDCMACM002M WHERE DPT_CD = T1.BAI_DSP_DIV_CD) as BAI_DSP_DIV_NM /*원처분과*/
                     , T2.CMT_CHF_CMTR_NM	/*위원회주심위원명*/
                     , T2.JDG_RVW_HNDL_DVSN_CD	/*심사심의처리구분코드*/
                     , NVL(T2.VT_KND_CD, T1.VT_KND_CD) AS VT_KND_CD			/*의결종류코드*/
                     , F_CODE_NM ('1000045', T2.VT_KND_CD) AS VT_KND /*의결종류*/
                     , T2.SBCN_NO			/*부의번호*/
                     , T2.SBCN_NBC			/*부의횟수*/
                     , to_char(to_date(T2.SBCN_DT), 'YYYY-MM-DD') AS SBCN_DT			/*부의일*/
                     , TO_DATE(TRIM(T2.SBCN_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS SBCN_HNDL_DT /*부의처리기간*/
                     , NVL(T2.DCS_DT, T1.DCS_DT) AS DCS_DT			/*결정일*/
                     , NVL(T2.DCS_SBJ, T1.DCS_SBJ) AS DCS_SBJ			/*결정사항*/
                     , NVL(T2.AMIT_AM, T1.AMIT_AM) AS AMIT_AM			/*용인금액*/
                     , T2.DCS_YR			/*결정년도*/
                     , T2.DCS_DVSN_CD		/*결정구분코드*/
                     , T2.DCS_NO			/*결정번호*/
                     , T2.DOC_ID			/*파일조회*/
                     , to_char(to_date(T2.DVCHF_APV_DT), 'YYYY-MM-DD') AS DVCHF_APV_DT		/*과장결재일*/
                     , TO_DATE(TRIM(T2.DVCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DVCHF_HNDL_DT /*과장처리기간*/
                     , to_char(to_date(T2.DDG_APV_DT), 'YYYY-MM-DD') AS DDG_APV_DT		/*심의관결재일*/
                     , TO_DATE(TRIM(T2.DDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DDG_HNDL_DT /*심의관처리기간*/
                     , to_char(to_date(T2.BRUCHF_APV_DT), 'YYYY-MM-DD') AS BRUCHF_APV_DT		/*국장결재일*/
                     , TO_DATE(TRIM(T2.BRUCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS BRUCHF_HNDL_DT /*국장처리기간*/
                     , to_char(to_date(T2.OW_PSD_APV_DT), 'YYYY-MM-DD') AS OW_PSD_APV_DT		/*사무총장결재일*/
                     , TO_DATE(TRIM(T2.OW_PSD_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS OW_PSD_HNDL_DT /*사무총장처리기간*/
                     , to_char(to_date(T2.LEDG_APV_DT), 'YYYY-MM-DD') AS LEDG_APV_DT		/*원장결재일*/
                     , TO_DATE(TRIM(T2.LEDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS LEDG_HNDL_DT /*원장처리기간*/
                     , to_char(to_date(T2.CMTR_APV_DT), 'YYYY-MM-DD') AS CMTR_APV_DT		/*위원결재일*/
                     , TO_DATE(TRIM(T2.CMTR_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS CMTR_HNDL_DT /*위원처리기간*/
                     , T2.RMK_SBJ				/*비고*/
                     , to_char(to_date(T3.ENF_DT), 'YYYY-MM-DD') AS ENF_DT			/*시행일*/
                     , TO_DATE(TRIM(T3.ENF_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS ENF_HNDL_DT /*시행처리기간*/
                     , to_char(to_date(T3.ENFM_DT), 'YYYY-MM-DD') AS ENFM_DT			/*집행일*/
                     , T3.ENFM_TXT			/*집행내용*/
                     , T3.LWS_INST_DT		/*소송제기일*/
                     , T3.JUDG_DT			/*판결일*/
                     , T3.JUDG_TXT			/*판결내용*/
                     , to_char(to_date(T3.DF_DT), 'YYYY-MM-DD') AS DF_DT				/*보류일*/
                     , to_char(to_date(T3.RLS_DT), 'YYYY-MM-DD') AS RLS_DT			/*해제일*/
                     , T3.UN_HNDL_RSN		/*미처리사유*/
                     , T1.EXTN_RSN			/*연장사유*/
                     , T3.HNDL_PLN_TXT		/*처리계획내용*/
                     , T3.ODOC_NO			/*공문서번호*/
                     , T1.CVPT_SEN_ACP_NO   /* 민원발송접수번호 */

                     , DECODE(T1.ACP_NO_SMS_SEN_YN,'Y','발송','미발송') AS ACP_NO_SMS_SEN_YN
			    	 , T1.WRTANS_SEN_YN
			    	 , T1.STTC_CNT

                     , NVL2(T2.DCS_YR, T2.DCS_YR||'-'||T2.DCS_DVSN_CD||'-'||T2.DCS_NO, '') AS TMP_NO1
                     , NVL2(T2.SBCN_NO, T2.SBCN_NO||'-'||T2.SBCN_NBC||'-'||T2.SBCN_DT, '') AS TMP_NO2

                     , T2.DCS_DOC_NOC

                     , NVL(T3.LWS_YO,'N')              AS LWS_YO    /* 소송유무 - 2015.05.26 yyh */
                     , DECODE(T3.LWS_YO,'Y','유','무') AS LWS_YO_NM  /* 소송유무명 - 2015.05.26 yyh */
                     , T3.FRTRL_CT_NM                               /* 1심법원명 - 2015.05.26 yyh */
                     , T3.FRTRL_EVT_NO_TXT                          /* 1심사건번호 - 2015.05.26 yyh */
                     , T3.FNL_RSLT_TXT                              /* 종국결과 - 2015.05.26 yyh */
                     ,(SELECT CASE WHEN AUD_YR >= '2016'
			                            THEN F_CODE_NM('1000739',AUD_KND_CD)
			                       ELSE ''
			                   END
                         FROM TBBADDED001M
                        WHERE AUD_YR 		= T1.AUD_YR
                          AND AUD_NO  		= T1.AUD_NO) AS AUD_YR_NO_KND_NM
                  FROM  TBBADFRE012M T1
                     ,  TBBADFRE012D T2
                     ,  TBBADFRE013D T3
                 WHERE  1=1
                   AND  T1.ACP_YR         = T2.ACP_YR(+)
                   AND  T1.ACP_DVSN_CD    = T2.ACP_DVSN_CD(+)
                   AND  T1.ACP_SRNO       = T2.ACP_SRNO(+)
                   AND  T1.ACP_YR         = T3.ACP_YR(+)
                   AND  T1.ACP_DVSN_CD    = T3.ACP_DVSN_CD(+)
                   AND  T1.ACP_SRNO       = T3.ACP_SRNO(+)
		 ]]>
                   AND  T1.ACP_YR         = #{acpYr}
                   AND  T1.ACP_DVSN_CD    = #{acpDvsnCd}
                   AND  T1.ACP_SRNO       = #{acpSrno}
                   AND  T1.DPT_CD		  = #{dptCd}

 	</select>

 	<!-- 재심의심사청구 검색 조회-->
	<select id="BADFRE019ESchselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ESchselect */
		<include refid="include.pageSelct" />
        <![CDATA[
				SELECT T1.ACP_YR                     AS ACP_YR 				/*접수년도(OK)*/
                     , T1.ACP_DVSN_CD                AS ACP_DVSN_CD        	/*접수구분코드*/
                     , T1.ACP_SRNO  				 AS ACP_SRNO            /*접수일련번호*/
                     , T1.DPT_CD					 AS DPT_CD  			/*부서코드*/
                     , (SELECT DPT_NM FROM TBDCMACM002M WHERE DPT_CD = T1.DPT_CD)     AS DPT_NM              /*부서명*/
					 , T1.ACP_DT                     AS ACP_DT             	/*접수일자(OK)*/
					 , T2.DOC_ID											/*DOC_ID*/
                     , DECODE(NVL(T2.DOC_ID,''),'','','파일보기') AS FILE_NAME  /*파일명*/
				 	 , T1.JDG_REQ_DVSN_CD            AS JDG_REQ_DVSN_CD    	/*심사청구구분코드*/
				 	 , F_CODE_NM ('1000043', T1.JDG_REQ_DVSN_CD) AS JDG_REQ_DVSN_NM /*심사청구구분*/
				 	 , CASE WHEN T1.ACP_YR >= '2016'
				 	             THEN T1.ACP_YR || '-' || DECODE(T1.ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') || '-' || T1.ACP_SRNO
				 	        ELSE
				 	                  T1.ACP_YR || '-' || T1.ACP_DVSN_CD || '-' || T1.ACP_SRNO
				 	    END                          AS ACP_NO /*접수번호*/
					 , T1.REQR_NM                    AS REQR_NM            	/*청구인명*/
                     , T1.ORG_CD                     AS ORG_CD             	/*기관코드*/
                     , F_ORG_INFO(T1.ORG_CD, '1') 	 AS ORG_NM				/*기관*/
                     , T1.PSN_CRP_DVSN_CD            AS PSN_CRP_DVSN_CD    	/*개인법인구분코드*/
                     , F_CODE_NM ('1000436', T1.PSN_CRP_DVSN_CD) AS PSN_CRP_DVSN_NM /*개인법인구분*/
                     , T1.AGT_NM                     AS AGT_NM             	/*대리인명*/
                     , T1.ISU_TXT                    AS ISU_TXT            	/*쟁점내용*/
                     , T2.SBCN_NBC  				 AS SBCN_NBC           /*부의횟수*/
                     , T2.SBCN_NO || '(' || T2.SBCN_NBC || '회)' AS SBCN_NO	/*부의번호(회수)*/
                     , T1.HNDL_DDLN_DT               AS HNDL_DDLN_DT        /*처리기한일*/
                     , CASE WHEN (T3.ENF_DT IS NULL AND T2.SBCN_DT IS  NULL)
	        					THEN  TO_DATE(SYSDATE) - TO_DATE(T1.ACP_DT) || '일'
	        	   			ELSE
			        	 		CASE WHEN  TRIM(T2.SBCN_DT) IS NOT NULL
			        	 			 	THEN TO_DATE(T2.SBCN_DT) - TO_DATE(T1.ACP_DT)	 || '일'
			        	 			 ELSE
				        	 			 TO_DATE(T3.ENF_DT) - TO_DATE(T1.ACP_DT) || '일'
			        	 		END
	          			END AS HNDL_DT /*처리기간*/
                     , T2.DVCHF_APV_DT               AS DVCHF_APV_DT       /*과장결재일*/
                     , TO_DATE(TRIM(T2.DVCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DVCHF_HNDL_DT /*과장처리기간*/
                     , T2.DDG_APV_DT                 AS DDG_APV_DT       	/*심의관결재일*/
                     , TO_DATE(TRIM(T2.DDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DDG_HNDL_DT /*심의관처리기간*/
                     , T2.BRUCHF_APV_DT              AS BRUCHF_APV_DT      /*국장결재일*/
                     , TO_DATE(TRIM(T2.BRUCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS BRUCHF_HNDL_DT /*국장처리기간*/
                     , T2.OW_PSD_APV_DT              AS OW_PSD_APV_DT      /*사무총장결재일*/
                     , TO_DATE(TRIM(T2.OW_PSD_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS OW_PSD_HNDL_DT /*사무총장처리기간*/
                     , T2.LEDG_APV_DT                AS LEDG_APV_DT        /*원장결재일*/
                     , TO_DATE(TRIM(T2.LEDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS LEDG_HNDL_DT /*원장처리기간*/
                     , T2.CMTR_APV_DT                AS CMTR_APV_DT        /*위원결재일*/
                     , TO_DATE(TRIM(T2.CMTR_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS CMTR_HNDL_DT /*위원처리기간*/
                     , T2.SBCN_DT                    AS SBCN_DT            /*부의일*/
                     , TO_DATE(TRIM(T2.SBCN_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS SBCN_HNDL_DT /*부의처리기간*/
                     , T3.ENF_DT                     AS ENF_DT             /*시행일*/
                     , TO_DATE(TRIM(T3.ENF_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS ENF_HNDL_DT /*시행처리기간*/
                     , T2.CMT_CHF_CMTR_NM            AS CMT_CHF_CMTR_NM    /*위원회주심위원명*/
                     , T1.HNDL_CHGR_NM              AS HNDL_CHGR_NM      /*처리담당자명 */
                     , T2.VT_KND_CD                  AS VT_KND_CD          /*의결종류코드*/
                     , F_CODE_NM('1000045', T2.VT_KND_CD) AS VT_KND_NM	   /*의결종류*/
                     , T2.AMIT_AM   				 AS AMIT_AM            /*용인금액*/
                     , T3.ENFM_DT                    AS ENFM_DT            /*집행일*/
                     , T3.ENFM_TXT                   AS ENFM_TXT           /*집행내용*/
                     , T3.LWS_INST_DT        		 AS LWS_INST_DT	   	   /*소송제기일*/
                     , T3.JUDG_DT                    AS JUDG_DT            /*판결일*/
                     , T3.JUDG_TXT                   AS JUDG_TXT           /*판결내용*/
                     , T3.DF_DT                      AS DF_DT              /*보류일*/
                     , T3.RLS_DT                     AS RLS_DT             /*해제일*/
                     , T3.UN_HNDL_RSN                AS UN_HNDL_RSN        /*미처리사유*/
                     , T3.HNDL_PLN_TXT               AS HNDL_PLN_TXT       /*처리계획내용*/
                     , T2.DCS_YR                     AS DCS_YR             /*결정년도*/
                     , T2.DCS_DVSN_CD                AS DCS_DVSN_CD        /*결정구분코드*/
                     , T2.DCS_NO                     AS DCS_NO             /*결정번호*/
                     , CASE WHEN TRIM(T2.DCS_DVSN_CD) IS NULL
       							THEN ''
	        	 		   	ELSE F_CODE_NM ('1000046', T2.DCS_DVSN_CD) || '-' || T2.DCS_YR || '-' || T2.DCS_NO
	        		   	END AS DCS_SBJ_NO	/*결정사항번호*/
                     , T2.DCS_SBJ                    AS DCS_SBJ            /*결정사항*/
                     , (SELECT TIT_TXT
                          FROM TBBADEAR001M
                         WHERE AUD_YR 		= T1.AUD_YR
                           AND AUD_NO  		= T1.AUD_NO
                           AND DSP_RQ_SNO 	= T1.DSP_RQ_SNO
                        ) AS T2P_TIT_TXT      /*관련 처분요구*/
                     , T1.TIT_NM                     AS TIT_NM             /*제목명(청구내용)*/
                   	 , T2.RMK_SBJ                        AS RMK_SBJ        /*비고*/
                     , T1.REQ_DT                     AS REQ_DT             /*청구일자*/
                     , T1.RPT_DT                     AS RPT_DT             /*보고일자*/
                     , T1.REL_AM      			  	 AS REL_AM             /*관련금액*/
                     , T1.DFNT_CNT	 			  	 AS DFNT_CNT           /*관계자수*/
                     , T1.AUD_YR                     AS AUD_YR             /*감사년도*/
                     , T1.AUD_NO                     AS AUD_NO             /*감사번호*/
                     , T1.DSP_RQ_SNO     			 AS DSP_RQ_SNO         /*처분요구순번*/
                     , T1.FNL_USR_ID             	 AS FNL_USR_ID     	   /*최종사용자ID*/
                     , T1.FNL_MDF_DH                 AS FNL_MDF_DH         /*최종수정일자*/
                     , T2.JDG_RVW_HNDL_DVSN_CD       AS JDG_RVW_HNDL_DVSN_CD /*심사심의처리구분코드*/
                     , T2.DCS_DT                     AS DCS_DT             /*결정일*/
                     , T3.ODOC_NO                    AS ODOC_NO            /*공문서번호*/

                     , NVL(T3.LWS_YO,'N')             AS LWS_YO             /* 소송유무 - 2015.05.26 yyh */
                     , DECODE(T3.LWS_YO,'Y','유','무') AS LWS_YO_NM          /* 소송유무명 - 2015.05.26 yyh */
                     , T3.FRTRL_CT_NM                 AS FRTRL_CT_NM        /* 1심법원명 - 2015.05.26 yyh */
                     , T3.FRTRL_EVT_NO_TXT            AS FRTRL_EVT_NO_TXT   /* 1심사건번호 - 2015.05.26 yyh */
                     , T3.FNL_RSLT_TXT                AS FNL_RSLT_TXT       /* 종국결과 - 2015.05.26 yyh */

                  FROM TBBADFRE012M T1
                     , TBBADFRE012D T2
                     , TBBADFRE013D T3
                 WHERE 1=1
                   AND T1.ACP_YR    	= T2.ACP_YR(+)
                   AND T1.ACP_DVSN_CD 	= T2.ACP_DVSN_CD(+)
                   AND T1.ACP_SRNO    	= T2.ACP_SRNO(+)
                   AND T1.ACP_YR    	= T3.ACP_YR(+)
                   AND T1.ACP_DVSN_CD 	= T3.ACP_DVSN_CD(+)
                   AND T1.ACP_SRNO    	= T3.ACP_SRNO(+)

        ]]>
        		<!-- 접수구분*********************************************************************************************** -->
				<!-- 접수연도 -->
		<if test='acpYr != null and acpYr != ""'>
				   AND T1.ACP_YR = #{acpYr}
				</if>
				<!-- 접수구분코드 -->
		<if test='acpDvsnCd != null and acpDvsnCd != ""'>
				   AND T1.ACP_DVSN_CD = #{acpDvsnCd}
				</if>
				<!-- 접수일련번호 -->
		<if test='acpSrno != null and acpSrno != ""'>
				   AND T1.ACP_SRNO = #{acpSrno}
				</if>
				<!-- 접수부서 -->
		<if test='dptCd != null and dptCd != ""'>
        		   AND T1.DPT_CD = #{dptCd}
        		</if>
        		<!-- 접수구분 *********************************************************************************************** -->


        		<!-- 청구구분 *********************************************************************************************** -->
        		<!-- 청구구분::청구분류(전체(''),심사(0),국세(1),지방세(2),산재(31),기타(32),재심의(4)) -->
		<if test='jdgReqDvsnCd != null and jdgReqDvsnCd != ""'>

		<if test='jdgReqDvsnCd == "10"'>
						AND  T1.JDG_REQ_DVSN_CD LIKE '1%'
					</if>

		<if test='jdgReqDvsnCd == "20"'>
						AND  T1.JDG_REQ_DVSN_CD LIKE '2%'
					</if>

		<if test='jdgReqDvsnCd == "30"'>
						AND  T1.JDG_REQ_DVSN_CD LIKE '3%'
					</if>

		<if test='jdgReqDvsnCd == "40"'>
						AND  T1.JDG_REQ_DVSN_CD LIKE '4%'
					</if>

		<if test='jdgReqDvsnCd != "10"'>
		<if test='jdgReqDvsnCd != "20"'>
		<if test='jdgReqDvsnCd != "30"'>
		<if test='jdgReqDvsnCd != "40"'>
									AND  T1.JDG_REQ_DVSN_CD = #{jdgReqDvsnCd}
								</if>
							</if>
						</if>
					</if>

        		</if>
        		<!-- 청구구분::청구인(성명) -->
		<if test='reqr != null and reqr != ""'>
        		   AND  T1.REQR_NM LIKE '%' || #{reqr} || '%'
        		</if>
        		<!-- 청구구분::청구내용 -->
		<if test='titNm != null and titNm != ""'>
        		   AND  T1.TIT_NM LIKE '%' || #{titNm} || '%'
        		</if>
        		<!-- 청구구분::관련기관 -->
		<if test='orgCd != null and orgCd != ""'>
        		   AND T1.ORG_CD = #{orgCd}
        		</if>
        		<!-- 청구구분 *********************************************************************************************** -->


        		<!-- 처리구분 *********************************************************************************************** -->
        		<!-- 처리구분::주심위원 -->
		<if test='cmtChfCmtrNm != null and cmtChfCmtrNm != ""'>
        		   AND  T2.CMT_CHF_CMTR_NM LIKE '%' || #{cmtChfCmtrNm} || '%'
        		</if>
        		<!-- 처리구분::처리담당 -->
		<if test='hndlChgrNm != null and hndlChgrNm != ""'>
        		   AND  T1.HNDL_CHGR_NM LIKE '%' || #{hndlChgrNm} || '%'
        		</if>
        		<!-- 처리구분::결정구분 -->
		<if test='dcsdvsncd != null and dcsdvsncd != ""'>
        		   AND  T2.DCS_DVSN_CD = #{dcsdvsncd}
        		</if>
        		<!-- 처리구분::결정년도 -->
		<if test='dcsYr != null and dcsYr != ""'>
        		   AND  T2.DCS_YR = #{dcsYr}
        		</if>
        		<!-- 처리구분::결정번호 -->
		<if test='dcsNo != null and dcsNo != ""'>
        		   AND  T2.DCS_NO = #{dcsNo}
        		</if>
        		<!-- 처리구분 *********************************************************************************************** -->


        		<!-- 처리과정 *********************************************************************************************** -->
        		<!-- '1'=과장,'2'=심의,'3'=국장,'4'=총장,'5'=원장,'6'=위원,'7'=부의,'8'=시행-->
		<if test='hndlCrs != null and hndlCrs != ""'>
		<if test='hndlCrs == "1"'>
						AND T2.DVCHF_APV_DT  IS NOT NULL
					</if>

		<if test='hndlCrs == "3"'>
						AND T2.BRUCHF_APV_DT IS NOT NULL
					</if>

		<if test='hndlCrs == "4"'>
						AND T2.OW_PSD_APV_DT IS NOT NULL
					</if>

		<if test='hndlCrs == "5"'>
						AND T2.LEDG_APV_DT 	IS NOT NULL
					</if>

		<if test='hndlCrs == "6"'>
						AND T2.CMTR_APV_DT 	IS NOT NULL
					</if>

		<if test='hndlCrs == "7"'>
						AND T2.SBCN_DT 		IS NOT NULL
					</if>

		<if test='hndlCrs == "8"'>
						AND T3.ENF_DT 		IS NOT NULL
					</if>
				</if>
				<!-- 처리과정 *********************************************************************************************** -->


				<!-- 특이사항 *********************************************************************************************** -->
				<!-- 1=소송사항,2=보류사항,3=보류해제사항,4=집행사항,5=처분요구관련사항 -->
		<if test='unique != null and unique != ""'>
		<if test='unique == "1"'>
						/* 주석처리 - 2015.05.26 yyh
						AND  T3.LWS_INST_DT IS NOT NULL */

						AND NVL(T3.LWS_YO,'N') = 'Y'
					</if>
		<if test='unique == "2"'>
						AND  T3.DF_DT  IS NOT NULL
					</if>
		<if test='unique == "3"'>
						AND  T3.RLS_DT IS NOT NULL
					</if>
		<if test='unique == "4"'>
						AND  T3.ENFM_DT IS NOT NULL
					</if>
		<if test='unique == "5"'>
						AND  T1.AUD_YR IS NOT NULL
					</if>
				</if>

				<!-- 특이사항 *********************************************************************************************** -->


				<!-- 검색어 *********************************************************************************************** -->
		<if test='schTxt != null and schTxt != ""'>
				 	AND (  T1.AGT_NM     LIKE '%' || #{schTxt} || '%' OR 	T1.HNDL_CHGR_NM 	LIKE '%' || #{schTxt} || '%'
				 		OR T1.TIT_NM     LIKE '%' || #{schTxt} || '%' OR 	T2.DCS_SBJ    		LIKE '%' || #{schTxt} || '%'
						OR T3.JUDG_TXT   LIKE '%' || #{schTxt} || '%' OR 	T1.ISU_TXT  		LIKE '%' || #{schTxt} || '%'
						OR T1.REQR_NM    LIKE '%' || #{schTxt} || '%'

						/* 추가 - 2015.05.26 yyh*/
						OR T3.FRTRL_CT_NM       LIKE '%' || #{schTxt} || '%'
					    OR T3.FRTRL_EVT_NO_TXT  LIKE '%' || #{schTxt} || '%'
					    OR T3.FNL_RSLT_TXT      LIKE '%' || #{schTxt} || '%'
						)
				</if>
				<!-- 검색어 *********************************************************************************************** -->


        		<!-- 완결구분 *********************************************************************************************** -->
        		<!-- [strCpltYn] 1=미결, 2=완결 -->
        		<!-- [strPeriod] 1=30일이상, 2=60일이상, 3=6개월이상, 4=1년이상 -->
		<if test='cpltYn != null and cpltYn != ""'>
        			<!-- 미결 -->
		<if test='cpltYn == "1"'>
						AND (T3.ENF_DT IS NULL AND T2.SBCN_DT IS  NULL)

		<if test='period != null and period != ""'>
		<if test='period == "1"'>
								<![CDATA[
									AND TO_DATE(TO_CHAR(SYSDATE, 'YYYYMMDD')) - TO_DATE(T1.ACP_DT,'YYYYMMDD') >= 30
								]]>
							</if>
		<if test='period == "2"'>
								<![CDATA[
									AND TO_DATE(TO_CHAR(SYSDATE, 'YYYYMMDD')) - TO_DATE(T1.ACP_DT,'YYYYMMDD') >= 60
								]]>
							</if>
		<if test='period == "3"'>
								<![CDATA[
									AND TO_DATE(TO_CHAR(SYSDATE, 'YYYYMMDD'))  >= ADD_MONTHS(TO_DATE(T1.ACP_DT),6)
								]]>
							</if>
		<if test='period == "4"'>
								<![CDATA[
									AND TO_DATE(TO_CHAR(SYSDATE, 'YYYYMMDD'))  >= ADD_MONTHS(TO_DATE(T1.ACP_DT),12)
								]]>
							</if>
						</if>

					</if>

					<!-- 완결 -->
		<if test='cpltYn == "2"'>
						AND (T3.ENF_DT IS NOT NULL OR T2.SBCN_DT IS NOT NULL)
		<if test='period != null and period != ""'>
		<if test='period == "1"'>
								<![CDATA[
									AND TO_DATE(NVL(T2.SBCN_DT,T3.ENF_DT)) - TO_DATE(T1.ACP_DT,'YYYYMMDD') >= 30
								]]>
							</if>
		<if test='period == "2"'>
								<![CDATA[
									AND TO_DATE(NVL(T2.SBCN_DT,T3.ENF_DT)) - TO_DATE(T1.ACP_DT,'YYYYMMDD') >= 60
								]]>
							</if>
		<if test='period == "3"'>
								<![CDATA[
									AND TO_DATE(NVL(T2.SBCN_DT,T3.ENF_DT))  >= ADD_MONTHS(TO_DATE(T1.ACP_DT),6)
								]]>
							</if>
		<if test='period == "4"'>
								<![CDATA[
									AND TO_DATE(NVL(T2.SBCN_DT,T3.ENF_DT))  >= ADD_MONTHS(TO_DATE(T1.ACP_DT),12)
								]]>
							</if>
						</if>
					</if>
				</if>
        		<!-- 완결구분 *********************************************************************************************** -->


        		<!-- 일자구분 *********************************************************************************************** -->
        		<!-- 일자구분1 -->
        		<!-- 1=접수일자,2=시행일자,3=집행일자,4=소송일자,5=판결일자 -->
		<if test='dyDvsn1 != null and dyDvsn1 != ""'>
		<if test='dyDvsn1 == "1"'>
		<if test='startDt1 != null and startDt1 != ""'>
      <![CDATA[ 			AND  T1.ACP_DT  >=  #{startDt1}	]]>
        				</if>
		<if test='endDt1 != null and endDt1 != ""'>
      <![CDATA[  			AND  T1.ACP_DT  <=  #{endDt1}		]]>
        				</if>
        			</if>
		<if test='dyDvsn1 == "2"'>
		<if test='startDt1 != null and startDt1 != ""'>
      <![CDATA[ 			AND  T3.ENF_DT  >=  #{startDt1}	]]>
        				</if>
		<if test='endDt1 != null and endDt1 != ""'>
      <![CDATA[  			AND  T3.ENF_DT  <=  #{endDt1}		]]>
        				</if>
        			</if>
		<if test='dyDvsn1 == "3"'>
		<if test='startDt1 != null and startDt1 != ""'>
      <![CDATA[ 			AND  T3.ENFM_DT  >=  #{startDt1}	]]>
        				</if>
		<if test='endDt1 != null and endDt1 != ""'>
      <![CDATA[  			AND  T3.ENFM_DT  <=  #{endDt1}		]]>
        				</if>
        			</if>
		<if test='dyDvsn1 == "4"'>
		<if test='startDt1 != null and startDt1 != ""'>
      <![CDATA[ 			AND  T3.LWS_INST_DT  >=  #{startDt1}	]]>
        				</if>
		<if test='endDt1 != null and endDt1 != ""'>
      <![CDATA[  			AND  T3.LWS_INST_DT  <=  #{endDt1}		]]>
        				</if>
        			</if>
		<if test='dyDvsn1 == "5"'>
		<if test='startDt1 != null and startDt1 != ""'>
      <![CDATA[ 			AND  T3.JUDG_DT  >=  #{startDt1}	]]>
        				</if>
		<if test='endDt1 != null and endDt1 != ""'>
      <![CDATA[  			AND  T3.JUDG_DT  <=  #{endDt1}		]]>
        				</if>
        			</if>
        		</if>

        		<!-- 일자구분2 -->
        		<!-- 1=접수일자,2=시행일자,3=집행일자,4=소송일자,5=판결일자 -->
		<if test='dyDvsn2 != null and dyDvsn2 != ""'>
		<if test='dyDvsn2 == "1"'>
		<if test='startDt2 != null and startDt2 != ""'>
      <![CDATA[ 			AND  T1.ACP_DT  >=  #{startDt2}	]]>
        				</if>
		<if test='endDt2 != null and endDt2 != ""'>
      <![CDATA[  			AND  T1.ACP_DT  <=  #{endDt2}		]]>
        				</if>
        			</if>
		<if test='dyDvsn2 == "2"'>
		<if test='startDt2 != null and startDt2 != ""'>
      <![CDATA[ 			AND  T3.ENF_DT  >=  #{startDt2}	]]>
        				</if>
		<if test='endDt2 != null and endDt2 != ""'>
      <![CDATA[  			AND  T3.ENF_DT  <=  #{endDt2}		]]>
        				</if>
        			</if>
		<if test='dyDvsn2 == "3"'>
		<if test='startDt2 != null and startDt2 != ""'>
      <![CDATA[ 			AND  T3.ENFM_DT  >=  #{startDt2}	]]>
        				</if>
		<if test='endDt2 != null and endDt2 != ""'>
      <![CDATA[  			AND  T3.ENFM_DT  <=  #{endDt2}		]]>
        				</if>
        			</if>
		<if test='dyDvsn2 == "4"'>
		<if test='startDt2 != null and startDt2 != ""'>
      <![CDATA[ 			AND  T3.LWS_INST_DT  >=  #{startDt2}	]]>
        				</if>
		<if test='endDt2 != null and endDt2 != ""'>
      <![CDATA[  			AND  T3.LWS_INST_DT  <=  #{endDt2}		]]>
        				</if>
        			</if>
		<if test='dyDvsn2 == "5"'>
		<if test='startDt2 != null and startDt2 != ""'>
      <![CDATA[ 			AND  T3.JUDG_DT  >=  #{startDt2}	]]>
        				</if>
		<if test='endDt2 != null and endDt2 != ""'>
      <![CDATA[  			AND  T3.JUDG_DT  <=  #{endDt2}		]]>
        				</if>
        			</if>
        		</if>

        		 ORDER BY T1.ACP_YR DESC, T1.ACP_SRNO DESC
		<include refid="include.pageOrder" />
    </select>
	<select id="BADFRE019EPopselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EPopselect */
        <![CDATA[
				SELECT T1.ACP_YR                     AS ACP_YR 				/*접수년도(OK)*/
                     , T1.ACP_DVSN_CD                AS ACP_DVSN_CD        	/*접수구분코드*/
                     , T1.ACP_SRNO  				 AS ACP_SRNO            /*접수일련번호*/
                     , T1.DPT_CD					 AS DPT_CD  			/*부서코드*/
					 , T1.ACP_DT                     AS ACP_DT             	/*접수일자(OK)*/
					 , T2.DOC_ID											/*DOC_ID*/

					 /* , T4.FILE_NAME					 AS FILE_NAME	 */

					 /*첨부파일*/
					 , (SELECT FILE_NAME
					 FROM ECM_FILE_LIST_VIEW2
					 WHERE DOC_ID = T2.DOC_ID
					 AND ROWNUM = 1
					 ) AS FILE_NAME


				 	 , T1.JDG_REQ_DVSN_CD            AS JDG_REQ_DVSN_CD    	/*심사청구구분코드*/
				 	 , F_CODE_NM ('1000043', T1.JDG_REQ_DVSN_CD) AS JDG_REQ_DVSN_NM /*심사청구구분*/
				 	 , T1.ACP_YR || '-' || T1.ACP_DVSN_CD || '-' || T1.ACP_SRNO AS ACP_NO /*접수번호*/
					 , T1.REQR_NM                    AS REQR_NM            	/*청구인명*/
                     , T1.ORG_CD                     AS ORG_CD             	/*기관코드*/
                     , F_ORG_INFO(T1.ORG_CD, '1') 	 AS ORG_NM				/*기관*/
                     , T1.PSN_CRP_DVSN_CD            AS PSN_CRP_DVSN_CD    	/*개인법인구분코드*/
                     , F_CODE_NM ('1000436', T1.PSN_CRP_DVSN_CD) AS PSN_CRP_DVSN_NM /*개인법인구분*/
                     , T1.AGT_NM                     AS AGT_NM             	/*대리인명*/
                     , T1.ISU_TXT                    AS ISU_TXT            	/*쟁점내용*/
                     , T2.SBCN_NBC  				 AS SBCN_NBC           /*부의횟수*/
                     , T2.SBCN_NO || '(' || T2.SBCN_NBC || '회)' AS SBCN_NO	/*부의번호(회수)*/
                     , T1.HNDL_DDLN_DT               AS HNDL_DDLN_DT        /*처리기한일*/
                     , CASE WHEN (T3.ENF_DT IS NULL AND T2.SBCN_DT IS  NULL)
	        					THEN  TO_DATE(SYSDATE) - TO_DATE(T1.ACP_DT) || '일'
	        	   			ELSE
			        	 		CASE WHEN  TRIM(T2.SBCN_DT) IS NOT NULL
			        	 			 	THEN TO_DATE(T2.SBCN_DT) - TO_DATE(T1.ACP_DT)	 || '일'
			        	 			 ELSE
				        	 			 TO_DATE(T3.ENF_DT) - TO_DATE(T1.ACP_DT) || '일'
			        	 		END
	          			END AS HNDL_DT /*처리기간*/
                     , T2.DVCHF_APV_DT               AS DVCHF_APV_DT       /*과장결재일*/
                     , TO_DATE(TRIM(T2.DVCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DVCHF_HNDL_DT /*과장처리기간*/
                     , T2.DDG_APV_DT                 AS DDG_APV_DT       	/*심의관결재일*/
                     , TO_DATE(TRIM(T2.DDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS DDG_HNDL_DT /*심의관처리기간*/
                     , T2.BRUCHF_APV_DT              AS BRUCHF_APV_DT      /*국장결재일*/
                     , TO_DATE(TRIM(T2.BRUCHF_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS BRUCHF_HNDL_DT /*국장처리기간*/
                     , T2.OW_PSD_APV_DT              AS OW_PSD_APV_DT      /*사무총장결재일*/
                     , TO_DATE(TRIM(T2.OW_PSD_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS OW_PSD_HNDL_DT /*사무총장처리기간*/
                     , T2.LEDG_APV_DT                AS LEDG_APV_DT        /*원장결재일*/
                     , TO_DATE(TRIM(T2.LEDG_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS LEDG_HNDL_DT /*원장처리기간*/
                     , T2.CMTR_APV_DT                AS CMTR_APV_DT        /*위원결재일*/
                     , TO_DATE(TRIM(T2.CMTR_APV_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS CMTR_HNDL_DT /*위원처리기간*/
                     , T2.SBCN_DT                    AS SBCN_DT            /*부의일*/
                     , TO_DATE(TRIM(T2.SBCN_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS SBCN_HNDL_DT /*부의처리기간*/
                     , T3.ENF_DT                     AS ENF_DT             /*시행일*/
                     , TO_DATE(TRIM(T3.ENF_DT)) - TO_DATE(TRIM(T1.ACP_DT)) || '일' AS ENF_HNDL_DT /*시행처리기간*/
                     , T2.CMT_CHF_CMTR_NM            AS CMT_CHF_CMTR_NM    /*위원회주심위원명*/
                     , T1.HNDL_CHGR_NM              AS HNDL_CHGR_NM      /*처리담당자명 */
                     , T2.VT_KND_CD                  AS VT_KND_CD          /*의결종류코드*/
                     , F_CODE_NM('1000045', T2.VT_KND_CD) AS VT_KND_NM	   /*의결종류*/
                     , T2.AMIT_AM   				 AS AMIT_AM            /*용인금액*/
                     , T3.ENFM_DT                    AS ENFM_DT            /*집행일*/
                     , T3.ENFM_TXT                   AS ENFM_TXT           /*집행내용*/
                     , T3.LWS_INST_DT        		 AS LWS_INST_DT	   	   /*소송제기일*/
                     , T3.JUDG_DT                    AS JUDG_DT            /*판결일*/
                     , T3.JUDG_TXT                   AS JUDG_TXT           /*판결내용*/
                     , T3.DF_DT                      AS DF_DT              /*보류일*/
                     , T3.RLS_DT                     AS RLS_DT             /*해제일*/
                     , T3.UN_HNDL_RSN                AS UN_HNDL_RSN        /*미처리사유*/
                     , T3.HNDL_PLN_TXT               AS HNDL_PLN_TXT       /*처리계획내용*/
                     , T2.DCS_YR                     AS DCS_YR             /*결정년도*/
                     , T2.DCS_DVSN_CD                AS DCS_DVSN_CD        /*결정구분코드*/
                     , T2.DCS_NO                     AS DCS_NO             /*결정번호*/
                     , CASE WHEN TRIM(T2.DCS_DVSN_CD) IS NULL
       							THEN ''
	        	 		   	ELSE F_CODE_NM ('1000046', T2.DCS_DVSN_CD) || '-' || T2.DCS_YR || '-' || T2.DCS_NO
	        		   	END AS DCS_SBJ_NO	/*결정사항번호*/
                     , T2.DCS_SBJ                    AS DCS_SBJ            /*결정사항*/
                     , (SELECT TIT_TXT
                          FROM TBBADEAR001M
                         WHERE AUD_YR 		= T1.AUD_YR
                           AND AUD_NO  		= T1.AUD_NO
                           AND DSP_RQ_SNO 	= T1.DSP_RQ_SNO
                        ) AS T2P_TIT_TXT      /*관련 처분요구*/
                     , T1.TIT_NM                     AS TIT_NM             /*제목명(청구내용)*/
                   	 , T2.RMK_SBJ                        AS RMK_SBJ                /*비고*/
                     , T1.REQ_DT                     AS REQ_DT             /*청구일자*/
                     , T1.RPT_DT                     AS RPT_DT             /*보고일자*/
                     , T1.REL_AM      			  	 AS REL_AM             /*관련금액*/
                     , T1.DFNT_CNT	 			  	 AS DFNT_CNT           /*관계자수*/
                     , T1.AUD_YR                     AS AUD_YR             /*감사년도*/
                     , T1.AUD_NO                     AS AUD_NO             /*감사번호*/
                     , T1.DSP_RQ_SNO     			 AS DSP_RQ_SNO         /*처분요구순번*/
                     , T1.FNL_USR_ID             	 AS FNL_USR_ID     	   /*최종사용자ID*/
                     , T1.FNL_MDF_DH                 AS FNL_MDF_DH         /*최종수정일자*/
                     , T2.JDG_RVW_HNDL_DVSN_CD       AS JDG_RVW_HNDL_DVSN_CD /*심사심의처리구분코드*/
                     , T2.DCS_DT                     AS DCS_DT             /*결정일*/
                     , T3.ODOC_NO                    AS ODOC_NO            /*공문서번호*/

                     , NVL(T3.LWS_YO,'N')            AS LWS_YO             /* 소송유무 - 2015.05.26 yyh */
                     , T3.FRTRL_CT_NM                AS FRTRL_CT_NM        /* 1심법원명 - 2015.05.26 yyh */
                     , T3.FRTRL_EVT_NO_TXT           AS FRTRL_EVT_NO_TXT   /* 1심사건번호 - 2015.05.26 yyh */
                     , T3.FNL_RSLT_TXT               AS FNL_RSLT_TXT       /* 종국결과 - 2015.05.26 yyh */

                  FROM TBBADFRE012M T1
                     , TBBADFRE012D T2
                     , TBBADFRE013D T3
                 WHERE 1=1
                   AND T1.ACP_YR    	= T2.ACP_YR(+)
                   AND T1.ACP_DVSN_CD 	= T2.ACP_DVSN_CD(+)
                   AND T1.ACP_SRNO    	= T2.ACP_SRNO(+)
                   AND T1.ACP_YR    	= T3.ACP_YR(+)
                   AND T1.ACP_DVSN_CD 	= T3.ACP_DVSN_CD(+)
                   AND T1.ACP_SRNO    	= T3.ACP_SRNO(+)
                   AND T1.ACP_YR    	= #{acpYr}
                   AND T1.ACP_DVSN_CD 	= #{acpDvsnCd}
                   AND T1.ACP_SRNO    	= #{acpSrno}
                   AND T1.DPT_CD    	= #{dptCd}
        		 ORDER BY T1.ACP_DT DESC
        ]]>
    </select>

    <!--재심의심사청구 병합내역조회-->
	<select id="BADFRE019EMgselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EMgselect */
		<![CDATA[
             SELECT T1.ACP_YR
             	  , T1.ACP_DVSN_CD
             	  , T1.ACP_SRNO
             	  , T1.DPT_CD
                  , CASE WHEN T1.ACP_YR >= '2016'
                              THEN T1.ACP_YR ||'-'|| DECODE(T1.ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') ||'-'|| T1.ACP_SRNO
                         ELSE T1.ACP_YR ||'-'|| T1.ACP_DVSN_CD ||'-'|| T1.ACP_SRNO
                     END                                                               AS ACP_NO /*접수번호 - 번호체계 변경 2015.12.08 yyh*/
			      , to_char(to_date(T1.ACP_DT), 'YYYY-MM-DD') AS ACP_DT				/*접수일자*/
			      , to_char(to_date(T1.HNDL_DDLN_DT), 'YYYY-MM-DD') AS HNDL_DDLN_DT	 		/*처리기한일*/
			      , T1.REQR_NM				/*청구인명*/
			      , T1.TIT_NM 				/*청구내용*/
			      , T2.TIT_TXT 				/*처분요구사항제목내용*/
			      , T1.HNDL_CHGR_NM  	 	/*처리담당자*/
               FROM TBBADFRE012M T1
			      , TBBADEAR001M T2
			  WHERE 1=1
			    AND T1.AUD_YR 		= T2.AUD_YR(+)
			    AND T1.AUD_NO 		= T2.AUD_NO(+)
			    AND T1.DSP_RQ_SNO 	= T2.DSP_RQ_SNO(+)

		 ]]>
			    AND T1.MG_ACP_YR 		= #{mgAcpYr}
			    AND T1.MG_ACP_DVSN_CD 	= #{mgAcpDvsnCd}
			    AND T1.MG_ACP_SRNO 		= #{mgAcpSrno}
			    AND T1.MG_DPT_CD		= #{mgDptCd}

        	  ORDER BY T1.ACP_YR DESC, T1.ACP_SRNO DESC
 	</select>



 	<!--재심의심사청구 접수일련번호 조회-->
	<select id="BADFRE019EAcpSrnoselect" parameterType="paramMap" resultType="String">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAcpSrnoselect */
		<![CDATA[
			SELECT NVL(MAX(ACP_SRNO),0) + 1
			  FROM TBBADFRE012M
			 WHERE ACP_YR 		= #{acpYr}
			   AND ACP_DVSN_CD  = #{acpDvsnCd} /* 접수구분코드 추가 - 2015.12.21 yyh  */
		]]>
	</select>

	<!--심사심의접수기본insert - 심사청구 -->
	<insert id="BADFRE001EJdgRvwAcpBscinsert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwAcpBscinsert */
		INSERT
		  INTO TBBADFRE012M
		     ( ACP_YR           /*접수년도*/
			 , ACP_DVSN_CD      /*접수구분코드*/
			 , ACP_SRNO         /*접수일련번호*/
			 , DPT_CD			/*부서코드*/
			 , ACP_DT           /*접수일*/
			 , REQ_DT           /*청구일*/
		     , TIT_NM           /*제목명*/
			 , RPT_DT    		/*보고일*/
			 , HNDL_DDLN_DT 	/*처리기한일*/
			 , JDG_REQ_DVSN_CD	/*심사청구구분코드*/
			 , JDG_REQ_DVSN_SRNO /*심사청구구분일련번호*/
			 , REL_AM			/*관련금액*/
			 , DFNT_CNT     	/*관계자수*/
			 , ORG_CD           /*기관코드*/
			 , ORG_NM           /*기관명*/
			 , REQR_NM       	/*청구인명*/
			 , AGT_NM         	/*대리인명*/
			 , PSN_CRP_DVSN_CD  /*개인법인구분코드*/
			 , EIN   		/*청구인주민등록번호*/
			 , ISU_TXT          /*쟁점내용*/
			 , HNDL_CHGR_NM     /*처리담당자*/
			 , AUD_YR         	/*감사년도*/
			 , AUD_NO          	/*감사번호*/
			 , DSP_RQ_SNO       /*처분요구순번*/
			 , BAI_DSP_DIV_CD	/*감사원처분과코드*/
			 , BAI_DSP_YN		/*감사원처분여부*/
			 , ZCD				/*우편번호*/
			 , AD				/*주소*/
			 , DTL_AD			/*상세주소*/
			 , TNB_1			/*전화번호1*/
			 , TNB_2			/*전화번호2*/
			 , TNB_3			/*전화번호3*/
			 , HP_TNB_1			/*핸드폰전화번호1*/
			 , HP_TNB_2			/*핸드폰전화번호2*/
			 , HP_TNB_3			/*핸드폰전화번호3*/
			 , HNDL_CHGR_TNB_1	/*처리담당자전화번호1*/
			 , HNDL_CHGR_TNB_2	/*처리담당자전화번호2*/
			 , HNDL_CHGR_TNB_3	/*처리담당자전화번호3*/
			 , FRT_USR_ID		/*최초사용자ID*/
			 , FNL_USR_ID		/*최종사용자ID*/
			 , FNL_DEAL_DPT_CD	/*최종거래부서코드*/
			 , FNL_MNU_ID		/*최종메뉴ID*/
			 , FRT_REGI_DH		/*최초등록일시*/
			 , FNL_MDF_DH		/*최종수정일시*/
			 , CVPT_SEN_ACP_NO  /* 민원발송접수번호 */
			 , WRTANS_SEN_YN    /* 부본발송여부 */
			 , STTC_CNT         /* 통계건수 */
			   )
		VALUES
		     ( #{acpYr}
			 , #{acpDvsnCd}
			 , #{acpSrno}
			 , #{dptCd}
			 , #{acpDt}
			 , #{reqDt}
			 , #{titNm}
			 , #{rptDt}
			 , #{hndlDdlnDt}
			 , #{jdgReqDvsnCd}
			 , (SELECT NVL(MAX(JDG_REQ_DVSN_SRNO),0) + #{sttcCnt}
			      FROM TBBADFRE012M
			     WHERE ACP_YR 		= TO_CHAR(SYSDATE,'YYYY')
			       AND ACP_DVSN_CD 	= #{acpDvsnCd}
			       AND DPT_CD 		= #{dptCd}
			       AND JDG_REQ_DVSN_CD LIKE SUBSTR(#{jdgReqDvsnCd},0,1) || '%'
			    )
			 , #{relAm}
			 , #{dfntCnt}
			 , #{orgCd}
			 , #{orgNm}
			 , #{reqrNm}
			 , #{agtNm}
			 , #{psnCrpDvsnCd}
			 , #{ein}
			 , #{isuTxt}
			 , #{hndlChgrNm}
			 , #{audYr}
		     , #{audNo}
			 , #{dspRqSno}
			 , #{baiDspDivCd}
			 , #{baiDspYn}
			 , #{zcd}
			 , #{ad}
			 , #{dtlAd}
			 , #{tnb1}
			 , #{tnb2}
			 , #{tnb3}
			 , #{hpTnb1}
			 , #{hpTnb2}
			 , #{hpTnb3}
			 , #{hndlChgrTnb1}
			 , #{hndlChgrTnb2}
			 , SUBSTR(#{hndlChgrTnb3} , -4)
			 , #{frtUsrId}
			 , #{fnlUsrId}
			 , #{fnlDealDptCd}
			 , #{fnlMnuId}
			 , SYSDATE
			 , SYSDATE
			 , #{cvptSenAcpNo}
			 , #{wrtansSenYn}
			 , #{sttcCnt}
		       )
	</insert>


	<!--심사심의접수기본insert - 재심의 -->
	<insert id="BADFRE001EJdgRvwAcpBsc2insert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwAcpBsc2insert */
		INSERT
		  INTO TBBADFRE012M
		     ( ACP_YR           /*접수년도*/
			 , ACP_DVSN_CD      /*접수구분코드*/
			 , ACP_SRNO         /*접수일련번호*/
			 , DPT_CD			/*부서코드*/
			 , ACP_DT           /*접수일*/
			 , REQ_DT           /*청구일*/
		     , TIT_NM           /*제목명*/
			 , RPT_DT    		/*보고일*/
			 , HNDL_DDLN_DT 	/*처리기한일*/
			 , JDG_REQ_DVSN_CD	/*심사청구구분코드*/
			 , JDG_REQ_DVSN_SRNO /*심사청구구분일련번호*/
			 , REL_AM			/*관련금액*/
			 , DFNT_CNT     	/*관계자수*/
			 , ORG_CD           /*기관코드*/
			 , ORG_NM           /*기관명*/
			 , REQR_NM       	/*청구인명*/
			 , AGT_NM         	/*대리인명*/
			 , PSN_CRP_DVSN_CD  /*개인법인구분코드*/
			 , EIN   		/*청구인주민등록번호*/
			 , ISU_TXT          /*쟁점내용*/
			 , HNDL_CHGR_NM     /*처리담당자*/
			 , AUD_YR         	/*감사년도*/
			 , AUD_NO          	/*감사번호*/
			 , DSP_RQ_SNO       /*처분요구순번*/
			 , BAI_DSP_DIV_CD	/*감사원처분과코드*/
			 , BAI_DSP_YN		/*감사원처분여부*/
			 , ZCD				/*우편번호*/
			 , AD				/*주소*/
			 , DTL_AD			/*상세주소*/
			 , TNB_1			/*전화번호1*/
			 , TNB_2			/*전화번호2*/
			 , TNB_3			/*전화번호3*/
			 , HP_TNB_1			/*핸드폰전화번호1*/
			 , HP_TNB_2			/*핸드폰전화번호2*/
			 , HP_TNB_3			/*핸드폰전화번호3*/
			 , HNDL_CHGR_TNB_1	/*처리담당자전화번호1*/
			 , HNDL_CHGR_TNB_2	/*처리담당자전화번호2*/
			 , HNDL_CHGR_TNB_3	/*처리담당자전화번호3*/
			 , FRT_USR_ID		/*최초사용자ID*/
			 , FNL_USR_ID		/*최종사용자ID*/
			 , FNL_DEAL_DPT_CD	/*최종거래부서코드*/
			 , FNL_MNU_ID		/*최종메뉴ID*/
			 , FRT_REGI_DH		/*최초등록일시*/
			 , FNL_MDF_DH		/*최종수정일시*/
			 , CVPT_SEN_ACP_NO  /* 민원발송접수번호 */
			 , WRTANS_SEN_YN    /* 부본발송여부 */
			 , STTC_CNT         /* 통계건수 */
			   )
		VALUES
		     ( #{acpYr}
			 , #{acpDvsnCd}
			 , #{acpSrno}
			 , #{dptCd}
			 , #{acpDt}
			 , #{reqDt}
			 , #{titNm}
			 , #{rptDt}
			 , #{hndlDdlnDt}
			 , #{jdgReqDvsnCd}
			 , (SELECT NVL(MAX(JDG_REQ_DVSN_SRNO),0) + #{sttcCnt}
			      FROM TBBADFRE012M
			     WHERE ACP_YR 		= TO_CHAR(SYSDATE,'YYYY')
			       AND ACP_DVSN_CD 	= #{acpDvsnCd}
			       AND DPT_CD 		= #{dptCd}
			    )
			 , #{relAm}
			 , #{dfntCnt}
			 , #{orgCd}
			 , #{orgNm}
			 , #{reqrNm}
			 , #{agtNm}
			 , #{psnCrpDvsnCd}
			 , #{ein}
			 , #{isuTxt}
			 , #{hndlChgrNm}
			 , #{audYr}
		     , #{audNo}
			 , #{dspRqSno}
			 , #{baiDspDivCd}
			 , #{baiDspYn}
			 , #{zcd}
			 , #{ad}
			 , #{dtlAd}
			 , #{tnb1}
			 , #{tnb2}
			 , #{tnb3}
			 , #{hpTnb1}
			 , #{hpTnb2}
			 , #{hpTnb3}
			 , #{hndlChgrTnb1}
			 , #{hndlChgrTnb2}
			 , SUBSTR(#{hndlChgrTnb3} , -4)
			 , #{frtUsrId}
			 , #{fnlUsrId}
			 , #{fnlDealDptCd}
			 , #{fnlMnuId}
			 , SYSDATE
			 , SYSDATE
			 , #{cvptSenAcpNo}
			 , #{wrtansSenYn}
			 , #{sttcCnt}
		       )
	</insert>

	<!--심사심의결재상세insert-->
	<insert id="BADFRE001EJdgRvwApvDtlinsert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwApvDtlinsert */
		INSERT
		  INTO TBBADFRE012D
		     ( ACP_YR           	/*접수년도*/
			 , ACP_DVSN_CD      	/*접수구분코드*/
			 , ACP_SRNO         	/*접수일련번호*/
			 , ORG_ACP_SRNO
			 , DPT_CD				/*부서코드*/
			 , CMT_CHF_CMTR_NM    	/*위원회주심위원명*/
			 , JDG_RVW_HNDL_DVSN_CD /*심사심의처리구분코드*/
			 , VT_KND_CD         	/*의결종류코드*/
			 , SBCN_NO           	/*부의번호*/
			 , SBCN_NBC         	/*부의횟수*/
			 , SBCN_DT         		/*부의일*/
			 , DCS_DT         		/*결정일*/
			 , DCS_SBJ         		/*결정사항*/
			 , AMIT_AM          	/*용인금액*/
			 , DCS_YR         		/*결정년도*/
			 , DCS_DVSN_CD         	/*결정구분코드*/
			 , DCS_NO           	/*결정번호*/
			 , DVCHF_APV_DT  		/*과장결재일*/
			 , DDG_APV_DT  			/*심의관결재일*/
			 , BRUCHF_APV_DT  		/*국장결재일*/
			 , OW_PSD_APV_DT  		/*사무총장결재일*/
			 , LEDG_APV_DT  		/*원장결재일*/
			 , CMTR_APV_DT  		/*위원결재일*/
			 , RMK_SBJ           		/*비고*/
			 , FRT_USR_ID			/*최초사용자ID*/
			 , FNL_USR_ID			/*최종사용자ID*/
			 , FNL_DEAL_DPT_CD		/*최종거래부서코드*/
			 , FNL_MNU_ID			/*최종메뉴ID*/
			 , FRT_REGI_DH			/*최초등록일시*/
			 , FNL_MDF_DH			/*최종수정일시*/
			   )
		VALUES
		     ( #{acpYr}
			 , #{acpDvsnCd}
			 , #{acpSrno}
			 , nvl(#{orgAcpSrno}, #{acpSrno})
			 , #{dptCd}
			 , #{cmtChfCmtrNm}
			 , #{jdgRvwHndlDvsnCd}
		     , #{vtKndCd}
			 , #{sbcnNo}
			 , #{sbcnNbc}
			 , #{sbcnDt}
			 , #{dcsDt}
			 , #{dcsSbj}
			 , #{amitAm}
			 , #{dcsYr}
			 , #{dcsDvsnCd}
			 , #{dcsNo}
			 , #{dvchfApvDt}
			 , #{ddgApvDt}
			 , #{bruchfApvDt}
			 , #{owPsdApvDt}
			 , #{ledgApvDt}
		     , #{cmtrApvDt}
			 , #{rmkSbj}
			 , #{frtUsrId}
			 , #{fnlUsrId}
			 , #{fnlDealDptCd}
			 , #{fnlMnuId}
			 , SYSDATE
			 , SYSDATE
		       )
	</insert>


	<!--심사심의처리상세insert-->
	<insert id="BADFRE001EJdgRvwHndlinsert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwHndlinsert */
		INSERT
		  INTO TBBADFRE013D
			 ( ACP_YR           /*접수년도*/
			 , ACP_DVSN_CD      /*접수구분코드*/
			 , ACP_SRNO         /*접수일련번호*/
			 , DPT_CD			/*부서코드*/
			 , ENF_DT           /*시행일*/
			 , ENFM_DT          /*집행일*/
			 , ENFM_TXT         /*집행내용*/
			 , LWS_INST_DT  	/*소송제기일*/
			 , JUDG_DT          /*판결일*/
			 , JUDG_TXT         /*판결내용*/
			 , DF_DT            /*보류일*/
			 , RLS_DT           /*해제일*/
			 , UN_HNDL_RSN      /*미처리사유*/
			 , HNDL_PLN_TXT     /*처리계획내용*/
			 , ODOC_NO         	/*공문서번호*/

			 , LWS_YO           /* 소송유무 - 2015.05.26 yyh */
			 , FRTRL_CT_NM      /* 1심법원명 - 2015.05.26 yyh */
			 , FRTRL_EVT_NO_TXT /* 1심사건번호 - 2015.05.26 yyh */
			 , FNL_RSLT_TXT     /* 종국결과 - 2015.05.26 yyh */

			 , FRT_USR_ID		/*최초사용자ID*/
			 , FNL_USR_ID		/*최종사용자ID*/
			 , FNL_DEAL_DPT_CD	/*최종거래부서코드*/
			 , FNL_MNU_ID		/*최종메뉴ID*/
			 , FRT_REGI_DH		/*최초등록일시*/
			 , FNL_MDF_DH		/*최종수정일시*/
			   )
		VALUES
			 ( #{acpYr}
			 , #{acpDvsnCd}
			 , #{acpSrno}
			 , #{dptCd}
			 , #{enfDt}
			 , #{enfmDt}
			 , #{enfmTxt}
			 , #{lwsInstDt}
			 , #{judgDt}
			 , #{judgTxt}
			 , #{dfDt}
			 , #{rlsDt}
			 , #{unHndlRsn}
			 , #{hndlPlnTxt}
			 , #{odocNo}

			 , #{lwsYo}
			 , #{frtrlCtNm}
			 , #{frtrlEvtNoTxt}
			 , #{fnlRsltTxt}

			 , #{frtUsrId}
			 , #{fnlUsrId}
			 , #{fnlDealDptCd}
			 , #{fnlMnuId}
			 , SYSDATE
			 , SYSDATE
			   )
	</insert>

	<!-- 관리국과(심사과) 조회-->
	<select id="BADFRE019EJdgDptselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EJdgDptselect */
        <![CDATA[
			SELECT DPT_CD AS CD
			     , DPT_NM AS CD_NM
			  FROM TBDCMACM002M
			 WHERE DPT_CD IN ('170300','170320','170330','160250')
			   AND USE_YN = 'Y'
			 ORDER BY DPT_CD ASC

			]]>

	</select>

	<!-- 심사과 사용자 조회
	170300 : 심사1담당관
	170320 : 심사2담당관
	170330 : 심사3담당관
	-->
	<select id="BADFRE019EJdgDptUsrselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EJdgDptUsrselect */
        <![CDATA[
			SELECT DPT_CD
			     , USR_NAM
			     , TNB
			  FROM TBDCMACM001M
			 WHERE 1=1
			 AND DPT_CD IN ('170300','170320','170330','160250')
			]]>
			 ORDER BY USR_NAM ASC


	</select>


	<update id="BADFRE019EAtchFileupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAtchFileupdate */
	<![CDATA[
		UPDATE TBBADFRE012D
		   SET FNL_MDF_DH      	= SYSDATE	/*최종수정일시*/
	]]>
		<if test='docId != null'>
	       	   , DOC_ID		= #{docId}	/*문서ID*/
		</if>
		<if test='docTypCd != null'>
	       	   , DOC_TYP_CD	= #{docTypCd}	/*문서유형코드*/
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID		= #{fnlUsrId}	/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD	= #{fnlDealDptCd}	/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID		= #{fnlMnuId}	/*최종메뉴ID*/
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</update>

	<!--심사심의접수기본 update -->
	<update id="BADFRE001EJdgRvwAcpBscupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwAcpBscupdate */
	<![CDATA[
		UPDATE TBBADFRE012M
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
	]]>

		<if test='mgAcpYr != null'>
	       	   , MG_ACP_YR        	= #{mgAcpYr}
		</if>
		<if test='mgAcpDvsnCd != null'>
	       	   , MG_ACP_DVSN_CD       = #{mgAcpDvsnCd}
		</if>
		<if test='mgAcpSrno != null'>
	       	   , MG_ACP_SRNO          = #{mgAcpSrno}
		</if>
		<if test='mgDptCd != null'>
	       	   , MG_DPT_CD          = #{mgDptCd}
		</if>
		<if test='dptCd != null'>
	       	   , DPT_CD          		= #{dptCd}
		</if>
		<if test='cvptSenAcpNo != null'>
	       	   , CVPT_SEN_ACP_NO      = #{cvptSenAcpNo}
		</if>
		<if test='acpDt != null'>
	       	   , ACP_DT        		= #{acpDt}
		</if>
		<if test='reqDt != null'>
	       	   , REQ_DT         		= #{reqDt}
		</if>
		<if test='titNm != null'>
	       	   , TIT_NM           	= #{titNm}
		</if>
		<if test='rptDt != null'>
	       	   , RPT_DT      			= #{rptDt}
		</if>
		<if test='hndlDdlnDt != null'>
	       	   , HNDL_DDLN_DT  		= #{hndlDdlnDt}
		</if>
		<if test='jdgReqDvsnCd != null'>
	       	   , JDG_REQ_DVSN_CD  	= #{jdgReqDvsnCd}
		</if>
		<if test='relAm != null'>
	       	   , REL_AM          		= #{relAm}
		</if>
		<if test='dfntCnt != null'>
	       	   , DFNT_CNT     		= #{dfntCnt}
		</if>
		<if test='orgCd != null'>
	       	   , ORG_CD           	= #{orgCd}
		</if>
		<if test='orgNm != null'>
	       	   , ORG_NM           	= #{orgNm}
		</if>
		<if test='reqrNm != null'>
	       	   , REQR_NM       		= #{reqrNm}
		</if>
		<if test='agtNm != null'>
	       	   , AGT_NM         		= #{agtNm}
		</if>
		<if test='psnCrpDvsnCd != null'>
	       	   , PSN_CRP_DVSN_CD  	= #{psnCrpDvsnCd}
		</if>
		<if test='ein != null'>
	       	   , EIN   			= #{ein}
		</if>
		<if test='isuTxt != null'>
	       	   , ISU_TXT          	= #{isuTxt}
		</if>
		<if test='hndlChgrCd != null'>
	       	   , HNDL_CHGR_CD          	= #{hndlChgrCd}
		</if>
		<if test='hndlChgrNm != null'>
	       	   , HNDL_CHGR_NM     	= #{hndlChgrNm}
		</if>
		<if test='audYr != null'>
	       	   , AUD_YR         		= #{audYr}
		</if>
		<if test='audNo != null'>
	       	   , AUD_NO          		= #{audNo}
		</if>
		<if test='dspRqSno != null'>
	       	   , DSP_RQ_SNO       	= #{dspRqSno}
		</if>
		<if test='zcd != null'>
	       	   , ZCD					= #{zcd}
		</if>
		<if test='ad != null'>
	       	   , AD					= #{ad}
		</if>
		<if test='dtlAd != null'>
	       	   , DTL_AD				= #{dtlAd}
		</if>
		<if test='hpTnb1 != null'>
	       	   , HP_TNB_1				= #{hpTnb1}
		</if>
		<if test='hpTnb2 != null'>
	       	   , HP_TNB_2				= #{hpTnb2}
		</if>
		<if test='hpTnb3 != null'>
	       	   , HP_TNB_3				= #{hpTnb3}
		</if>
		<if test='tnb1 != null'>
	       	   , TNB_1				= #{tnb1}
		</if>
		<if test='tnb2 != null'>
	       	   , TNB_2				= #{tnb2}
		</if>
		<if test='tnb3 != null'>
	       	   , TNB_3				= #{tnb3}
		</if>
		<if test='hndlChgrTnb1 != null'>
	       	   , HNDL_CHGR_TNB_1				= #{hndlChgrTnb1}
		</if>
		<if test='hndlChgrTnb2 != null'>
	       	   , HNDL_CHGR_TNB_2				= #{hndlChgrTnb2}
		</if>
		<if test='hndlChgrTnb3 != null'>
	       	   , HNDL_CHGR_TNB_3				= SUBSTR(#{hndlChgrTnb3} , -4)
		</if>
		<if test='baiDspDivCd != null'>
	       	   , BAI_DSP_DIV_CD		= #{baiDspDivCd}
		</if>
		<if test='baiDspYn != null'>
	       	   , BAI_DSP_YN		= #{baiDspYn}
		</if>
		<if test='extnRsn != null'>
	       	   , EXTN_RSN		= #{extnRsn}
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}
		</if>

		<if test='wrtansSenYn != null'>
	       	   , WRTANS_SEN_YN			= #{wrtansSenYn}
		</if>
		<if test='sttcCnt != null'>
	       	   , STTC_CNT			= #{sttcCnt}
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</update>

	<!--심사심의접수기본 update -->
	<update id="BADFRE001EJdgRvwAcpBscupdate2" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwAcpBscupdate2 */
	<![CDATA[
		UPDATE TBBADFRE012M
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
	]]>

		<if test='mgAcpYr != null'>
	       	   , MG_ACP_YR        	= #{mgAcpYr}
		</if>
		<if test='mgAcpDvsnCd != null'>
	       	   , MG_ACP_DVSN_CD       = #{mgAcpDvsnCd}
		</if>
		<if test='mgAcpSrno != null'>
	       	   , MG_ACP_SRNO          = #{mgAcpSrno}
		</if>
		<if test='mgDptCd != null'>
	       	   , MG_DPT_CD          = #{mgDptCd}
		</if>
		<if test='cvptSenAcpNo != null'>
	       	   , CVPT_SEN_ACP_NO      = #{cvptSenAcpNo}
		</if>
		<if test='acpDt != null'>
	       	   , ACP_DT        		= #{acpDt}
		</if>
		<if test='reqDt != null'>
	       	   , REQ_DT         		= #{reqDt}
		</if>
		<if test='titNm != null'>
	       	   , TIT_NM           	= #{titNm}
		</if>
		<if test='rptDt != null'>
	       	   , RPT_DT      			= #{rptDt}
		</if>
		<if test='hndlDdlnDt != null'>
	       	   , HNDL_DDLN_DT  		= #{hndlDdlnDt}
		</if>
		<if test='jdgReqDvsnCd != null'>
	       	   , JDG_REQ_DVSN_CD  	= #{jdgReqDvsnCd}
		</if>
		<if test='relAm != null'>
	       	   , REL_AM          		= #{relAm}
		</if>
		<if test='dfntCnt != null'>
	       	   , DFNT_CNT     		= #{dfntCnt}
		</if>
		<if test='orgCd != null'>
	       	   , ORG_CD           	= #{orgCd}
		</if>
		<if test='orgNm != null'>
	       	   , ORG_NM           	= #{orgNm}
		</if>
		<if test='reqrNm != null'>
	       	   , REQR_NM       		= #{reqrNm}
		</if>
		<if test='agtNm != null'>
	       	   , AGT_NM         		= #{agtNm}
		</if>
		<if test='psnCrpDvsnCd != null'>
	       	   , PSN_CRP_DVSN_CD  	= #{psnCrpDvsnCd}
		</if>
		<if test='ein != null'>
	       	   , EIN   			= #{ein}
		</if>
		<if test='isuTxt != null'>
	       	   , ISU_TXT          	= #{isuTxt}
		</if>
		<if test='hndlChgrCd != null'>
	       	   , HNDL_CHGR_CD          	= #{hndlChgrCd}
		</if>
		<if test='hndlChgrNm != null'>
	       	   , HNDL_CHGR_NM     	= #{hndlChgrNm}
		</if>
		<if test='audYr != null'>
	       	   , AUD_YR         		= #{audYr}
		</if>
		<if test='audNo != null'>
	       	   , AUD_NO          		= #{audNo}
		</if>
		<if test='dspRqSno != null'>
	       	   , DSP_RQ_SNO       	= #{dspRqSno}
		</if>
		<if test='zcd != null'>
	       	   , ZCD					= #{zcd}
		</if>
		<if test='ad != null'>
	       	   , AD					= #{ad}
		</if>
		<if test='dtlAd != null'>
	       	   , DTL_AD				= #{dtlAd}
		</if>
		<if test='hpTnb1 != null'>
	       	   , HP_TNB_1				= #{hpTnb1}
		</if>
		<if test='hpTnb2 != null'>
	       	   , HP_TNB_2				= #{hpTnb2}
		</if>
		<if test='hpTnb3 != null'>
	       	   , HP_TNB_3				= #{hpTnb3}
		</if>
		<if test='tnb1 != null'>
	       	   , TNB_1				= #{tnb1}
		</if>
		<if test='tnb2 != null'>
	       	   , TNB_2				= #{tnb2}
		</if>
		<if test='tnb3 != null'>
	       	   , TNB_3				= #{tnb3}
		</if>
		<if test='hndlChgrTnb1 != null'>
	       	   , HNDL_CHGR_TNB_1				= #{hndlChgrTnb1}
		</if>
		<if test='hndlChgrTnb2 != null'>
	       	   , HNDL_CHGR_TNB_2				= #{hndlChgrTnb2}
		</if>
		<if test='hndlChgrTnb3 != null'>
	       	   , HNDL_CHGR_TNB_3				= SUBSTR(#{hndlChgrTnb3} , -4)
		</if>
		<if test='baiDspDivCd != null'>
	       	   , BAI_DSP_DIV_CD		= #{baiDspDivCd}
		</if>
		<if test='baiDspYn != null'>
	       	   , BAI_DSP_YN		= #{baiDspYn}
		</if>
		<if test='extnRsn != null'>
	       	   , EXTN_RSN		= #{extnRsn}
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}
		</if>

		<if test='wrtansSenYn != null'>
	       	   , WRTANS_SEN_YN			= #{wrtansSenYn}
		</if>
		<if test='sttcCnt != null'>
	       	   , STTC_CNT			= #{sttcCnt}
		</if>
		<if test='acpHndlStaCd != null'>
		       , ACP_HNDL_STA_CD 	= #{acpHndlStaCd}
		</if>
		<if test='chgDptCd != null'>
		       , DPT_CD 	= #{chgDptCd}
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</update>
	
	<!--심사심의결재상세 update -->
	<update id="BADFRE001EJdgRvwApvDtlupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwApvDtlupdate */
	<![CDATA[
		UPDATE TBBADFRE012D
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
	]]>
		<if test='cmtChfCmtrNm != null'>
	       	   , CMT_CHF_CMTR_NM   	= #{cmtChfCmtrNm}			/*위원회주심위원명*/
		</if>
		<if test='jdgRvwHndlDvsnCd != null'>
	       	   , JDG_RVW_HNDL_DVSN_CD = #{jdgRvwHndlDvsnCd}	/*심사심의처리구분코드*/
		</if>
		<if test='vtKndCd != null'>
	       	   , VT_KND_CD        	= #{vtKndCd}               /*의결종류코드*/
		</if>
		<if test='sbcnNo != null'>
	       	   , SBCN_NO          	= #{sbcnNo}         		/*부의번호*/
		</if>
		<if test='sbcnNbc != null'>
	       	   , SBCN_NBC        		= #{sbcnNbc}         		/*부의횟수*/
		</if>
		<if test='sbcnDt != null'>
	       	   , SBCN_DT        		= #{sbcnDt}         		/*부의일*/
		</if>
		<if test='dcsDt != null'>
	       	   , DCS_DT        		= #{dcsDt}         			/*결정일*/
		</if>
		<if test='dcsSbj != null'>
	       	   , DCS_SBJ        		= #{dcsSbj}         		/*결정사항*/
		</if>
		<if test='amitAm != null'>
	       	   , AMIT_AM         		= #{amitAm}         		/*용인금액*/
		</if>
		<if test='dcsYr != null'>
	       	   , DCS_YR        		= #{dcsYr}         			/*결정년도*/
		</if>
		<if test='dcsDvsnCd != null'>
	       	   , DCS_DVSN_CD        	= #{dcsDvsnCd}         	/*결정구분코드*/
		</if>
		<if test='dcsNo != null'>
	       	   , DCS_NO		     	= #{dcsNo}         			/*결정번호*/
		</if>
		<if test='dcsDocNoc != null'>
	       	   , DCS_DOC_NOC		= #{dcsDocNoc}
		</if>
		<if test='dvchfApvDt != null'>
	       	   , DVCHF_APV_DT 		= #{dvchfApvDt}        	/*과장결재일*/
		</if>
		<if test='ddgApvDt != null'>
	       	   , DDG_APV_DT 			= #{ddgApvDt}         		/*심의관결재일*/
		</if>
		<if test='bruchfApvDt != null'>
	       	   , BRUCHF_APV_DT 		= #{bruchfApvDt}       	/*국장결재일*/
		</if>
		<if test='owPsdApvDt != null'>
	       	   , OW_PSD_APV_DT 		= #{owPsdApvDt}       	/*사무총장결재일*/
		</if>
		<if test='ledgApvDt != null'>
	       	   , LEDG_APV_DT 			= #{ledgApvDt}         	/*원장결재일*/
		</if>
		<if test='cmtrApvDt != null'>
	       	   , CMTR_APV_DT 			= #{cmtrApvDt}         	/*위원결재일*/
		</if>
		<if test='rmkSbj != null'>
	       	   , RMK_SBJ          		= #{rmkSbj}         			/*비고*/
		</if>
		<if test='docId != null'>
	       	   , DOC_ID     			= #{docId}         			/*문서ID*/
		</if>
		<if test='docTypCd != null'>
	       	   , DOC_TYP_CD			= #{docTypCd}				/*문서유형코드*/
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}				/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}			/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}				/*최종메뉴ID*/
		</if>
		<if test='chgDptCd != null'>
		       , DPT_CD 	= #{chgDptCd}
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</update>

	<!--심사심의처리상세 update -->
	<update id="BADFRE001EJdgRvwHndlupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwHndlupdate */
	<![CDATA[
		UPDATE TBBADFRE013D
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
	]]>
		<if test='enfDt != null'>
				, ENF_DT          	= #{enfDt}
		</if>
		<if test='enfmDt != null'>
				, ENFM_DT          	= #{enfmDt}
		</if>
		<if test='enfmTxt != null'>
				, ENFM_TXT          	= #{enfmTxt}
		</if>
		<if test='lwsInstDt != null'>
				, LWS_INST_DT          	= #{lwsInstDt}
		</if>
		<if test='judgDt != null'>
				, JUDG_DT          	= #{judgDt}
		</if>
		<if test='judgTxt != null'>
				, JUDG_TXT          	= #{judgTxt}
		</if>

		<if test='dfDt != null'>
	       	   , DF_DT          	= #{dfDt}       	/*보류일*/
		</if>
		<if test='rlsDt != null'>
	       	   , RLS_DT         	= #{rlsDt}      	/*해제일*/
		</if>
		<if test='unHndlRsn != null'>
	       	   , UN_HNDL_RSN    	= #{unHndlRsn} 	/*미처리사유*/
		</if>
		<if test='hndlPlnTxt != null'>
	       	   , HNDL_PLN_TXT   	= #{hndlPlnTxt}    /*처리계획내용*/
		</if>
		<if test='odocNo != null'>
	       	   , ODOC_NO        	= #{odocNo}         /*공문서번호*/
		</if>


		<if test='lwsYo != null'>
	       	   , LWS_YO        	= #{lwsYo}            /* 소송유무 - 2015.05.26 yyh */
		</if>

		<if test='frtrlCtNm != null'>
	       	   , FRTRL_CT_NM      = #{frtrlCtNm}       /* 1심법원명 - 2015.05.26 yyh */
		</if>

		<if test='frtrlEvtNoTxt != null'>
	       	   , FRTRL_EVT_NO_TXT = #{frtrlEvtNoTxt}  /* 1심사건번호 - 2015.05.26 yyh */
		</if>

		<if test='fnlRsltTxt != null'>
	       	   , FNL_RSLT_TXT     = #{fnlRsltTxt}      /* 종국결과 - 2015.05.26 yyh */
		</if>


		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}				/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}			/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}				/*최종메뉴ID*/
		</if>
		<if test='chgDptCd != null'>
		       , DPT_CD 	= #{chgDptCd}
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}

	</update>



	<!--심사심의접수기본 delete-->
	<delete id="BADFRE001EJdgRvwAcpBscdelete" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwAcpBscdelete */
		DELETE
		  FROM TBBADFRE012M
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</delete>

	<!--심사심의결재상세 delete -->
	<delete id="BADFRE001EJdgRvwApvDtldelete" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwApvDtldelete */
		DELETE
		  FROM TBBADFRE012D
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</delete>

	<!--심사심의처리상세 delete -->
	<delete id="BADFRE001EJdgRvwHndldelete" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwHndldelete */
		DELETE
		  FROM TBBADFRE013D
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
	</delete>



	<!--심사심의결재상세 update 심사청구관리 목록에서의 update-->
	<update id="BADFRE001EJdgRvwApvDtlListupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwApvDtlListupdate */
	<![CDATA[
		UPDATE TBBADFRE012D
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
	]]>
		<if test='cmtChfCmtrNm != null'>
	       	   , CMT_CHF_CMTR_NM   	= #{cmtChfCmtrNm}			/*위원회주심위원명*/
		</if>
		<if test='jdgRvwHndlDvsnCd != null'>
	       	   , JDG_RVW_HNDL_DVSN_CD = #{jdgRvwHndlDvsnCd}	/*심사심의처리구분코드*/
		</if>
		<if test='vtKndCd != null'>
	       	   , VT_KND_CD        	= #{vtKndCd}               /*의결종류코드*/
		</if>
		<if test='sbcnDt != null'>
	       	   , SBCN_DT        		= #{sbcnDt}         		/*부의일*/
		</if>
		<if test='dcsDt != null'>
	       	   , DCS_DT        		= #{dcsDt}         			/*결정일*/
		</if>
		<if test='dcsSbj != null'>
	       	   , DCS_SBJ        		= #{dcsSbj}         		/*결정사항*/
		</if>
		<if test='amitAm != null'>
	       	   , AMIT_AM         		= #{amitAm}         		/*용인금액*/
		</if>
		<if test='dcsYr != null'>
	       	   , DCS_YR        		= #{dcsYr}         			/*결정년도*/
		</if>
		<if test='dcsDvsnCd != null'>
	       	   , DCS_DVSN_CD        	= #{dcsDvsnCd}         	/*결정구분코드*/
		</if>
		<if test='dcsNo != null'>
	       	   , DCS_NO		     	= #{dcsNo}         			/*결정번호*/
		</if>
		<if test='dvchfApvDt != null'>
	       	   , DVCHF_APV_DT 		= #{dvchfApvDt}        	/*과장결재일*/
		</if>
		<if test='ddgApvDt != null'>
	       	   , DDG_APV_DT 			= #{ddgApvDt}         		/*심의관결재일*/
		</if>
		<if test='bruchfApvDt != null'>
	       	   , BRUCHF_APV_DT 		= #{bruchfApvDt}       	/*국장결재일*/
		</if>
		<if test='owPsdApvDt != null'>
	       	   , OW_PSD_APV_DT 		= #{owPsdApvDt}       	/*사무총장결재일*/
		</if>
		<if test='ledgApvDt != null'>
	       	   , LEDG_APV_DT 			= #{ledgApvDt}         	/*원장결재일*/
		</if>
		<if test='cmtrApvDt != null'>
	       	   , CMTR_APV_DT 			= #{cmtrApvDt}         	/*위원결재일*/
		</if>
		<if test='rmkSbj != null'>
	       	   , RMK_SBJ          		= #{rmkSbj}         			/*비고*/
		</if>
		<if test='docId != null'>
	       	   , DOC_ID     			= #{docId}         			/*문서ID*/
		</if>
		<if test='docTypCd != null'>
	       	   , DOC_TYP_CD			= #{docTypCd}				/*문서유형코드*/
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}				/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}			/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}				/*최종메뉴ID*/
		</if>
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
		   AND DPT_CD		= #{dptCd}
	</update>


 	<!--재심의심사청구 접수일 조회-->
	<select id="BADFRE019EAcpDtselect" parameterType="paramMap" resultType="String">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAcpDtselect */
		<![CDATA[
			SELECT ACP_DT
			  FROM TBBADFRE012M
			 WHERE 1=1
		]]>
		<if test='acpYr != null and acpYr != ""'>
			   AND ACP_YR = #{acpYr}
		</if>
		<if test='acpDvsnCd != null and acpDvsnCd != ""'>
			   AND ACP_YR = #{acpDvsnCd}
		</if>
		<if test='acpSrno != null and acpSrno != ""'>
			   AND ACP_YR = #{acpSrno}
		</if>
	</select>

	<!--재심의심사청구 주소출력 조회-->
	<select id="BADFRE019EAdselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAdselect */
		<![CDATA[
			SELECT ZCD                    AS ZCD		/*우편번호*/
			     , TRIM(AD)               AS AD			/*주소*/
			     , NVL(TRIM(DTL_AD), ' ') AS DTL_AD		/*상세주소*/
			     , NVL(TRIM(REQR_NM),' ') AS REQR_NM 	/*청구인명*/
			  FROM TBBADFRE012M
			 WHERE 1=1
			 AND (AD <> ''
				  OR AD <> ' '
				  OR AD IS NOT NULL)
		]]>
		<if test='acpYr != null and acpYr != ""'>
			   AND ACP_YR = #{acpYr}
		</if>
		<if test='acpDvsnCd != null and acpDvsnCd != ""'>
			   AND ACP_DVSN_CD = #{acpDvsnCd}
		</if>
		<if test='dptCd != null and dptCd != ""'>
			   AND DPT_CD = #{dptCd}
		</if>

		<if test='srnoArr != null and srnoArr != ""'>
			AND ACP_SRNO IN
			 <foreach item="item" index="index" collection="srnoArr" open="(" close=")" separator=",">
		            #{item}
		    </foreach>
		</if>
	</select>


	<!--심사심의 병합취소 update -->
	<update id="BADFRE001EJdgRvwMgCnlupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EJdgRvwMgCnlupdate */
	<![CDATA[
		UPDATE TBBADFRE012M
   		   SET FNL_MDF_DH      	= SYSDATE				/*최종수정일시*/
			 , MG_ACP_YR        = ''
			 , MG_ACP_DVSN_CD   = ''
			 , MG_ACP_SRNO      = ''
			 , MG_DPT_CD		= ''
	]]>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}				/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}			/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}				/*최종메뉴ID*/
		</if>

		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
		   AND DPT_CD		= #{dptCd}
	</update>


	<!--재심의심사청구 SMS 조회-->
	<select id="BADFRE019ESmsselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ESmsselect */
		<![CDATA[
			SELECT ACP_YR		/*접수년도*/
			     , ACP_DVSN_CD  /*접수구분코드*/
			     , DECODE(ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') AS ACP_DVSN_NM	/*접수구분*/
			     , ACP_SRNO	 	/*접수일련번호*/
			     , REQR_NM 		/*청구인명*/
			     , HP_TNB_1 || '-' || HP_TNB_2 || '-' || HP_TNB_3 AS CALL_TO
			     , CASE WHEN HNDL_CHGR_TNB_1 IS NULL OR HNDL_CHGR_TNB_2 IS NULL OR HNDL_CHGR_TNB_3 IS NULL THEN '02-2011-2114'
			       ELSE HNDL_CHGR_TNB_1 || '-' || HNDL_CHGR_TNB_2 || '-' || HNDL_CHGR_TNB_3
			       END AS CALL_FROM
			     , ACP_YR || '-' || DECODE(ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') || '-' || ACP_SRNO AS ACP_NO /*접수번호*/
			     , CVPT_SEN_ACP_NO
			     , DPT_CD
			  FROM TBBADFRE012M
			 WHERE 1=1
		]]>
		<if test='acpYr != null and acpYr != ""'>
			   AND ACP_YR = #{acpYr}
		</if>
		<if test='acpDvsnCd != null and acpDvsnCd != ""'>
			   AND ACP_DVSN_CD = #{acpDvsnCd}
		</if>
		<if test='acpSrno != null and acpSrno != ""'>
			   AND ACP_SRNO = #{acpSrno}
		</if>
	</select>

	<!--심사심의접수기본 sms data update -->
	<update id="BADFRE019EJdgRvwSmsupdate" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EJdgRvwSmsupdate */
	<![CDATA[
		UPDATE TBBADFRE012M
   		   SET FNL_MDF_DH      		  = SYSDATE				/*최종수정일시*/
   		     , ACP_NO_SMS_SEN_YN      = 'Y'
   		     , ACP_NO_SMS_SEN_DH      = SYSDATE
   		     , DPT_CD				  = #{dptCd}
	]]>
		<if test='cvptSenAcpNo != null'>
	       	   , CVPT_SEN_ACP_NO      = #{cvptSenAcpNo}			/*민원발송접수번호*/
		</if>
		<if test='fnlUsrId != null'>
	       	   , FNL_USR_ID   		= #{fnlUsrId}				/*최종사용자ID*/
		</if>
		<if test='fnlDealDptCd != null'>
	       	   , FNL_DEAL_DPT_CD		= #{fnlDealDptCd}			/*최종거래부서코드*/
		</if>
		<if test='fnlMnuId != null'>
	       	   , FNL_MNU_ID			= #{fnlMnuId}				/*최종메뉴ID*/
		</if>

		 WHERE 1=1
		   AND ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO 	= #{acpSrno}
		   AND DPT_CD 		= #{dptCd}
	</update>

	<!--MMS CONT_SEQ 조회-->
	<select id="BADFRE019EMmsselect" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EMmsselect */
		<![CDATA[
			SELECT MMS_CONTENTS_INFO_SEQ.NEXTVAL AS MAX_CNT FROM DUAL
		]]>
	</select>

	<!--MMS 정보 insert -->
	<insert id="BADFRE019EMmsinsert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EMmsinsert */
		INSERT
		  INTO MMS_CONTENTS_INFO
		     ( CONT_SEQ
		     , FILE_CNT
		     , BUILD_YN
		     , MMS_BODY
		     , MMS_SUBJECT
		     )
		VALUES
		     ( #{maxCnt}
		     , 1
		     , 'N'
		     , #{smsTxt}
		     , '재심의 심사청구 접수'
			  )
	</insert>


	<!--SMS 전송 insert -->
	<insert id="BADFRE019ESmsinsert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ESmsinsert */
		INSERT
		  INTO MSG_DATA
		     ( MSG_SEQ	/*메시지의 고유번호*/
		     , CUR_STATE /*상태 값(발송요청:0, 전송 중:1, 전송:2, 결과수신:3)*/
		     , REQ_DATE /*즉시전송 및 예약 일시*/
		     , CALL_TO /*수신번호*/
		     , CALL_FROM /*발신번호*/
		     , MSG_TYPE /*메시지의 TYPE(4: SMS 전송 ,5: URL 전송 ,6: MMS전송)*/
		     , CONT_SEQ /* MMS 메시지 테이블과 연결되는 키 */
		     )
		VALUES
		     ( MSG_DATA_SEQ.NEXTVAL
		     , 0
		     , SYSDATE
		     , REPLACE(#{callTo} ,'-','')
		     , REPLACE(#{callFrom} ,'-','')
		     , 6
		     , #{maxCnt})
	</insert>


	<select id="BADFRE019EchkCvptSenAcpNo" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EchkCvptSenAcpNo */
		<![CDATA[
			SELECT COUNT(1) AS CHK_CNT
			  FROM TBBADFRE012M
			 WHERE 1=1
			   AND CVPT_SEN_ACP_NO = #{cvptSenAcpNo}
		]]>
	</select>


	<select id="BADFRE019EDptList" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EDptList */
	<![CDATA[
		SELECT DPT_CD
		      ,DPT_NM
		      ,HIRK_DPT_CD
		  FROM TBDCMACM002M
		 WHERE 1=1
		   AND USE_YN = 'Y'
	]]>
	</select>

	<select id="BADFRE019ENewDptList" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ENewDptList */
	<![CDATA[
		SELECT DPT_CD
		      ,DPT_NM
		      ,HIRK_DPT_CD
		  FROM TBDCMACM002M
		 WHERE 1=1
		   AND DPT_CD IN ('170300','170320','170330','160250')
		   AND USE_YN = 'Y'
		]]>
		<if test='acpDvsnCd == "1"'>
			 UNION ALL
		SELECT DPT_CD
		      ,DPT_NM
		      ,HIRK_DPT_CD
		  FROM TBDCMACM002M
		 WHERE 1=1
		   AND DPT_CD IN (SELECT DISTINCT(DPT_CD)
		                    FROM TBDCMACM001M
		                   WHERE TAST_FORCE_BLT_YN = 'Y')
		   AND USE_YN = 'Y'
		</if>   
	</select>


	<select id="BADFRE019ETempleat1select" parameterType="paramMap" resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ETempleat1select */
		<![CDATA[
			SELECT D1.ACP_YR
			     , CASE WHEN F_CODE_NM('1000045', D1.VT_KND_CD) LIKE '인용%' THEN '인용'
			            ELSE F_CODE_NM('1000045', D1.VT_KND_CD) END AS VT_KND_NM
			     , CASE WHEN F_CODE_NM('1000045', D1.VT_KND_CD) LIKE '인용%' THEN '('||REPLACE(F_CODE_NM('1000045', D1.VT_KND_CD), '인용-', '')||')'
			            ELSE '' END AS VT_KND_NM_SUB
			     , D1.ACP_SRNO
			     , REPLACE(D1.REQR_NM,'(주)','㈜') AS REQR_NM
			     , NVL(D1.ORG_NM, F_ORG_INFO(D1.ORG_CD, '1')) AS ORG_NM
			     , D1.ACP_YR||'-'||CASE WHEN D1.JDG_REQ_DVSN_CD IS NOT NULL AND D1.JDG_REQ_DVSN_CD IN ('40', '41', '42', '43', '49') THEN '재심'
			                            ELSE DECODE(SUBSTR(D1.JDG_REQ_DVSN_CD, 1, 1), '1', '국', '2', '지', '3', '기') END ||' '||D1.JDG_REQ_DVSN_SRNO AS AFTER_NO
			     , DECODE(D1.ACP_DVSN_CD,'1','심사','2','재심','3','재심판정') AS ACP_DVSN_CD_NM
			  FROM TBBADFRE012M D1
		]]>
		<if test='tmpKey != null and tmpKey != ""'>
			WHERE D1.ACP_YR||D1.ACP_DVSN_CD||D1.ACP_SRNO IN
			<foreach item="item" index="index" collection="tmpKey" open="(" close=")" separator=",">
	            #{item}
		    </foreach>
		</if>
	</select>

	<!-- 부서 과 리스트 조회 -->
	<select id="BADFRE019EAllDeptSectSelect" parameterType="paramMap"
		resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAllDeptSectSelect */
        <![CDATA[
			SELECT DPT_CD, DPT_NM
			  FROM TBDCMACM002M
			 WHERE 1=1
			   AND USE_YN = 'Y'
        ]]>
	</select>

	<!-- 담당자 리스트 조회 -->
	<select id="BADFRE019EAllChgrSelect" parameterType="paramMap"
		resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EAllChgrSelect */
        <![CDATA[
			SELECT USR_ID, USR_NAM
			  FROM TBDCMACM001M
			 WHERE 1 = 1
			 AND DPT_CD IN ('170300','170320','170330','160250')
        ]]>
	</select>


	<!-- 주심위원 리스트 조회 -->
	<select id="BADFRE019EChiefCommissionersList" parameterType="paramMap"
		resultType="egovMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019EChiefCommissionersList */
        <![CDATA[
			SELECT CNB, USR_ID, USR_NAM
			  FROM TBDCMACM001M
			 WHERE PST_CD ='0010600'
			   AND WOK_DVSN_CD = 'AAA'
        ]]>
	</select>

	<insert id="BADFRE019ESENDREQ001Insert" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE019ESENDREQ001Insert */
		<![CDATA[
			INSERT INTO	EH_JDG_REQ_001
					(	IF_SEQ
						,IF_TYPE
						,ACP_YR
						,ACP_DVSN_CD
						,ACP_SRNO
						,DPT_CD
						,ACP_DT
						,CVPT_SEN_ACP_NO
						,HNDL_CHGR_NM
						,REQR_NM
						,AGT_NM
						,PRSS_STT
						,HNDL_CHGR_TNB_1
						,HNDL_CHGR_TNB_2
						,HNDL_CHGR_TNB_3
						,ORG_CD2
						,ORG_NM
						,AD
						,DTL_AD
						,TIT_NM
						,DPT_NM
						,FRT_USR_ID
					)
			VALUES	(	#{ifSeq}
						,'SND'
						,#{acpYr}
						,#{acpDvsnCd}
						,#{acpSrno}
						,#{dptCd}
						,#{acpDt}
						,#{cvptSenAcpNo}
						,#{hndlChgrNm}
						,#{reqrNm}
						,#{agtNm}
						,#{prssStt}
						,#{hndlChgrTnb1}
						,#{hndlChgrTnb2}
						,SUBSTR(#{hndlChgrTnb3} , -4)
						,#{orgCd}
						,#{orgNm}
						,#{ad}
						,#{dtlAd}
						,#{titNm}
						,#{dptNm}
						,#{frtUsrId}
					)
		]]>
	</insert>


	<update id="BADFRE001EChngDptCd1" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EChngDptCd1 */
		UPDATE TBBADFRE012M
		   SET DPT_CD       = #{chngDptCd}
		      ,FNL_MNU_ID   = 'DPT|' || DPT_CD
		      ,FNL_MDF_DH   = SYSDATE
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
		   AND DPT_CD		= #{dptCd}
	</update>

	<update id="BADFRE001EChngDptCd2" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EChngDptCd2 */
		UPDATE TBBADFRE012D
		   SET DPT_CD       = #{chngDptCd}
		      ,FNL_MNU_ID   = 'DPT|' || DPT_CD
		      ,FNL_MDF_DH   = SYSDATE
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
		   AND DPT_CD		= #{dptCd}
	</update>

	<update id="BADFRE001EChngDptCd3" parameterType="paramMap">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE001EChngDptCd3 */
		UPDATE TBBADFRE013D
		   SET DPT_CD       = #{chngDptCd}
		      ,FNL_MNU_ID   = 'DPT|' || DPT_CD
		      ,FNL_MDF_DH   = SYSDATE
		 WHERE ACP_YR 		= #{acpYr}
		   AND ACP_DVSN_CD 	= #{acpDvsnCd}
		   AND ACP_SRNO		= #{acpSrno}
		   AND DPT_CD		= #{dptCd}
	</update>



	<select id="BADFRE012DInsertYn" parameterType="paramMap" resultType="String">
		/* kr.go.bai.eip.bad.fre.dao.BADFRE019Mapper.BADFRE012DInsertYn */
        <![CDATA[
			SELECT CASE WHEN COUNT(ACP_YR) = 0 THEN 'Y' ELSE 'N' END RESULT
			  FROM TBBADFRE012D
			 WHERE ACP_YR 		= #{acpYr}
		       AND ACP_DVSN_CD 	= #{acpDvsnCd}
		       AND ACP_SRNO		= #{acpSrno}
        ]]>
	</select>
</mapper>
