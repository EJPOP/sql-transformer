<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC " -//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper">
    
    <select id="selectLoadSttcList" parameterType="paramMap" resultType="egovMap">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.selectLoadSttcList */
        <![CDATA[
 
		WITH
			CODE_DATA AS
					(
						SELECT CD ,
				               CD_NM
				          FROM TBDCMACM013C T2
				         WHERE T2.CMM_CD_DVSN_CD = '1000946'
				           AND T2.CD <> '000000000'
				    UNION 
			            SELECT 'Q' AS CD, '미분류' AS CD_NM  FROM DUAL
			        UNION 
			            SELECT '99' AS CD, '년 합계' AS CD_NM  FROM DUAL
					)
			,DATA AS
			        (
			            SELECT  NVL(SUBSTR(T1.TG_ORG_CAT_CD, '0', '1'),'Q') AS TG_ORG_CAT_CD
			                    ,T2.CVPT_HNDL_DVSN_CD
			                    ,T1.CVPT_HNDL_STA_CD
                                ,CASE WHEN T1.CVPT_HNDL_STA_CD = '70' THEN NVL(CVPT_WDW_DH , T3.FNL_HNDL_DH )
                                ELSE T3.FNL_HNDL_DH END AS FNL_HNDL_DH
                                ,T1.ACP_DH
                                ,T1.FNL_MDF_DH
			            FROM    TBCSPDCP101M T1
			            ,(
			                SELECT	T4.REQ_DVSN_CD
			                        , T4.CVPT_ACP_NO
			                        , T4.ACP_YR
			                        , T4.CVPT_HNDL_DVSN_CD
			                FROM	TBCSPDCP205L T4
			                WHERE	( T4.REQ_DVSN_CD, T4.ACP_YR, T4.CVPT_ACP_NO, T4.SRNO )
			                        IN (
			                                SELECT	REQ_DVSN_CD, ACP_YR, CVPT_ACP_NO, MIN(SRNO)
			                                FROM	TBCSPDCP205L
			                                GROUP BY REQ_DVSN_CD, ACP_YR, CVPT_ACP_NO
			                            )
			            ) T2
			            ,TBCSPDCP201M T3
			            WHERE   1=1
			            AND     T1.REQ_DVSN_CD = T2.REQ_DVSN_CD(+)
			            AND     T1.CVPT_ACP_NO = T2.CVPT_ACP_NO(+)
			            AND     T1.ACP_YR      = T2.ACP_YR(+)
			            AND     T1.REQ_DVSN_CD = T3.REQ_DVSN_CD(+)
			            AND     T1.CVPT_ACP_NO = T3.CVPT_ACP_NO(+)
			            AND     T1.ACP_YR      = T3.ACP_YR(+)
			            AND     T1.REQ_DVSN_CD = '1'
			            AND		T1.ACP_DH IS NOT NULL
			        )

			        SELECT AUD_YR
			              ,STTC_TIT1
			              ,ROW_KND_CD
			              ,VIEW_YN
			              ,STTC_COL1
			              ,STTC_COL2			              
			              ,STTC_COL3
			              ,STTC_COL4	
			              ,STTC_COL5
			              ,STTC_COL6			              
			              ,STTC_COL7
			              ,STTC_COL8
			              ,STTC_COL9
			              ,STTC_COL10
			              ,STTC_COL11		
			              ,STTC_COL12
			              ,STTC_COL13
			              ,STTC_COL14								              			              			        
			          FROM (
			    		SELECT  TO_CHAR(SUBSTR(ADD_MONTHS(#{proStadDt}, -1),0,4))												AS AUD_YR
					         , CASE WHEN T2.CD = '99' THEN TO_CHAR(SUBSTR(ADD_MONTHS(#{proStadDt}, -1),0,4)) || T2.CD_NM
					        		ELSE  T2.CD_NM 
					        	END 																					AS STTC_TIT1
					        , T2.CD 																					AS ROW_KND_CD
					        , 'Y' 																						AS VIEW_YN
					        , NVL(T1.CNT,0)																			AS STTC_COL1
					        , NVL(T1.CNTALL,0) 																			AS STTC_COL2
					        , NVL(T1.CNT3,0) 																			AS STTC_COL3
					        , NVL(T1.CNT4,0) 																			AS STTC_COL4
					        , NVL(T1.CNT5,0) 																			AS STTC_COL5
					        , NVL(T1.CNT6,0) 																			AS STTC_COL6
					        , NVL(T1.CNT7,0) 																			AS STTC_COL7
					        , NVL(T1.CNT8,0) 																			AS STTC_COL8
					        , NVL(T1.CNT9,0) 																			AS STTC_COL9
					        , NVL(T1.CNT10,0) 																			AS STTC_COL10
					        , NVL(T1.CNT11,0) 																			AS STTC_COL11
					        , NVL(T1.CNT12,0) 																			AS STTC_COL12
					        , NVL(T1.CNT13,0) 																			AS STTC_COL13
					        , NVL(T1.CNT14,0) 																			AS STTC_COL14
					FROM    (
					            SELECT  NVL(T1.TG_ORG_CAT_CD,'99') 							AS TG_ORG_CAT_CD
					                    ,SUM(CASE WHEN TO_CHAR(T1.ACP_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                            THEN 1 ELSE 0 END )								AS CNT
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                                    AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD IN ('10','20','30','40','50','70','90','100') 
                                            THEN 1 ELSE 0 END) AS CNTALL
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '10' THEN 1 ELSE 0 END) AS CNT3
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '20' THEN 1 ELSE 0 END) AS CNT4
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '30' THEN 1 ELSE 0 END) AS CNT5
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '40' THEN 1 ELSE 0 END) AS CNT6
					                    ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '50' THEN 1 ELSE 0 END) AS CNT7
								        ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD')
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD IN ('60','80') THEN 1 ELSE 0 END) AS CNT8
								        ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '70' THEN 1 ELSE 0 END) AS CNT9
								        ,SUM(CASE WHEN CVPT_HNDL_STA_CD IN ('20','30','31','40','41','50') AND TO_CHAR(ACP_DH) <= TO_CHAR(LAST_DAY(ADD_MONTHS('20190102', -1)),'YYYYMMDD') THEN 1 ELSE 0 END) CNT10
								        ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '90' THEN 1 ELSE 0 END) AS CNT11
                                        ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '100' THEN 1 ELSE 0 END) AS CNT12
                                        ,SUM(CASE WHEN TO_CHAR(T1.FNL_MDF_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '80' THEN 1 ELSE 0 END) AS CNT13
                                            ,SUM(CASE WHEN TO_CHAR(T1.FNL_HNDL_DH,'YYYYMMDD') BETWEEN TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'0101' AND TO_CHAR(LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)),'YYYYMMDD') 
                                            AND CVPT_HNDL_STA_CD = '60' AND CVPT_HNDL_DVSN_CD = '70' THEN 1 ELSE 0 END) AS CNT14
					            FROM    DATA T1
					            GROUP BY ROLLUP(T1.TG_ORG_CAT_CD)
					        ) T1, CODE_DATA T2 
					WHERE T1.TG_ORG_CAT_CD(+) = T2.CD
					ORDER BY CASE WHEN T2.CD = '99'         THEN 1
			                 WHEN T2.CD = '가' 				THEN 2
			                 WHEN T2.CD = '나' 				THEN 8
			                 WHEN T2.CD = '다' 				THEN 4
			                 WHEN T2.CD = '라' 				THEN 3
			               	 WHEN T2.CD = '마' 				THEN 5
			                 WHEN T2.CD = '바' 				THEN 6
			                 WHEN T2.CD = '사' 				THEN 10
			                 WHEN T2.CD = '아' 				THEN 9
			                 WHEN T2.CD = '자' 				THEN 7
			                 WHEN T2.CD = '차' 				THEN 11
			                 WHEN T2.CD = '카' 				THEN 12
			                 WHEN T2.CD = '타' 				THEN 13
			                 WHEN T2.CD = '하' 				THEN 14
			              END
	)
           UNION ALL           
          	 SELECT  T2.AUD_YR
				    ,STTC_TIT1
				    ,ROW_KND_CD
                    ,'N' AS VIEW_YN
				    ,NVL(STTC_COL1,0) STTC_COL1
				    ,NVL(STTC_COL2,0) STTC_COL2
				    ,NVL(STTC_COL3,0) STTC_COL3
				    ,NVL(STTC_COL4,0) STTC_COL4
				    ,NVL(STTC_COL5,0) STTC_COL5
				    ,NVL(STTC_COL6,0) STTC_COL6
				    ,NVL(STTC_COL7,0) STTC_COL7
				    ,NVL(STTC_COL8,0) STTC_COL8
				    ,NVL(STTC_COL9,0) STTC_COL9
				    ,NVL(STTC_COL10,0) STTC_COL10
				    ,NVL(STTC_COL11,0) STTC_COL11	
				    ,NVL(STTC_COL12,0) STTC_COL12
				    ,NVL(STTC_COL13,0) STTC_COL13
				    ,NVL(STTC_COL14,0) STTC_COL14											    	
              FROM TWFAACAV200M T1
             INNER JOIN TWFAACAV200D T2 ON (
                        T1.STTC_TYP_CD = T2.STTC_TYP_CD
                    AND T1.STTC_CLSF_CD = T2.STTC_CLSF_CD
                    AND T1.STTC_TYP_SEQ = T2.STTC_TYP_SEQ )
			 WHERE T1.STTC_CLSF_CD = '027'
				               AND T2.STTC_TYP_SEQ = (SELECT MAX(T3.STTC_TYP_SEQ) 
														FROM TWFAACAV200M T3
													   WHERE T3.STTC_CLSF_CD = '027' 
													     AND T3.STTC_DTM_DY IS NOT NULL)
							   AND T2.AUD_YR BETWEEN SUBSTR(ADD_MONTHS(#{proStadDt}, -13),0,4) AND SUBSTR(ADD_MONTHS(#{proStadDt},-13),0,4)	 
	              		ORDER BY AUD_YR DESC, ROW_KND_CD 
													               
        ]]>
    </select>
    
    <select id="selectComboList" parameterType="paramMap" resultType="egovMap">
        <![CDATA[
        /* kr.go.bai.eip.aep.arp.dao.FAACAV027QMapper.selectAffComboList */
            SELECT STTC_TYP_SEQ AS CD,
                   STTC_YR || '년 ' || STTC_STR_MON || '월' || DECODE(STTC_END_MON, '01', '', ' ~ ' || STTC_END_MON || '월') AS CD_NM
              FROM TWFAACAV200M 
             WHERE STTC_TYP_CD = '10'
               AND STTC_CLSF_CD = '027'
        ]]>
        <if test='mngDptYn != "Y"'>
               AND STTC_DTM_DY IS NOT NULL
        </if>
        <![CDATA[
        	ORDER BY STTC_TYP_SEQ DESC
        ]]>
    </select>
    
    <select id="selectSttcList" parameterType="paramMap" resultType="egovMap">
        <![CDATA[
        /* kr.go.bai.eip.aep.arp.dao.FAACAV027QMapper.selectSttcList */
            SELECT T1.RMK
                  ,T1.ADM_OPIN
                  ,TO_CHAR(T1.STTC_PROD_STAD_DY,'YYYY-MM-DD') AS STTC_PROD_STAD_DY
                  ,CASE WHEN T1.STTC_DTM_DY IS NULL THEN 'N'
                        ELSE 'Y'
                   END AS STTC_DTM_YN
                  ,T2.STTC_TYP_CD
                  ,T2.STTC_CLSF_CD
                  ,T2.STTC_TYP_SEQ
                  ,T2.STTC_DATA_SNO
                  ,T2.STTC_TIT1
                  ,NVL(T2.STTC_COL1,0) AS STTC_COL1
                  ,NVL(T2.STTC_COL2,0) AS STTC_COL2
                  ,NVL(T2.STTC_COL3,0) AS STTC_COL3
                  ,NVL(T2.STTC_COL4,0) AS STTC_COL4
                  ,NVL(T2.STTC_COL5,0) AS STTC_COL5
                  ,NVL(T2.STTC_COL6,0) AS STTC_COL6
                  ,NVL(T2.STTC_COL7,0) AS STTC_COL7
                  ,NVL(T2.STTC_COL8,0) AS STTC_COL8
                  ,NVL(T2.STTC_COL9,0) AS STTC_COL9
                  ,NVL(T2.STTC_COL10,0) AS STTC_COL10
                  ,NVL(T2.STTC_COL11,0) AS STTC_COL11
                  ,NVL(T2.STTC_COL12,0) AS STTC_COL12
                  ,NVL(T2.STTC_COL13,0) AS STTC_COL13
                  ,NVL(T2.STTC_COL14,0) AS STTC_COL14
                  ,CASE WHEN T1.STTC_YR != T2.AUD_YR THEN 'N'
                       ELSE 'Y'                        
                   END VIEW_YN
                  ,T2.AUD_YR
                  ,T2.ROW_KND_CD
                  ,NVL(TO_CHAR(T1.STTC_DTM_DY,'YYYY"-"MM"-"DD'),'미확정') AS STTC_DTM_DY
              FROM TWFAACAV200M T1
             INNER JOIN TWFAACAV200D T2 ON (
                        T1.STTC_TYP_CD = T2.STTC_TYP_CD
                    AND T1.STTC_CLSF_CD = T2.STTC_CLSF_CD
                    AND T1.STTC_TYP_SEQ = T2.STTC_TYP_SEQ )
             WHERE T1.STTC_CLSF_CD = '027'
               AND T1.STTC_TYP_SEQ = #{sttcTypSeq}
             ORDER BY STTC_DATA_SNO
        ]]>
    </select>
    
    <insert id="insertMaster">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.insertMaster */
        <![CDATA[
            INSERT INTO TWFAACAV200M (
                 STTC_TYP_CD
                ,STTC_CLSF_CD
                ,STTC_TYP_SEQ
                ,STTC_YR
                ,STTC_STR_MON
                ,STTC_END_MON
                ,STTC_PROD_STAD_DY
                ,STTC_DTM_DY
                ,RMK
                ,ADM_OPIN
                ,FRT_USR_ID
                ,FNL_USR_ID
                ,FNL_DEAL_DPT_CD
                ,FNL_MNU_ID
                ,FRT_REGI_DH
                ,FNL_MDF_DH )
            VALUES (
                 '10'
                ,'027'
                ,( SELECT NVL(MAX(STTC_TYP_SEQ), 0) + 1
                     FROM TWFAACAV200M
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '027' )
                ,SUBSTR(ADD_MONTHS(#{proStadDt}, -1), 0, 4)
                ,'01'
                ,TO_CHAR(TO_DATE(ADD_MONTHS(#{proStadDt}, -1)), 'MM')
                ,#{proStadDt}
                ,''
                ,#{rmk}
                ,#{admOpin}
                ,#{usrId}
                ,#{usrId}
                ,#{dptCd}
                ,#{mnuId}
                ,SYSDATE
                ,SYSDATE )
        ]]>
    </insert>
    
    <insert id="insertDetail">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.insertDetail */
        <![CDATA[
            INSERT INTO TWFAACAV200D (
                 STTC_TYP_CD
                ,STTC_CLSF_CD
                ,STTC_TYP_SEQ
                ,STTC_DATA_SNO
                ,STTC_TIT1
                ,STTC_COL1
                ,STTC_COL2
                ,STTC_COL3
                ,STTC_COL4
                ,STTC_COL5
                ,STTC_COL6
                ,STTC_COL7
                ,STTC_COL8
                ,STTC_COL9
                ,STTC_COL10
                ,STTC_COL11
                ,STTC_COL12
                ,STTC_COL13
                ,STTC_COL14
                ,AUD_YR
                ,ROW_KND_CD
                ,FRT_USR_ID
                ,FNL_USR_ID
                ,FNL_DEAL_DPT_CD
                ,FNL_MNU_ID
                ,FRT_REGI_DH
                ,FNL_MDF_DH )
            VALUES (
                 '10'
                ,'027'
                ,( SELECT NVL(MAX(STTC_TYP_SEQ), 0)
                     FROM TWFAACAV200M
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '027' )
                ,( SELECT NVL(MAX(STTC_DATA_SNO), 0) + 1
                     FROM TWFAACAV200D
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '027' 
                      AND STTC_TYP_SEQ = ( SELECT NVL(MAX(STTC_TYP_SEQ), 0)
                                             FROM TWFAACAV200M
                                            WHERE STTC_TYP_CD = '10'
                                              AND STTC_CLSF_CD = '027' ))
                ,#{sttcTit1}
                ,#{sttcCol1}
                ,#{sttcCol2}
                ,#{sttcCol3}
                ,#{sttcCol4}
                ,#{sttcCol5}
                ,#{sttcCol6}
                ,#{sttcCol7}
                ,#{sttcCol8}
                ,#{sttcCol9}
                ,#{sttcCol10}
                ,#{sttcCol11}
                ,#{sttcCol12}
                ,#{sttcCol13}
                ,#{sttcCol14}
                ,#{audYr}
                ,#{rowKndCd}
                ,#{usrId}
                ,#{usrId}
                ,#{dptCd}
                ,#{mnuId}
                ,SYSDATE
                ,SYSDATE )
        ]]>
    </insert>
    
    <insert id="updateMaster">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.updateMaster */
        <![CDATA[
            UPDATE TWFAACAV200M
               SET RMK = #{rmk}
                  ,ADM_OPIN = #{admOpin}
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
        ]]>
    </insert>
    
    <insert id="updateDetail">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.updateDetail */
        <![CDATA[
            UPDATE TWFAACAV200D
               SET STTC_COL1 = #{sttcCol1}
                  ,STTC_COL2 = #{sttcCol2}
                  ,STTC_COL3 = #{sttcCol3}
                  ,STTC_COL4 = #{sttcCol4}
                  ,STTC_COL5 = #{sttcCol5}
                  ,STTC_COL6 = #{sttcCol6}
                  ,STTC_COL7 = #{sttcCol7}
                  ,STTC_COL8 = #{sttcCol8}
                  ,STTC_COL9 = #{sttcCol9}
                  ,STTC_COL10 = #{sttcCol10}
                  ,STTC_COL11 = #{sttcCol11}
                  ,STTC_COL12 = #{sttcCol12}
                  ,STTC_COL13 = #{sttcCol13}
                  ,STTC_COL14 = #{sttcCol14}
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
               AND STTC_DATA_SNO = #{sttcDataSno}
        ]]>
    </insert>
    
    <insert id="updateMasterDtmDy">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV027QMapper.updateMasterDtmDy */
        <![CDATA[
            UPDATE TWFAACAV200M
               SET STTC_DTM_DY = SYSDATE
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
        ]]>
    </insert>
    
</mapper>