<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC " -//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper">
    
    <select id="selectLoadSttcList" parameterType="paramMap" resultType="egovMap">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.selectLoadSttcList */
        <![CDATA[
    SELECT AUD_YR
		,ROW_KND_CD
		,VIEW_YN
		,STTC_TIT1
		,STTC_COL1
		,STTC_COL2
		,STTC_COL3
		,STTC_COL4
		,STTC_COL5
		,STTC_COL6 
		,STTC_COL7
		,STTC_COL8
		,STTC_COL9
		,STTC_COL10
		,STTC_COL11
		,STTC_COL12
		,STTC_COL13
		,STTC_COL14
		,STTC_COL15
		,STTC_COL16    
       	FROM (
            SELECT ENF_YR AS AUD_YR
                   ,NVL(T1.HND_RQ_KND_CD, '000') AS ROW_KND_CD
                   ,CASE WHEN ENF_YR IS NULL THEN 'Y'
                         WHEN SUBSTR(ADD_MONTHS(#{proStadDt}, -1), 0, 4) - 1 > ENF_YR THEN 'N'
                         ELSE 'Y'
                    END VIEW_YN
                   ,CASE WHEN T1.HND_RQ_KND_CD IS NULL THEN ENF_YR || '년 합계'
                        WHEN T1.HND_RQ_KND_CD = '001' THEN '파면'
                        WHEN T1.HND_RQ_KND_CD = '002' THEN '해임'
                        WHEN T1.HND_RQ_KND_CD = '013' THEN '강등'
                        WHEN T1.HND_RQ_KND_CD = '003' THEN '정직'
                        WHEN T1.HND_RQ_KND_CD = '004' THEN '경징계이상'
                        WHEN T1.HND_RQ_KND_CD = '005' THEN '인사비위통보'
                    END                                                      AS STTC_TIT1
                   ,NVL(T1.C_TOT,0) + NVL(T1.A_TOT,0) + NVL(T1.B_TOT,0)      AS STTC_COL1
                   
                   ,NVL(T1.C_TOT,0)                      AS STTC_COL2
                   ,NVL(T1.C_5,0)+NVL(T1.C_1,0)+NVL(T1.C_6,0)                        AS STTC_COL3
                   ,NVL(T1.C_2,0)                        AS STTC_COL4
                   ,NVL(T1.C_3,0)                        AS STTC_COL5
                   ,NVL(T1.C_4,0)                        AS STTC_COL6        
                   
                   ,NVL(T1.A_TOT,0)                      AS STTC_COL7
                   ,NVL(T1.A_5,0)                        AS STTC_COL8
                   ,NVL(T1.A_2,0)                        AS STTC_COL9
                   ,NVL(T1.A_3,0)                        AS STTC_COL10
                   ,NVL(T1.A_4,0) +NVL(T1.A_6,0)  +NVL(T1.A_1,0)                         AS STTC_COL11
                   
                   ,NVL(T1.B_TOT,0)                      AS STTC_COL12
                   ,NVL(T1.B_1,0)+NVL(T1.B_5,0)          AS STTC_COL13
                   ,NVL(T1.B_2,0)                        AS STTC_COL14
                   ,NVL(T1.B_3,0)                        AS STTC_COL15
                   ,NVL(T1.B_4,0)                        AS STTC_COL16
              FROM (SELECT  SUBSTR(DETAIL.ENF_DT,0,4)                                                                            AS ENF_YR
                           ,DECODE(RELPSN.HND_RQ_KND_CD,'015','005',RELPSN.HND_RQ_KND_CD ) AS HND_RQ_KND_CD
    
                            /* 국가 */
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'                    THEN 1 ELSE 0 END)             AS C_TOT                     
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('01','02','03')           THEN 1 ELSE 0 END) ELSE 0 END) AS C_1                              
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('06','07')                THEN 1 ELSE 0 END) ELSE 0 END) AS C_2
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('08','09')                THEN 1 ELSE 0 END) ELSE 0 END) AS C_3
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1' 
                                     THEN (CASE WHEN RELPSN.RANK_CD BETWEEN '00' AND '09'         THEN 0 ELSE 1 END) ELSE 0 END) AS C_4
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('04','05')                THEN 1 ELSE 0 END) ELSE 0 END) AS C_5  
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '1'
                                     THEN (CASE WHEN RELPSN.RANK_CD = '00'                        THEN 1 ELSE 0 END) ELSE 0 END) AS C_6                                   
                                                    
                            /* 지방자치단체 */
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'                    THEN 1 ELSE 0 END)             AS A_TOT
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2' 
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('01','02','03','04')           THEN 1 ELSE 0 END) ELSE 0 END) AS A_1
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('06','07')                THEN 1 ELSE 0 END) ELSE 0 END) AS A_2
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('08','09')                THEN 1 ELSE 0 END) ELSE 0 END) AS A_3
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD BETWEEN '00' AND '09'         THEN 0 ELSE 1 END) ELSE 0 END) AS A_4
                           /*,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('04','05')                THEN 1 ELSE 0 END) ELSE 0 END) AS A_5  */
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD ='05'                THEN 1 ELSE 0 END) ELSE 0 END) AS A_5
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) = '2'
                                     THEN (CASE WHEN RELPSN.RANK_CD = '00'                        THEN 1 ELSE 0 END) ELSE 0 END) AS A_6                                  
                                     
    
                           /* 정부투자기관 및 기타단체 */
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL THEN 1 ELSE 0 END)  AS B_TOT
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL
                                     THEN (CASE WHEN RELPSN.RANK_CD = '61'                        THEN 1 ELSE 0 END) ELSE 0 END) AS B_1
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('64','65')                THEN 1 ELSE 0 END) ELSE 0 END) AS B_2
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL
                                     THEN (CASE WHEN RELPSN.RANK_CD = '66'                        THEN 1 ELSE 0 END) ELSE 0 END) AS B_3
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL
                                     THEN (CASE WHEN RELPSN.RANK_CD BETWEEN '61' AND '66'         THEN 0 ELSE 1 END) ELSE 0 END) AS B_4
                           ,SUM(CASE WHEN SUBSTR(MASTER.ORG_DVSN_CD,1,1) NOT IN ('1','2') OR MASTER.ORG_DVSN_CD IS NULL
                                     THEN (CASE WHEN RELPSN.RANK_CD IN ('62','63')                THEN 1 ELSE 0 END) ELSE 0 END) AS B_5                                        
                                     
                      FROM  TBBADEAR001M MASTER
                           ,TBBADEAR002D DETAIL
                           ,TBBADEAR007M RELPSN
                     WHERE 1=1
                       AND MASTER.AUD_YR        = DETAIL.AUD_YR
                       AND MASTER.AUD_NO        = DETAIL.AUD_NO
                       AND MASTER.DSP_RQ_SNO    = DETAIL.DSP_RQ_SNO
                       AND MASTER.AUD_YR        = RELPSN.AUD_YR
                       AND MASTER.AUD_NO        = RELPSN.AUD_NO
                       AND MASTER.DSP_RQ_SNO    = RELPSN.DSP_RQ_SNO
                       AND MASTER.DSP_RQ_KND_CD IN ('210','620','621','623')
                       AND DETAIL.ENF_DT        BETWEEN TO_DATE(TO_CHAR(ADD_MONTHS(#{proStadDt}, -1), 'YYYY')||'-01-01') AND LAST_DAY(ADD_MONTHS(#{proStadDt}, -1)) /* LAST_DAY 추가 - 2017.09.26 yyh*/
                       AND DETAIL.DTM_STA_CD    != '0'
                       AND RELPSN.HND_RQ_KND_CD IN ('001','002','003','004','005','013','015')
                     GROUP 
                        BY ROLLUP(SUBSTR(DETAIL.ENF_DT,0,4)
                                 ,DECODE(RELPSN.HND_RQ_KND_CD,'015','005',RELPSN.HND_RQ_KND_CD ) )
                   ) T1
             WHERE T1.ENF_YR IS NOT NULL
             ORDER BY T1.ENF_YR DESC 
                     ,CASE WHEN T1.ENF_YR        IS NULL THEN 1
                           WHEN T1.HND_RQ_KND_CD IS NULL THEN 2
                           WHEN T1.HND_RQ_KND_CD = '001' THEN 3
                           WHEN T1.HND_RQ_KND_CD = '002' THEN 4
                           WHEN T1.HND_RQ_KND_CD = '013' THEN 5
                           WHEN T1.HND_RQ_KND_CD = '003' THEN 6
                           WHEN T1.HND_RQ_KND_CD = '004' THEN 7
                           WHEN T1.HND_RQ_KND_CD = '015' THEN 8
                           WHEN T1.HND_RQ_KND_CD = '005' THEN 9
                       END)
        UNION ALL
         SELECT AUD_YR
				,ROW_KND_CD
				,VIEW_YN
				,STTC_TIT1
				,STTC_COL1
				,STTC_COL2
				,STTC_COL3
				,STTC_COL4
				,STTC_COL5
				,STTC_COL6 
				,STTC_COL7
				,STTC_COL8
				,STTC_COL9
				,STTC_COL10
				,STTC_COL11
				,STTC_COL12
				,STTC_COL13
				,STTC_COL14
				,STTC_COL15
				,STTC_COL16  
	           	FROM (
	           	SELECT T2.AUD_YR  
	           		  ,T2.ROW_KND_CD
		       	      ,CASE WHEN SUBSTR(ADD_MONTHS(#{proStadDt}, -1),6,2) = '01' 
		       	       				AND T2.AUD_YR = (SELECT TO_CHAR(MAX(T2.AUD_YR)-1) 
														FROM TWFAACAV200D T2
														WHERE T2.STTC_CLSF_CD = '013' 
														 AND T2.STTC_TYP_SEQ = (SELECT MAX(T3.STTC_TYP_SEQ) 
																					FROM TWFAACAV200M T3
																					WHERE T3.STTC_CLSF_CD = '013' 
																						AND T3.STTC_DTM_DY IS NOT NULL)) THEN 'N' 
		                  		WHEN T1.STTC_YR > T2.AUD_YR THEN 'N'
		                        ELSE 'Y'
		                   END VIEW_YN
	                  ,T2.STTC_TIT1
	                  ,T2.STTC_COL1
	                  ,T2.STTC_COL2
	                  ,T2.STTC_COL3
	                  ,T2.STTC_COL4
	                  ,T2.STTC_COL5
	                  ,T2.STTC_COL6
	                  ,T2.STTC_COL7
	                  ,T2.STTC_COL8
	                  ,T2.STTC_COL9
	                  ,T2.STTC_COL10
	                  ,T2.STTC_COL11
	                  ,T2.STTC_COL12
	                  ,T2.STTC_COL13
	                  ,T2.STTC_COL14
	                  ,T2.STTC_COL15
	                  ,T2.STTC_COL16
	              FROM TWFAACAV200M T1
	             INNER JOIN TWFAACAV200D T2 ON (
	                        T1.STTC_TYP_CD = T2.STTC_TYP_CD
	                    AND T1.STTC_CLSF_CD = T2.STTC_CLSF_CD
	                    AND T1.STTC_TYP_SEQ = T2.STTC_TYP_SEQ )
	             WHERE T1.STTC_CLSF_CD = '013'
					               AND T2.STTC_TYP_SEQ = (SELECT MAX(T3.STTC_TYP_SEQ) 
															FROM TWFAACAV200M T3
															WHERE T3.STTC_CLSF_CD = '013' 
																AND T3.STTC_DTM_DY IS NOT NULL)
							   	   AND T2.AUD_YR BETWEEN SUBSTR(ADD_MONTHS(#{proStadDt}, -37),0,4) AND SUBSTR(ADD_MONTHS(#{proStadDt},-13),0,4)
		               	ORDER BY T2.AUD_YR DESC 
		                     ,CASE WHEN T2.AUD_YR        IS NULL THEN 1
		                           WHEN T2.ROW_KND_CD IS NULL THEN 2
		                           WHEN T2.ROW_KND_CD = '000' THEN 3
		                           WHEN T2.ROW_KND_CD = '001' THEN 4
		                           WHEN T2.ROW_KND_CD = '002' THEN 5
		                           WHEN T2.ROW_KND_CD = '013' THEN 6
		                           WHEN T2.ROW_KND_CD = '003' THEN 7
		                           WHEN T2.ROW_KND_CD = '004' THEN 8
		                           WHEN T2.ROW_KND_CD = '015' THEN 9
		                           WHEN T2.ROW_KND_CD = '005' THEN 10
		                       END)
        ]]>
    </select>
    
    <select id="selectComboList" parameterType="paramMap" resultType="egovMap">
        <![CDATA[
        /* kr.go.bai.eip.aep.arp.dao.FAACAV013QMapper.selectAffComboList */
            SELECT STTC_TYP_SEQ AS CD,
                   STTC_YR || '년 ' || STTC_STR_MON || '월' || DECODE(STTC_END_MON, '01', '', ' ~ ' || STTC_END_MON || '월') AS CD_NM
              FROM TWFAACAV200M 
             WHERE STTC_TYP_CD = '10'
               AND STTC_CLSF_CD = '013'
        ]]>
        <if test='mngDptYn != "Y"'>
               AND STTC_DTM_DY IS NOT NULL
        </if>
        <![CDATA[
        	ORDER BY STTC_TYP_SEQ DESC
        ]]>
    </select>
    
    <select id="selectSttcList" parameterType="paramMap" resultType="egovMap">
        <![CDATA[
        /* kr.go.bai.eip.aep.arp.dao.FAACAV013QMapper.selectSttcList */
            SELECT T1.RMK
                  ,T1.ADM_OPIN
                  ,TO_CHAR(T1.STTC_PROD_STAD_DY,'YYYY-MM-DD') AS STTC_PROD_STAD_DY
                  ,CASE WHEN T1.STTC_DTM_DY IS NULL THEN 'N'
                        ELSE 'Y'
                   END AS STTC_DTM_YN
                  ,T2.STTC_TYP_CD
                  ,T2.STTC_CLSF_CD
                  ,T2.STTC_TYP_SEQ
                  ,T2.STTC_DATA_SNO
                  ,T2.STTC_TIT1
                  ,T2.STTC_COL1
                  ,T2.STTC_COL2
                  ,T2.STTC_COL3
                  ,T2.STTC_COL4
                  ,T2.STTC_COL5
                  ,T2.STTC_COL6
                  ,T2.STTC_COL7
                  ,T2.STTC_COL8
                  ,T2.STTC_COL9
                  ,T2.STTC_COL10
                  ,T2.STTC_COL11
                  ,T2.STTC_COL12
                  ,T2.STTC_COL13
                  ,T2.STTC_COL14
                  ,T2.STTC_COL15
                  ,T2.STTC_COL16
                  ,CASE WHEN T1.STTC_YR - 1 > T2.AUD_YR THEN 'N'
                        ELSE 'Y'
                   END VIEW_YN
                  ,T2.AUD_YR
                  ,T2.ROW_KND_CD
                  ,NVL(TO_CHAR(T1.STTC_DTM_DY,'YYYY"-"MM"-"DD'),'미확정') AS STTC_DTM_DY
              FROM TWFAACAV200M T1
             INNER JOIN TWFAACAV200D T2 ON (
                        T1.STTC_TYP_CD = T2.STTC_TYP_CD
                    AND T1.STTC_CLSF_CD = T2.STTC_CLSF_CD
                    AND T1.STTC_TYP_SEQ = T2.STTC_TYP_SEQ )
             WHERE T1.STTC_CLSF_CD = '013'
               AND T1.STTC_TYP_SEQ = #{sttcTypSeq}
             ORDER BY STTC_DATA_SNO
        ]]>
    </select>
    
    <insert id="insertMaster">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.insertMaster */
        <![CDATA[
            INSERT INTO TWFAACAV200M (
                 STTC_TYP_CD
                ,STTC_CLSF_CD
                ,STTC_TYP_SEQ
                ,STTC_YR
                ,STTC_STR_MON
                ,STTC_END_MON
                ,STTC_PROD_STAD_DY
                ,STTC_DTM_DY
                ,RMK
                ,ADM_OPIN
                ,FRT_USR_ID
                ,FNL_USR_ID
                ,FNL_DEAL_DPT_CD
                ,FNL_MNU_ID
                ,FRT_REGI_DH
                ,FNL_MDF_DH )
            VALUES (
                 '10'
                ,'013'
                ,( SELECT NVL(MAX(STTC_TYP_SEQ), 0) + 1
                     FROM TWFAACAV200M
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '013' )
                ,SUBSTR(ADD_MONTHS(#{proStadDt}, -1), 0, 4)
                ,'01'
                ,TO_CHAR(TO_DATE(ADD_MONTHS(#{proStadDt}, -1)), 'MM')
                ,#{proStadDt}
                ,''
                ,#{rmk}
                ,#{admOpin}
                ,#{usrId}
                ,#{usrId}
                ,#{dptCd}
                ,#{mnuId}
                ,SYSDATE
                ,SYSDATE )
        ]]>
    </insert>
    
    <insert id="insertDetail">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.insertDetail */
        <![CDATA[
            INSERT INTO TWFAACAV200D (
                 STTC_TYP_CD
                ,STTC_CLSF_CD
                ,STTC_TYP_SEQ
                ,STTC_DATA_SNO
                ,STTC_TIT1
                ,STTC_COL1
                ,STTC_COL2
                ,STTC_COL3
                ,STTC_COL4
                ,STTC_COL5
                ,STTC_COL6
                ,STTC_COL7
                ,STTC_COL8
                ,STTC_COL9
                ,STTC_COL10
                ,STTC_COL11
                ,STTC_COL12
                ,STTC_COL13
                ,STTC_COL14
                ,STTC_COL15
                ,STTC_COL16
                ,AUD_YR
                ,ROW_KND_CD
                ,FRT_USR_ID
                ,FNL_USR_ID
                ,FNL_DEAL_DPT_CD
                ,FNL_MNU_ID
                ,FRT_REGI_DH
                ,FNL_MDF_DH )
            VALUES (
                 '10'
                ,'013'
                ,( SELECT NVL(MAX(STTC_TYP_SEQ), 0)
                     FROM TWFAACAV200M
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '013' )
                ,( SELECT NVL(MAX(STTC_DATA_SNO), 0) + 1
                     FROM TWFAACAV200D
                    WHERE STTC_TYP_CD = '10'
                      AND STTC_CLSF_CD = '013' 
                      AND STTC_TYP_SEQ = ( SELECT NVL(MAX(STTC_TYP_SEQ), 0)
                                             FROM TWFAACAV200M
                                            WHERE STTC_TYP_CD = '10'
                                              AND STTC_CLSF_CD = '013' ))
                ,#{sttcTit1}
                ,#{sttcCol1}
                ,#{sttcCol2}
                ,#{sttcCol3}
                ,#{sttcCol4}
                ,#{sttcCol5}
                ,#{sttcCol6}
                ,#{sttcCol7}
                ,#{sttcCol8}
                ,#{sttcCol9}
                ,#{sttcCol10}
                ,#{sttcCol11}
                ,#{sttcCol12}
                ,#{sttcCol13}
                ,#{sttcCol14}
                ,#{sttcCol15}
                ,#{sttcCol16}
                ,#{audYr}
                ,#{rowKndCd}
                ,#{usrId}
                ,#{usrId}
                ,#{dptCd}
                ,#{mnuId}
                ,SYSDATE
                ,SYSDATE )
        ]]>
    </insert>
    
    <insert id="updateMaster">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.updateMaster */
        <![CDATA[
            UPDATE TWFAACAV200M
               SET RMK = #{rmk}
                  ,ADM_OPIN = #{admOpin}
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
        ]]>
    </insert>
    
    <insert id="updateDetail">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.updateDetail */
        <![CDATA[
            UPDATE TWFAACAV200D
               SET STTC_COL1 = #{sttcCol1}
                  ,STTC_COL2 = #{sttcCol2}
                  ,STTC_COL3 = #{sttcCol3}
                  ,STTC_COL4 = #{sttcCol4}
                  ,STTC_COL5 = #{sttcCol5}
                  ,STTC_COL6 = #{sttcCol6}
                  ,STTC_COL7 = #{sttcCol7}
                  ,STTC_COL8 = #{sttcCol8}
                  ,STTC_COL9 = #{sttcCol9}
                  ,STTC_COL10 = #{sttcCol10}
                  ,STTC_COL11 = #{sttcCol11}
                  ,STTC_COL12 = #{sttcCol12}
                  ,STTC_COL13 = #{sttcCol13}
                  ,STTC_COL14 = #{sttcCol14}
                  ,STTC_COL15 = #{sttcCol15}
                  ,STTC_COL16 = #{sttcCol16}
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
               AND STTC_DATA_SNO = #{sttcDataSno}
        ]]>
    </insert>
    
    <insert id="updateMasterDtmDy">
        /* kr.go.bai.eip.faa.cav.dao.FAACAV013QMapper.updateMasterDtmDy */
        <![CDATA[
            UPDATE TWFAACAV200M
               SET STTC_DTM_DY = SYSDATE
                  ,FNL_USR_ID = #{usrId}
                  ,FNL_DEAL_DPT_CD = #{dptCd}
                  ,FNL_MDF_DH = SYSDATE
             WHERE STTC_TYP_CD = #{sttcTypCd}
               AND STTC_CLSF_CD = #{sttcClsfCd}
               AND STTC_TYP_SEQ = #{sttcTypSeq}
        ]]>
    </insert>
    
</mapper>